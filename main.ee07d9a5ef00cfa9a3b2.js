(self.webpackChunkkelum_engineer=self.webpackChunkkelum_engineer||[]).push([[179],{8255:Me=>{function me(x){return Promise.resolve().then(()=>{var l=new Error("Cannot find module '"+x+"'");throw l.code="MODULE_NOT_FOUND",l})}me.keys=()=>[],me.resolve=me,me.id=8255,Me.exports=me},7716:(Me,me,x)=>{"use strict";x.d(me,{deG:()=>WC,tb:()=>Bf,AFp:()=>C0,ip1:()=>Yb,CZH:()=>ad,hGG:()=>ac,z2F:()=>cd,sBO:()=>CD,Sil:()=>Uf,_Vd:()=>Wu,EJc:()=>w0,SBq:()=>hs,qLn:()=>p,vpe:()=>eo,gxx:()=>Du,tBr:()=>Fs,XFs:()=>Pe,OlP:()=>Dt,zs3:()=>ln,ZZ4:()=>sm,aQg:()=>pf,soG:()=>Lm,YKP:()=>Fo,v3s:()=>Y0,h0i:()=>ur,PXZ:()=>pM,R0b:()=>pr,FiY:()=>tr,Lbi:()=>Fm,g9A:()=>Nm,n_E:()=>xf,Qsj:()=>jI,FYo:()=>mn,JOm:()=>Vi,Tiy:()=>$v,q3G:()=>on,tp0:()=>Ls,EAV:()=>vM,Rgc:()=>mf,dDg:()=>F0,DyG:()=>Xn,q4F:()=>zv,GfV:()=>ff,s_b:()=>um,ifc:()=>Ie,eFA:()=>G0,G48:()=>hM,Gpc:()=>F,f3M:()=>th,X6Q:()=>Gf,_c5:()=>rS,VLi:()=>Hf,c2e:()=>E0,zSh:()=>Mh,wAp:()=>He,vHH:()=>re,EiD:()=>qp,mCW:()=>St,qzn:()=>Sl,JVY:()=>W_,pB0:()=>Qc,eBb:()=>Kc,L6k:()=>Vp,LAX:()=>Bp,cg1:()=>Na,Tjo:()=>DM,kL8:()=>Ww,yhl:()=>Qr,dqk:()=>jt,sIi:()=>Mu,CqO:()=>av,QGY:()=>sv,F4k:()=>ov,RDi:()=>cp,AaK:()=>Z,z3N:()=>Ir,qOj:()=>Gy,TTD:()=>Rs,_Bn:()=>dD,xp6:()=>cy,uIk:()=>Wy,Gre:()=>wt,ekj:()=>gv,Suo:()=>Ei,Xpm:()=>qn,lG2:()=>yc,Yz7:()=>Bt,cJS:()=>_t,oAB:()=>mc,Yjl:()=>zo,Y36:()=>Hu,_UZ:()=>tv,GkF:()=>rv,BQk:()=>iv,ynx:()=>nv,qZA:()=>Ng,TgZ:()=>ev,EpF:()=>mw,n5z:()=>Yd,Ikx:()=>Kh,LFG:()=>sn,$8M:()=>qd,NdJ:()=>lv,CRH:()=>ec,kcU:()=>I_,O4$:()=>HC,oxw:()=>Bh,ALo:()=>Em,lcZ:()=>o0,xi3:()=>a0,Hsn:()=>dv,F$t:()=>uv,Q6J:()=>Xy,s9C:()=>hv,DdM:()=>Db,iGM:()=>FA,MAs:()=>rw,CHM:()=>xd,LSH:()=>Tl,kYT:()=>_c,Udp:()=>pv,YNc:()=>Ui,_uU:()=>Ow,Oqu:()=>Ev,hij:()=>zh,Gf:()=>Mb});var l=x(9765),Q=x(5319),B=x(7574),he=x(6682),de=x(8819);function q(r){for(let s in r)if(r[s]===q)return s;throw Error("Could not find renamed property on target object.")}function X(r,s){for(const o in s)s.hasOwnProperty(o)&&!r.hasOwnProperty(o)&&(r[o]=s[o])}function Z(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(Z).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const s=r.toString();if(null==s)return""+s;const o=s.indexOf("\n");return-1===o?s:s.substring(0,o)}function H(r,s){return null==r||""===r?null===s?"":s:null==s||""===s?r:r+" "+s}const k=q({__forward_ref__:q});function F(r){return r.__forward_ref__=F,r.toString=function(){return Z(this())},r}function V(r){return ee(r)?r():r}function ee(r){return"function"==typeof r&&r.hasOwnProperty(k)&&r.__forward_ref__===F}class re extends Error{constructor(s,o){super(function(r,s){return`${r?`NG0${r}: `:""}${s}`}(s,o)),this.code=s}}function fe(r){return"string"==typeof r?r:null==r?"":String(r)}function Se(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():fe(r)}function Ot(r,s){const o=s?` in ${s}`:"";throw new re("201",`No provider for ${Se(r)} found${o}`)}function Le(r,s){null==r&&function(r,s,o,c){throw new Error(`ASSERTION ERROR: ${r}`+(null==c?"":` [Expected=> ${o} ${c} ${s} <=Actual]`))}(s,r,null,"!=")}function Bt(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function _t(r){return{providers:r.providers||[],imports:r.imports||[]}}function In(r){return $i(r,Vr)||$i(r,Br)}function $i(r,s){return r.hasOwnProperty(s)?r[s]:null}function ws(r){return r&&(r.hasOwnProperty(Ds)||r.hasOwnProperty(oo))?r[Ds]:null}const Vr=q({\u0275prov:q}),Ds=q({\u0275inj:q}),Br=q({ngInjectableDef:q}),oo=q({ngInjectorDef:q});var Pe=(()=>((Pe=Pe||{})[Pe.Default=0]="Default",Pe[Pe.Host=1]="Host",Pe[Pe.Self=2]="Self",Pe[Pe.SkipSelf=4]="SkipSelf",Pe[Pe.Optional=8]="Optional",Pe))();let En;function Ai(r){const s=En;return En=r,s}function Ke(r,s,o){const c=In(r);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:o&Pe.Optional?null:void 0!==s?s:void Ot(Z(r),"Injector")}function It(r){return{toString:r}.toString()}var Ct=(()=>((Ct=Ct||{})[Ct.OnPush=0]="OnPush",Ct[Ct.Default=1]="Default",Ct))(),Ie=(()=>((Ie=Ie||{})[Ie.Emulated=0]="Emulated",Ie[Ie.None=2]="None",Ie[Ie.ShadowDom=3]="ShadowDom",Ie))();const Ge="undefined"!=typeof globalThis&&globalThis,Hn="undefined"!=typeof window&&window,Ss="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,_r="undefined"!=typeof global&&global,jt=Ge||_r||Hn||Ss,j={},U=[],$=q({\u0275cmp:q}),_e=q({\u0275dir:q}),ie=q({\u0275pipe:q}),Oe=q({\u0275mod:q}),nt=q({\u0275loc:q}),Et=q({\u0275fac:q}),zt=q({__NG_ELEMENT_ID__:q});let Jt=0;function qn(r){return It(()=>{const o={},c={type:r.type,providersResolver:null,decls:r.decls,vars:r.vars,factory:null,template:r.template||null,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:o,inputs:null,outputs:null,exportAs:r.exportAs||null,onPush:r.changeDetection===Ct.OnPush,directiveDefs:null,pipeDefs:null,selectors:r.selectors||U,viewQuery:r.viewQuery||null,features:r.features||null,data:r.data||{},encapsulation:r.encapsulation||Ie.Emulated,id:"c",styles:r.styles||U,_:null,setInput:null,schemas:r.schemas||null,tView:null},d=r.directives,h=r.features,m=r.pipes;return c.id+=Jt++,c.inputs=bd(r.inputs,o),c.outputs=bd(r.outputs),h&&h.forEach(y=>y(c)),c.directiveDefs=d?()=>("function"==typeof d?d():d).map(wn):null,c.pipeDefs=m?()=>("function"==typeof m?m():m).map(ui):null,c})}function wn(r){return An(r)||function(r){return r[_e]||null}(r)}function ui(r){return function(r){return r[ie]||null}(r)}const el={};function mc(r){return It(()=>{const s={type:r.type,bootstrap:r.bootstrap||U,declarations:r.declarations||U,imports:r.imports||U,exports:r.exports||U,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null};return null!=r.id&&(el[r.id]=r.type),s})}function _c(r,s){return It(()=>{const o=Ri(r,!0);o.declarations=s.declarations||U,o.imports=s.imports||U,o.exports=s.exports||U})}function bd(r,s){if(null==r)return j;const o={};for(const c in r)if(r.hasOwnProperty(c)){let d=r[c],h=d;Array.isArray(d)&&(h=d[1],d=d[0]),o[d]=c,s&&(s[d]=h)}return o}const yc=qn;function zo(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,onDestroy:r.type.prototype.ngOnDestroy||null}}function An(r){return r[$]||null}function Ri(r,s){const o=r[Oe]||null;if(!o&&!0===s)throw new Error(`Type ${Z(r)} does not have '\u0275mod' property.`);return o}function Yi(r){return Array.isArray(r)&&"object"==typeof r[1]}function ki(r){return Array.isArray(r)&&!0===r[1]}function sl(r){return 0!=(8&r.flags)}function vc(r){return 2==(2&r.flags)}function Yo(r){return 1==(1&r.flags)}function Qn(r){return null!==r.template}function vn(r){return 0!=(512&r[2])}function Ms(r,s){return r.hasOwnProperty(Et)?r[Et]:null}class lp{constructor(s,o,c){this.previousValue=s,this.currentValue=o,this.firstChange=c}isFirstChange(){return this.firstChange}}function Rs(){return Os}function Os(r){return r.type.prototype.ngOnChanges&&(r.setInput=Dd),y_}function y_(){const r=Td(this),s=null==r?void 0:r.current;if(s){const o=r.previous;if(o===j)r.previous=s;else for(let c in s)o[c]=s[c];r.current=null,this.ngOnChanges(s)}}function Dd(r,s,o,c){const d=Td(r)||function(r,s){return r[Sd]=s}(r,{previous:j,current:null}),h=d.current||(d.current={}),m=d.previous,y=this.declaredInputs[o],E=m[y];h[y]=new lp(E&&E.currentValue,s,m===j),r[c]=s}Rs.ngInherit=!0;const Sd="__ngSimpleChanges__";function Td(r){return r[Sd]||null}const al="http://www.w3.org/2000/svg";let cl;function cp(r){cl=r}function Kt(r){return!!r.listen}const Hr={createRenderer:(r,s)=>void 0!==cl?cl:"undefined"!=typeof document?document:void 0};function Qt(r){for(;Array.isArray(r);)r=r[0];return r}function Ko(r,s){return Qt(s[r])}function jn(r,s){return Qt(s[r.index])}function wc(r,s){return r.data[s]}function ks(r,s){return r[s]}function Jn(r,s){const o=s[r];return Yi(o)?o:o[0]}function Rd(r){return 4==(4&r[2])}function fp(r){return 128==(128&r[2])}function uo(r,s){return null==s?null:r[s]}function Dc(r){r[18]=0}function Jo(r,s){r[5]+=s;let o=r,c=r[3];for(;null!==c&&(1===s&&1===o[5]||-1===s&&0===o[5]);)c[5]+=s,o=c,c=c[3]}const Qe={lFrame:mp(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function kd(){return Qe.bindingsEnabled}function Ce(){return Qe.lFrame.lView}function mt(){return Qe.lFrame.tView}function xd(r){return Qe.lFrame.contextLView=r,r[8]}function Wt(){let r=Pd();for(;null!==r&&64===r.type;)r=r.parent;return r}function Pd(){return Qe.lFrame.currentTNode}function xi(r,s){const o=Qe.lFrame;o.currentTNode=r,o.isParent=s}function Tc(){return Qe.lFrame.isParent}function Xo(){Qe.lFrame.isParent=!1}function ea(){return Qe.isInCheckNoChangesMode}function Ic(r){Qe.isInCheckNoChangesMode=r}function hn(){const r=Qe.lFrame;let s=r.bindingRootIndex;return-1===s&&(s=r.bindingRootIndex=r.tView.bindingStartIndex),s}function Gr(){return Qe.lFrame.bindingIndex++}function fi(r){const s=Qe.lFrame,o=s.bindingIndex;return s.bindingIndex=s.bindingIndex+r,o}function pp(r,s){const o=Qe.lFrame;o.bindingIndex=o.bindingRootIndex=r,Ld(s)}function Ld(r){Qe.lFrame.currentDirectiveIndex=r}function gp(){return Qe.lFrame.currentQueryIndex}function hl(r){Qe.lFrame.currentQueryIndex=r}function Vd(r){const s=r[1];return 2===s.type?s.declTNode:1===s.type?r[6]:null}function Mc(r,s,o){if(o&Pe.SkipSelf){let d=s,h=r;for(;!(d=d.parent,null!==d||o&Pe.Host||(d=Vd(h),null===d||(h=h[15],10&d.type))););if(null===d)return!1;s=d,r=h}const c=Qe.lFrame=fo();return c.currentTNode=s,c.lView=r,!0}function Rc(r){const s=fo(),o=r[1];Qe.lFrame=s,s.currentTNode=o.firstChild,s.lView=r,s.tView=o,s.contextLView=r,s.bindingIndex=o.bindingStartIndex,s.inI18n=!1}function fo(){const r=Qe.lFrame,s=null===r?null:r.child;return null===s?mp(r):s}function mp(r){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=s),s}function _p(){const r=Qe.lFrame;return Qe.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const D_=_p;function fl(){const r=_p();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function Gn(){return Qe.lFrame.selectedIndex}function ta(r){Qe.lFrame.selectedIndex=r}function fn(){const r=Qe.lFrame;return wc(r.tView,r.selectedIndex)}function HC(){Qe.lFrame.currentNamespace=al}function I_(){Qe.lFrame.currentNamespace=null}function na(r,s){for(let o=s.directiveStart,c=s.directiveEnd;o<c;o++){const h=r.data[o].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:y,ngAfterViewInit:E,ngAfterViewChecked:w,ngOnDestroy:S}=h;m&&(r.contentHooks||(r.contentHooks=[])).push(-o,m),y&&((r.contentHooks||(r.contentHooks=[])).push(o,y),(r.contentCheckHooks||(r.contentCheckHooks=[])).push(o,y)),E&&(r.viewHooks||(r.viewHooks=[])).push(-o,E),w&&((r.viewHooks||(r.viewHooks=[])).push(o,w),(r.viewCheckHooks||(r.viewCheckHooks=[])).push(o,w)),null!=S&&(r.destroyHooks||(r.destroyHooks=[])).push(o,S)}}function ia(r,s,o){yp(r,s,3,o)}function Oc(r,s,o,c){(3&r[2])===o&&yp(r,s,o,c)}function Ud(r,s){let o=r[2];(3&o)===s&&(o&=2047,o+=1,r[2]=o)}function yp(r,s,o,c){const h=null!=c?c:-1,m=s.length-1;let y=0;for(let E=void 0!==c?65535&r[18]:0;E<m;E++)if("number"==typeof s[E+1]){if(y=s[E],null!=c&&y>=c)break}else s[E]<0&&(r[18]+=65536),(y<h||-1==h)&&(Hd(r,o,s,E),r[18]=(4294901760&r[18])+E+2),E++}function Hd(r,s,o,c){const d=o[c]<0,h=o[c+1],y=r[d?-o[c]:o[c]];if(d){if(r[2]>>11<r[18]>>16&&(3&r[2])===s){r[2]+=2048;try{h.call(y)}finally{}}}else try{h.call(y)}finally{}}class kc{constructor(s,o,c){this.factory=s,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=c}}function Er(r,s,o){const c=Kt(r);let d=0;for(;d<o.length;){const h=o[d];if("number"==typeof h){if(0!==h)break;d++;const m=o[d++],y=o[d++],E=o[d++];c?r.setAttribute(s,y,E,m):s.setAttributeNS(m,y,E)}else{const m=h,y=o[++d];wr(m)?c&&r.setProperty(s,m,y):c?r.setAttribute(s,m,y):s.setAttribute(m,y),d++}}return d}function bp(r){return 3===r||4===r||6===r}function wr(r){return 64===r.charCodeAt(0)}function xs(r,s){if(null!==s&&0!==s.length)if(null===r||0===r.length)r=s.slice();else{let o=-1;for(let c=0;c<s.length;c++){const d=s[c];"number"==typeof d?o=d:0===o||Cp(r,o,d,null,-1===o||2===o?s[++c]:null)}}return r}function Cp(r,s,o,c,d){let h=0,m=r.length;if(-1===s)m=-1;else for(;h<r.length;){const y=r[h++];if("number"==typeof y){if(y===s){m=-1;break}if(y>s){m=h-1;break}}}for(;h<r.length;){const y=r[h];if("number"==typeof y)break;if(y===o){if(null===c)return void(null!==d&&(r[h+1]=d));if(c===r[h+1])return void(r[h+2]=d)}h++,null!==c&&h++,null!==d&&h++}-1!==m&&(r.splice(m,0,s),h=m+1),r.splice(h++,0,o),null!==c&&r.splice(h++,0,c),null!==d&&r.splice(h++,0,d)}function tn(r){return-1!==r}function po(r){return 32767&r}function gl(r,s){let o=function(r){return r>>16}(r),c=s;for(;o>0;)c=c[15],o--;return c}let xc=!0;function Pc(r){const s=xc;return xc=r,s}let Zd=0;function zr(r,s){const o=Nc(r,s);if(-1!==o)return o;const c=s[1];c.firstCreatePass&&(r.injectorIndex=s.length,ml(c.data,r),ml(s,null),ml(c.blueprint,null));const d=$n(r,s),h=r.injectorIndex;if(tn(d)){const m=po(d),y=gl(d,s),E=y[1].data;for(let w=0;w<8;w++)s[h+w]=y[m+w]|E[m+w]}return s[h+8]=d,h}function ml(r,s){r.push(0,0,0,0,0,0,0,0,s)}function Nc(r,s){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===s[r.injectorIndex+8]?-1:r.injectorIndex}function $n(r,s){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let o=0,c=null,d=s;for(;null!==d;){const h=d[1],m=h.type;if(c=2===m?h.declTNode:1===m?d[6]:null,null===c)return-1;if(o++,d=d[15],-1!==c.injectorIndex)return c.injectorIndex|o<<16}return-1}function Ps(r,s,o){!function(r,s,o){let c;"string"==typeof o?c=o.charCodeAt(0)||0:o.hasOwnProperty(zt)&&(c=o[zt]),null==c&&(c=o[zt]=Zd++);const d=255&c;s.data[r+(d>>5)]|=1<<d}(r,s,o)}function Ve(r,s,o){if(o&Pe.Optional)return r;Ot(s,"NodeInjector")}function Qi(r,s,o,c){if(o&Pe.Optional&&void 0===c&&(c=null),0==(o&(Pe.Self|Pe.Host))){const d=r[9],h=Ai(void 0);try{return d?d.get(s,c,o&Pe.Optional):Ke(s,c,o&Pe.Optional)}finally{Ai(h)}}return Ve(c,s,o)}function it(r,s,o,c=Pe.Default,d){if(null!==r){const h=function(r){if("string"==typeof r)return r.charCodeAt(0)||0;const s=r.hasOwnProperty(zt)?r[zt]:void 0;return"number"==typeof s?s>=0?255&s:bn:s}(o);if("function"==typeof h){if(!Mc(s,r,c))return c&Pe.Host?Ve(d,o,c):Qi(s,o,c,d);try{const m=h(c);if(null!=m||c&Pe.Optional)return m;Ot(o)}finally{D_()}}else if("number"==typeof h){let m=null,y=Nc(r,s),E=-1,w=c&Pe.Host?s[16][6]:null;for((-1===y||c&Pe.SkipSelf)&&(E=-1===y?$n(r,s):s[y+8],-1!==E&&go(c,!1)?(m=s[1],y=po(E),s=gl(E,s)):y=-1);-1!==y;){const S=s[1];if(Fn(h,y,S.data)){const M=Ji(y,s,o,m,c,w);if(M!==wp)return M}E=s[y+8],-1!==E&&go(c,s[1].data[y+8]===w)&&Fn(h,y,s)?(m=S,y=po(E),s=gl(E,s)):y=-1}}}return Qi(s,o,c,d)}const wp={};function bn(){return new ra(Wt(),Ce())}function Ji(r,s,o,c,d,h){const m=s[1],y=m.data[r+8],S=Ht(y,m,o,null==c?vc(y)&&xc:c!=m&&0!=(3&y.type),d&Pe.Host&&h===y);return null!==S?_l(s,m,S,y):wp}function Ht(r,s,o,c,d){const h=r.providerIndexes,m=s.data,y=1048575&h,E=r.directiveStart,S=h>>20,O=d?y+S:r.directiveEnd;for(let L=c?y:y+S;L<O;L++){const G=m[L];if(L<E&&o===G||L>=E&&G.type===o)return L}if(d){const L=m[E];if(L&&Qn(L)&&L.type===o)return E}return null}function _l(r,s,o,c){let d=r[o];const h=s.data;if(function(r){return r instanceof kc}(d)){const m=d;m.resolving&&function(r,s){throw new re("200",`Circular dependency in DI detected for ${r}`)}(Se(h[o]));const y=Pc(m.canSeeViewProviders);m.resolving=!0;const E=m.injectImpl?Ai(m.injectImpl):null;Mc(r,c,Pe.Default);try{d=r[o]=m.factory(void 0,h,r,c),s.firstCreatePass&&o>=c.directiveStart&&function(r,s,o){const{ngOnChanges:c,ngOnInit:d,ngDoCheck:h}=s.type.prototype;if(c){const m=Os(s);(o.preOrderHooks||(o.preOrderHooks=[])).push(r,m),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,m)}d&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-r,d),h&&((o.preOrderHooks||(o.preOrderHooks=[])).push(r,h),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,h))}(o,h[o],s)}finally{null!==E&&Ai(E),Pc(y),m.resolving=!1,D_()}}return d}function Fn(r,s,o){return!!(o[s+(r>>5)]&1<<r)}function go(r,s){return!(r&Pe.Self||r&Pe.Host&&s)}class ra{constructor(s,o){this._tNode=s,this._lView=o}get(s,o){return it(this._tNode,this._lView,s,void 0,o)}}function Yd(r){return It(()=>{const s=r.prototype.constructor,o=s[Et]||mo(s),c=Object.prototype;let d=Object.getPrototypeOf(r.prototype).constructor;for(;d&&d!==c;){const h=d[Et]||mo(d);if(h&&h!==o)return h;d=Object.getPrototypeOf(d)}return h=>new h})}function mo(r){return ee(r)?()=>{const s=mo(V(r));return s&&s()}:Ms(r)}function qd(r){return function(r,s){if("class"===s)return r.classes;if("style"===s)return r.styles;const o=r.attrs;if(o){const c=o.length;let d=0;for(;d<c;){const h=o[d];if(bp(h))break;if(0===h)d+=2;else if("number"==typeof h)for(d++;d<c&&"string"==typeof o[d];)d++;else{if(h===s)return o[d+1];d+=2}}}return null}(Wt(),r)}const Dr="__parameters__";function Wr(r,s,o){return It(()=>{const c=function(r){return function(...o){if(r){const c=r(...o);for(const d in c)this[d]=c[d]}}}(s);function d(...h){if(this instanceof d)return c.apply(this,h),this;const m=new d(...h);return y.annotation=m,y;function y(E,w,S){const M=E.hasOwnProperty(Dr)?E[Dr]:Object.defineProperty(E,Dr,{value:[]})[Dr];for(;M.length<=S;)M.push(null);return(M[S]=M[S]||[]).push(m),E}}return o&&(d.prototype=Object.create(o.prototype)),d.prototype.ngMetadataName=r,d.annotationCls=d,d})}class Dt{constructor(s,o){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Bt({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}toString(){return`InjectionToken ${this._desc}`}}const WC=new Dt("AnalyzeForEntryComponents"),Xn=Function;function pi(r,s){void 0===s&&(s=r);for(let o=0;o<r.length;o++){let c=r[o];Array.isArray(c)?(s===r&&(s=r.slice(0,o)),pi(c,s)):s!==r&&s.push(c)}return s}function ei(r,s){r.forEach(o=>Array.isArray(o)?ei(o,s):s(o))}function Ni(r,s,o){s>=r.length?r.push(o):r.splice(s,0,o)}function Zr(r,s){return s>=r.length-1?r.pop():r.splice(s,1)[0]}function Yr(r,s){const o=[];for(let c=0;c<r;c++)o.push(s);return o}function Dn(r,s,o){let c=Ln(r,s);return c>=0?r[1|c]=o:(c=~c,function(r,s,o,c){let d=r.length;if(d==s)r.push(o,c);else if(1===d)r.push(c,r[0]),r[0]=o;else{for(d--,r.push(r[d-1],r[d]);d>s;)r[d]=r[d-2],d--;r[s]=o,r[s+1]=c}}(r,c,s,o)),c}function Qd(r,s){const o=Ln(r,s);if(o>=0)return r[1|o]}function Ln(r,s){return function(r,s,o){let c=0,d=r.length>>o;for(;d!==c;){const h=c+(d-c>>1),m=r[h<<o];if(s===m)return h<<o;m>s?d=h:c=h+1}return~(d<<o)}(r,s,1)}const bl={},jc="__NG_DI_FLAG__",Sr="ngTempTokenPath",aa=/\n/gm,Eo="__source",la=q({provide:String,useValue:q});let er;function Tr(r){const s=er;return er=r,s}function $c(r,s=Pe.Default){if(void 0===er)throw new Error("inject() must be called from an injection context");return null===er?Ke(r,void 0,s):er.get(r,s&Pe.Optional?null:void 0,s)}function sn(r,s=Pe.Default){return(En||$c)(V(r),s)}const th=sn;function Kr(r){const s=[];for(let o=0;o<r.length;o++){const c=V(r[o]);if(Array.isArray(c)){if(0===c.length)throw new Error("Arguments array must have arguments.");let d,h=Pe.Default;for(let m=0;m<c.length;m++){const y=c[m],E=xp(y);"number"==typeof E?-1===E?d=y.token:h|=E:d=y}s.push(sn(d,h))}else s.push(sn(c))}return s}function ca(r,s){return r[jc]=s,r.prototype[jc]=s,r}function xp(r){return r[jc]}function ua(r,s,o,c){const d=r[Sr];throw s[Eo]&&d.unshift(s[Eo]),r.message=function(r,s,o,c=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.substr(2):r;let d=Z(s);if(Array.isArray(s))d=s.map(Z).join(" -> ");else if("object"==typeof s){let h=[];for(let m in s)if(s.hasOwnProperty(m)){let y=s[m];h.push(m+":"+("string"==typeof y?JSON.stringify(y):Z(y)))}d=`{${h.join(", ")}}`}return`${o}${c?"("+c+")":""}[${d}]: ${r.replace(aa,"\n  ")}`}("\n"+r.message,d,o,c),r.ngTokenPath=d,r[Sr]=null,r}const Fs=ca(Wr("Inject",r=>({token:r})),-1),tr=ca(Wr("Optional"),8),Ls=ca(Wr("SkipSelf"),4);let ha;function fa(r){var s;return(null===(s=function(){if(void 0===ha&&(ha=null,jt.trustedTypes))try{ha=jt.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch(r){}return ha}())||void 0===s?void 0:s.createHTML(r))||r}class nr{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class j_ extends nr{getTypeName(){return"HTML"}}class G_ extends nr{getTypeName(){return"Style"}}class $_ extends nr{getTypeName(){return"Script"}}class z_ extends nr{getTypeName(){return"URL"}}class ih extends nr{getTypeName(){return"ResourceURL"}}function Ir(r){return r instanceof nr?r.changingThisBreaksApplicationSecurity:r}function Sl(r,s){const o=Qr(r);if(null!=o&&o!==s){if("ResourceURL"===o&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===s}function Qr(r){return r instanceof nr&&r.getTypeName()||null}function W_(r){return new j_(r)}function Vp(r){return new G_(r)}function Kc(r){return new $_(r)}function Bp(r){return new z_(r)}function Qc(r){return new ih(r)}class Hp{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const o=(new window.DOMParser).parseFromString(fa(s),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(s):(o.removeChild(o.firstChild),o)}catch(o){return null}}}class Jc{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const o=this.inertDocument.createElement("html");this.inertDocument.appendChild(o);const c=this.inertDocument.createElement("body");o.appendChild(c)}}getInertBodyElement(s){const o=this.inertDocument.createElement("template");if("content"in o)return o.innerHTML=fa(s),o;const c=this.inertDocument.createElement("body");return c.innerHTML=fa(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(c),c}stripCustomNsAttrs(s){const o=s.attributes;for(let d=o.length-1;0<d;d--){const m=o.item(d).name;("xmlns:ns1"===m||0===m.indexOf("ns1:"))&&s.removeAttribute(m)}let c=s.firstChild;for(;c;)c.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(c),c=c.nextSibling}}const Xc=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Gp=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function St(r){return(r=String(r)).match(Xc)||r.match(Gp)?r:"unsafe:"+r}function Je(r){const s={};for(const o of r.split(","))s[o]=!0;return s}function Fi(...r){const s={};for(const o of r)for(const c in o)o.hasOwnProperty(c)&&(s[c]=!0);return s}const Pt=Je("area,br,col,hr,img,wbr"),ma=Je("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),$p=Je("rp,rt"),ut=Fi(Pt,Fi(ma,Je("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Fi($p,Je("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Fi($p,ma)),Mn=Je("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),_a=Je("srcset"),Wp=Fi(Mn,_a,Je("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Je("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Zp=Je("script,style,template");class Z_{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let o=s.firstChild,c=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?c=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,c&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let d=this.checkClobberedElement(o,o.nextSibling);if(d){o=d;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(s){const o=s.nodeName.toLowerCase();if(!ut.hasOwnProperty(o))return this.sanitizedSomething=!0,!Zp.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const c=s.attributes;for(let d=0;d<c.length;d++){const h=c.item(d),m=h.name,y=m.toLowerCase();if(!Wp.hasOwnProperty(y)){this.sanitizedSomething=!0;continue}let E=h.value;Mn[y]&&(E=St(E)),_a[y]&&(r=E,E=(r=String(r)).split(",").map(s=>St(s.trim())).join(", ")),this.buf.push(" ",m,'="',tu(E),'"')}var r;return this.buf.push(">"),!0}endElement(s){const o=s.nodeName.toLowerCase();ut.hasOwnProperty(o)&&!Pt.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(s){this.buf.push(tu(s))}checkClobberedElement(s,o){if(o&&(s.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return o}}const Yp=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,So=/([^\#-~ |!])/g;function tu(r){return r.replace(/&/g,"&amp;").replace(Yp,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(So,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let rr;function qp(r,s){let o=null;try{rr=rr||function(r){const s=new Jc(r);return function(){try{return!!(new window.DOMParser).parseFromString(fa(""),"text/html")}catch(r){return!1}}()?new Hp(s):s}(r);let c=s?String(s):"";o=rr.getInertBodyElement(c);let d=5,h=c;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,c=h,h=o.innerHTML,o=rr.getInertBodyElement(c)}while(c!==h);return fa((new Z_).sanitizeChildren(nu(o)||o))}finally{if(o){const c=nu(o)||o;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function nu(r){return"content"in r&&function(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}var on=(()=>((on=on||{})[on.NONE=0]="NONE",on[on.HTML=1]="HTML",on[on.STYLE=2]="STYLE",on[on.SCRIPT=3]="SCRIPT",on[on.URL=4]="URL",on[on.RESOURCE_URL=5]="RESOURCE_URL",on))();function Tl(r){const s=function(){const r=Ce();return r&&r[12]}();return s?s.sanitize(on.URL,r)||"":Sl(r,"URL")?Ir(r):St(fe(r))}const Rl="__ngContext__";function Vn(r,s){r[Rl]=s}function Ol(r){const s=function(r){return r[Rl]||null}(r);return s?Array.isArray(s)?s:s.lView:null}function lu(r){return r.ngOriginalError}function v(r,...s){r.error(...s)}class p{constructor(){this._console=console}handleError(s){const o=this._findOriginalError(s),c=this._findContext(s),d=(r=s)&&r.ngErrorLogger||v;var r;d(this._console,"ERROR",s),o&&d(this._console,"ORIGINAL ERROR",o),c&&d(this._console,"ERROR CONTEXT",c)}_findContext(s){return s?s.ngDebugContext||this._findContext(lu(s)):null}_findOriginalError(s){let o=s&&lu(s);for(;o&&lu(o);)o=lu(o);return o||null}}const es=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(jt))();function Li(r){return r instanceof Function?r():r}var Vi=(()=>((Vi=Vi||{})[Vi.Important=1]="Important",Vi[Vi.DashCase=2]="DashCase",Vi))();function Pl(r,s){return undefined(r,s)}function hu(r){const s=r[3];return ki(s)?s[3]:s}function ey(r){return Nl(r[13])}function fu(r){return Nl(r[4])}function Nl(r){for(;null!==r&&!ki(r);)r=r[4];return r}function Ca(r,s,o,c,d){if(null!=c){let h,m=!1;ki(c)?h=c:Yi(c)&&(m=!0,c=c[0]);const y=Qt(c);0===r&&null!==o?null==d?eE(s,o,y):Ll(s,o,y,d||null,!0):1===r&&null!==o?Ll(s,o,y,d||null,!0):2===r?function(r,s,o){const c=gh(r,s);c&&function(r,s,o,c){Kt(r)?r.removeChild(s,o,c):s.removeChild(o)}(r,c,s,o)}(s,y,m):3===r&&s.destroyNode(y),null!=h&&function(r,s,o,c,d){const h=o[7];h!==Qt(o)&&Ca(s,r,c,h,d);for(let y=10;y<o.length;y++){const E=o[y];Or(E[1],E,r,s,c,h)}}(s,r,h,o,d)}}function ny(r,s,o){return Kt(r)?r.createElement(s,o):null===o?r.createElement(s):r.createElementNS(o,s)}function hh(r,s){const o=r[9],c=o.indexOf(s),d=s[3];1024&s[2]&&(s[2]&=-1025,Jo(d,-1)),o.splice(c,1)}function Fl(r,s){if(r.length<=10)return;const o=10+s,c=r[o];if(c){const d=c[17];null!==d&&d!==r&&hh(d,c),s>0&&(r[o-1][4]=c[4]);const h=Zr(r,10+s);!function(r,s){Or(r,s,s[11],2,null,null),s[0]=null,s[6]=null}(c[1],c);const m=h[19];null!==m&&m.detachView(h[1]),c[3]=null,c[4]=null,c[2]&=-129}return c}function Ea(r,s){if(!(256&s[2])){const o=s[11];Kt(o)&&o.destroyNode&&Or(r,s,o,3,null,null),function(r){let s=r[13];if(!s)return wa(r[1],r);for(;s;){let o=null;if(Yi(s))o=s[13];else{const c=s[10];c&&(o=c)}if(!o){for(;s&&!s[4]&&s!==r;)Yi(s)&&wa(s[1],s),s=s[3];null===s&&(s=r),Yi(s)&&wa(s[1],s),o=s&&s[4]}s=o}}(s)}}function wa(r,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function(r,s){let o;if(null!=r&&null!=(o=r.destroyHooks))for(let c=0;c<o.length;c+=2){const d=s[o[c]];if(!(d instanceof kc)){const h=o[c+1];if(Array.isArray(h))for(let m=0;m<h.length;m+=2){const y=d[h[m]],E=h[m+1];try{E.call(y)}finally{}}else try{h.call(d)}finally{}}}}(r,s),function(r,s){const o=r.cleanup,c=s[7];let d=-1;if(null!==o)for(let h=0;h<o.length-1;h+=2)if("string"==typeof o[h]){const m=o[h+1],y="function"==typeof m?m(s):Qt(s[m]),E=c[d=o[h+2]],w=o[h+3];"boolean"==typeof w?y.removeEventListener(o[h],E,w):w>=0?c[d=w]():c[d=-w].unsubscribe(),h+=2}else{const m=c[d=o[h+1]];o[h].call(m)}if(null!==c){for(let h=d+1;h<c.length;h++)c[h]();s[7]=null}}(r,s),1===s[1].type&&Kt(s[11])&&s[11].destroy();const o=s[17];if(null!==o&&ki(s[3])){o!==s[3]&&hh(o,s);const c=s[19];null!==c&&c.detachView(r)}}}function XC(r,s,o){return function(r,s,o){let c=s;for(;null!==c&&40&c.type;)c=(s=c).parent;if(null===c)return o[0];if(2&c.flags){const d=r.data[c.directiveStart].encapsulation;if(d===Ie.None||d===Ie.Emulated)return null}return jn(c,o)}(r,s.parent,o)}function Ll(r,s,o,c,d){Kt(r)?r.insertBefore(s,o,c,d):s.insertBefore(o,c,d)}function eE(r,s,o){Kt(r)?r.appendChild(s,o):s.appendChild(o)}function fh(r,s,o,c,d){null!==c?Ll(r,s,o,c,d):eE(r,s,o)}function gh(r,s){return Kt(r)?r.parentNode(s):s.parentNode}function Sa(r,s,o){return tE(r,s,o)}let tE=function(r,s,o){return 40&r.type?jn(r,o):null};function Ta(r,s,o,c){const d=XC(r,c,s),h=s[11],y=Sa(c.parent||s[6],c,s);if(null!=d)if(Array.isArray(o))for(let E=0;E<o.length;E++)fh(h,d,o[E],y,!1);else fh(h,d,o,y,!1)}function gu(r,s){if(null!==s){const o=s.type;if(3&o)return jn(s,r);if(4&o)return mh(-1,r[s.index]);if(8&o){const c=s.child;if(null!==c)return gu(r,c);{const d=r[s.index];return ki(d)?mh(-1,d):Qt(d)}}if(32&o)return Pl(s,r)()||Qt(r[s.index]);{const c=oy(r,s);return null!==c?Array.isArray(c)?c[0]:gu(hu(r[16]),c):gu(r,s.next)}}return null}function oy(r,s){return null!==s?r[16][6].projection[s.projection]:null}function mh(r,s){const o=10+r+1;if(o<s.length){const c=s[o],d=c[1].firstChild;if(null!==d)return gu(c,d)}return s[7]}function eg(r,s,o,c,d,h,m){for(;null!=o;){const y=c[o.index],E=o.type;if(m&&0===s&&(y&&Vn(Qt(y),c),o.flags|=4),64!=(64&o.flags))if(8&E)eg(r,s,o.child,c,d,h,!1),Ca(s,r,d,y,h);else if(32&E){const w=Pl(o,c);let S;for(;S=w();)Ca(s,r,d,S,h);Ca(s,r,d,y,h)}else 16&E?Vl(r,s,c,o,d,h):Ca(s,r,d,y,h);o=m?o.projectionNext:o.next}}function Or(r,s,o,c,d,h){eg(o,c,r.firstChild,s,d,h,!1)}function Vl(r,s,o,c,d,h){const m=o[16],E=m[6].projection[c.projection];if(Array.isArray(E))for(let w=0;w<E.length;w++)Ca(s,r,d,E[w],h);else eg(r,s,E,m[3],d,h,!0)}function iE(r,s,o){Kt(r)?r.setAttribute(s,"style",o):s.style.cssText=o}function ly(r,s,o){Kt(r)?""===o?r.removeAttribute(s,"class"):r.setAttribute(s,"class",o):s.className=o}function rE(r,s,o){let c=r.length;for(;;){const d=r.indexOf(s,o);if(-1===d)return d;if(0===d||r.charCodeAt(d-1)<=32){const h=s.length;if(d+h===c||r.charCodeAt(d+h)<=32)return d}o=d+1}}const sE="ng-template";function LS(r,s,o){let c=0;for(;c<r.length;){let d=r[c++];if(o&&"class"===d){if(d=r[c],-1!==rE(d.toLowerCase(),s,0))return!0}else if(1===d){for(;c<r.length&&"string"==typeof(d=r[c++]);)if(d.toLowerCase()===s)return!0;return!1}}return!1}function oE(r){return 4===r.type&&r.value!==sE}function aE(r,s,o){return s===(4!==r.type||o?r.value:sE)}function lE(r,s,o){let c=4;const d=r.attrs||[],h=function(r){for(let s=0;s<r.length;s++)if(bp(r[s]))return s;return r.length}(d);let m=!1;for(let y=0;y<s.length;y++){const E=s[y];if("number"!=typeof E){if(!m)if(4&c){if(c=2|1&c,""!==E&&!aE(r,E,o)||""===E&&1===s.length){if(ts(c))return!1;m=!0}}else{const w=8&c?E:s[++y];if(8&c&&null!==r.attrs){if(!LS(r.attrs,w,o)){if(ts(c))return!1;m=!0}continue}const M=VS(8&c?"class":E,d,oE(r),o);if(-1===M){if(ts(c))return!1;m=!0;continue}if(""!==w){let O;O=M>h?"":d[M+1].toLowerCase();const L=8&c?O:null;if(L&&-1!==rE(L,w,0)||2&c&&w!==O){if(ts(c))return!1;m=!0}}}}else{if(!m&&!ts(c)&&!ts(E))return!1;if(m&&ts(E))continue;m=!1,c=E|1&c}}return ts(c)||m}function ts(r){return 0==(1&r)}function VS(r,s,o,c){if(null===s)return-1;let d=0;if(c||!o){let h=!1;for(;d<s.length;){const m=s[d];if(m===r)return d;if(3===m||6===m)h=!0;else{if(1===m||2===m){let y=s[++d];for(;"string"==typeof y;)y=s[++d];continue}if(4===m)break;if(0===m){d+=4;continue}}d+=h?1:2}return-1}return function(r,s){let o=r.indexOf(4);if(o>-1)for(o++;o<r.length;){const c=r[o];if("number"==typeof c)return-1;if(c===s)return o;o++}return-1}(s,r)}function cE(r,s,o=!1){for(let c=0;c<s.length;c++)if(lE(r,s[c],o))return!0;return!1}function ng(r,s){e:for(let o=0;o<s.length;o++){const c=s[o];if(r.length===c.length){for(let d=0;d<r.length;d++)if(r[d]!==c[d])continue e;return!0}}return!1}function ig(r,s){return r?":not("+s.trim()+")":s}function uE(r){let s=r[0],o=1,c=2,d="",h=!1;for(;o<r.length;){let m=r[o];if("string"==typeof m)if(2&c){const y=r[++o];d+="["+m+(y.length>0?'="'+y+'"':"")+"]"}else 8&c?d+="."+m:4&c&&(d+=" "+m);else""!==d&&!ts(m)&&(s+=ig(h,d),d=""),c=m,h=h||!ts(c);o++}return""!==d&&(s+=ig(h,d)),s}const rt={};function cy(r){uy(mt(),Ce(),Gn()+r,ea())}function uy(r,s,o,c){if(!c)if(3==(3&s[2])){const h=r.preOrderCheckHooks;null!==h&&ia(s,h,o)}else{const h=r.preOrderHooks;null!==h&&Oc(s,h,0,o)}ta(o)}function sg(r,s){return r<<17|s<<2}function ns(r){return r>>17&32767}function fy(r){return 2|r}function Io(r){return(131068&r)>>2}function py(r,s){return-131069&r|s<<2}function og(r){return 1|r}function yu(r,s){const o=r.contentQueries;if(null!==o)for(let c=0;c<o.length;c+=2){const d=o[c],h=o[c+1];if(-1!==h){const m=r.data[h];hl(d),m.contentQueries(2,s[h],h)}}}function vh(r,s,o,c,d,h,m,y,E,w){const S=s.blueprint.slice();return S[0]=d,S[2]=140|c,Dc(S),S[3]=S[15]=r,S[8]=o,S[10]=m||r&&r[10],S[11]=y||r&&r[11],S[12]=E||r&&r[12]||null,S[9]=w||r&&r[9]||null,S[6]=h,S[16]=2==s.type?r[16]:S,S}function Ra(r,s,o,c,d){let h=r.data[s];if(null===h)h=function(r,s,o,c,d){const h=Pd(),m=Tc(),E=r.data[s]=function(r,s,o,c,d,h){return{type:o,index:c,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?h:h&&h.parent,o,s,c,d);return null===r.firstChild&&(r.firstChild=E),null!==h&&(m?null==h.child&&null!==E.parent&&(h.child=E):null===h.next&&(h.next=E)),E}(r,s,o,c,d),Qe.lFrame.inI18n&&(h.flags|=64);else if(64&h.type){h.type=o,h.value=c,h.attrs=d;const m=function(){const r=Qe.lFrame,s=r.currentTNode;return r.isParent?s:s.parent}();h.injectorIndex=null===m?-1:m.injectorIndex}return xi(h,!0),h}function vu(r,s,o,c){if(0===o)return-1;const d=s.length;for(let h=0;h<o;h++)s.push(c),r.blueprint.push(c),r.data.push(null);return d}function bu(r,s,o){Rc(s);try{const c=r.viewQuery;null!==c&&_g(1,c,o);const d=r.template;null!==d&&Bl(r,s,d,1,o),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&yu(r,s),r.staticViewQueries&&_g(2,r.viewQuery,o);const h=r.components;null!==h&&function(r,s){for(let o=0;o<s.length;o++)My(r,s[o])}(s,h)}catch(c){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),c}finally{s[2]&=-5,fl()}}function Ro(r,s,o,c){const d=s[2];if(256==(256&d))return;Rc(s);const h=ea();try{Dc(s),function(r){Qe.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==o&&Bl(r,s,o,2,c);const m=3==(3&d);if(!h)if(m){const w=r.preOrderCheckHooks;null!==w&&ia(s,w,null)}else{const w=r.preOrderHooks;null!==w&&Oc(s,w,0,null),Ud(s,0)}if(function(r){for(let s=ey(r);null!==s;s=fu(s)){if(!s[2])continue;const o=s[9];for(let c=0;c<o.length;c++){const d=o[c],h=d[3];0==(1024&d[2])&&Jo(h,1),d[2]|=1024}}}(s),function(r){for(let s=ey(r);null!==s;s=fu(s))for(let o=10;o<s.length;o++){const c=s[o],d=c[1];fp(c)&&Ro(d,c,d.template,c[8])}}(s),null!==r.contentQueries&&yu(r,s),!h)if(m){const w=r.contentCheckHooks;null!==w&&ia(s,w)}else{const w=r.contentHooks;null!==w&&Oc(s,w,1),Ud(s,1)}!function(r,s){const o=r.hostBindingOpCodes;if(null!==o)try{for(let c=0;c<o.length;c++){const d=o[c];if(d<0)ta(~d);else{const h=d,m=o[++c],y=o[++c];pp(m,h),y(2,s[h])}}}finally{ta(-1)}}(r,s);const y=r.components;null!==y&&function(r,s){for(let o=0;o<s.length;o++)rT(r,s[o])}(s,y);const E=r.viewQuery;if(null!==E&&_g(2,E,c),!h)if(m){const w=r.viewCheckHooks;null!==w&&ia(s,w)}else{const w=r.viewHooks;null!==w&&Oc(s,w,2),Ud(s,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),h||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,Jo(s[3],-1))}finally{fl()}}function JS(r,s,o,c){const d=s[10],h=!ea(),m=Rd(s);try{h&&!m&&d.begin&&d.begin(),m&&bu(r,s,c),Ro(r,s,o,c)}finally{h&&!m&&d.end&&d.end()}}function Bl(r,s,o,c,d){const h=Gn(),m=2&c;try{ta(-1),m&&s.length>20&&uy(r,s,20,ea()),o(c,d)}finally{ta(h)}}function Ey(r,s,o){if(sl(s)){const d=s.directiveEnd;for(let h=s.directiveStart;h<d;h++){const m=r.data[h];m.contentQueries&&m.contentQueries(1,o[h],h)}}}function cg(r,s,o){!kd()||(function(r,s,o,c){const d=o.directiveStart,h=o.directiveEnd;r.firstCreatePass||zr(o,s),Vn(c,s);const m=o.initialInputs;for(let y=d;y<h;y++){const E=r.data[y],w=Qn(E);w&&iT(s,o,E);const S=_l(s,r,y,o);Vn(S,s),null!==m&&pg(0,y-d,S,E,0,m),w&&(Jn(o.index,s)[8]=S)}}(r,s,o,jn(o,s)),128==(128&o.flags)&&function(r,s,o){const c=o.directiveStart,d=o.directiveEnd,m=o.index,y=Qe.lFrame.currentDirectiveIndex;try{ta(m);for(let E=c;E<d;E++){const w=r.data[E],S=s[E];Ld(E),(null!==w.hostBindings||0!==w.hostVars||null!==w.hostAttrs)&&TE(w,S)}}finally{ta(-1),Ld(y)}}(r,s,o))}function ug(r,s,o=jn){const c=s.localNames;if(null!==c){let d=s.index+1;for(let h=0;h<c.length;h+=2){const m=c[h+1],y=-1===m?o(s,r):r[m];r[d++]=y}}}function bh(r){const s=r.tView;return null===s||s.incompleteFirstPass?r.tView=Ul(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts):s}function Ul(r,s,o,c,d,h,m,y,E,w){const S=20+c,M=S+d,O=function(r,s){const o=[];for(let c=0;c<s;c++)o.push(c<r?null:rt);return o}(S,M),L="function"==typeof w?w():w;return O[1]={type:r,blueprint:O,template:o,queries:null,viewQuery:y,declTNode:s,data:O.slice().fill(null,S),bindingStartIndex:S,expandoStartIndex:M,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:E,consts:L,incompleteFirstPass:!1}}function Cu(r,s,o,c){const d=RE(s);null===o?d.push(c):(d.push(o),r.firstCreatePass&&OE(r).push(c,d.length-1))}function EE(r,s,o){for(let c in r)if(r.hasOwnProperty(c)){const d=r[c];(o=null===o?{}:o).hasOwnProperty(c)?o[c].push(s,d):o[c]=[s,d]}return o}function mi(r,s,o,c,d,h,m,y){const E=jn(s,o);let S,w=s.inputs;!y&&null!=w&&(S=w[c])?(wu(r,o,S,c,d),vc(s)&&function(r,s){const o=Jn(s,r);16&o[2]||(o[2]|=64)}(o,s.index)):3&s.type&&(c=function(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(c),d=null!=m?m(d,s.value||"",c):d,Kt(h)?h.setProperty(E,c,d):wr(c)||(E.setProperty?E.setProperty(c,d):E[c]=d))}function Ch(r,s,o,c){let d=!1;if(kd()){const h=function(r,s,o){const c=r.directiveRegistry;let d=null;if(c)for(let h=0;h<c.length;h++){const m=c[h];cE(o,m.selectors,!1)&&(d||(d=[]),Ps(zr(o,s),r,m.type),Qn(m)?(Ay(r,o),d.unshift(m)):d.push(m))}return d}(r,s,o),m=null===c?null:{"":-1};if(null!==h){d=!0,fg(o,r.data.length,h.length);for(let S=0;S<h.length;S++){const M=h[S];M.providersResolver&&M.providersResolver(M)}let y=!1,E=!1,w=vu(r,s,h.length,null);for(let S=0;S<h.length;S++){const M=h[S];o.mergedAttrs=xs(o.mergedAttrs,M.hostAttrs),IE(r,o,s,w,M),wh(w,M,m),null!==M.contentQueries&&(o.flags|=8),(null!==M.hostBindings||null!==M.hostAttrs||0!==M.hostVars)&&(o.flags|=128);const O=M.type.prototype;!y&&(O.ngOnChanges||O.ngOnInit||O.ngDoCheck)&&((r.preOrderHooks||(r.preOrderHooks=[])).push(o.index),y=!0),!E&&(O.ngOnChanges||O.ngDoCheck)&&((r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(o.index),E=!0),w++}!function(r,s){const c=s.directiveEnd,d=r.data,h=s.attrs,m=[];let y=null,E=null;for(let w=s.directiveStart;w<c;w++){const S=d[w],M=S.inputs,O=null===h||oE(s)?null:AE(M,h);m.push(O),y=EE(M,w,y),E=EE(S.outputs,w,E)}null!==y&&(y.hasOwnProperty("class")&&(s.flags|=16),y.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=m,s.inputs=y,s.outputs=E}(r,o)}m&&function(r,s,o){if(s){const c=r.localNames=[];for(let d=0;d<s.length;d+=2){const h=o[s[d+1]];if(null==h)throw new re("301",`Export of name '${s[d+1]}' not found!`);c.push(s[d],h)}}}(o,c,m)}return o.mergedAttrs=xs(o.mergedAttrs,o.attrs),d}function Eh(r,s,o,c,d,h){const m=h.hostBindings;if(m){let y=r.hostBindingOpCodes;null===y&&(y=r.hostBindingOpCodes=[]);const E=~s.index;(function(r){let s=r.length;for(;s>0;){const o=r[--s];if("number"==typeof o&&o<0)return o}return 0})(y)!=E&&y.push(E),y.push(c,d,m)}}function TE(r,s){null!==r.hostBindings&&r.hostBindings(1,s)}function Ay(r,s){s.flags|=2,(r.components||(r.components=[])).push(s.index)}function wh(r,s,o){if(o){if(s.exportAs)for(let c=0;c<s.exportAs.length;c++)o[s.exportAs[c]]=r;Qn(s)&&(o[""]=r)}}function fg(r,s,o){r.flags|=1,r.directiveStart=s,r.directiveEnd=s+o,r.providerIndexes=s}function IE(r,s,o,c,d){r.data[c]=d;const h=d.factory||(d.factory=Ms(d.type)),m=new kc(h,Qn(d),null);r.blueprint[c]=m,o[c]=m,Eh(r,s,0,c,vu(r,o,d.hostVars,rt),d)}function iT(r,s,o){const c=jn(s,r),d=bh(o),h=r[10],m=Oa(r,vh(r,d,null,o.onPush?64:16,c,s,h,h.createRenderer(c,o),null,null));r[s.index]=m}function js(r,s,o,c,d,h){const m=jn(r,s);!function(r,s,o,c,d,h,m){if(null==h)Kt(r)?r.removeAttribute(s,d,o):s.removeAttribute(d);else{const y=null==m?fe(h):m(h,c||"",d);Kt(r)?r.setAttribute(s,d,y,o):o?s.setAttributeNS(o,d,y):s.setAttribute(d,y)}}(s[11],m,h,r.value,o,c,d)}function pg(r,s,o,c,d,h){const m=h[s];if(null!==m){const y=c.setInput;for(let E=0;E<m.length;){const w=m[E++],S=m[E++],M=m[E++];null!==y?c.setInput(o,M,w,S):o[S]=M}}}function AE(r,s){let o=null,c=0;for(;c<s.length;){const d=s[c];if(0!==d)if(5!==d){if("number"==typeof d)break;r.hasOwnProperty(d)&&(null===o&&(o=[]),o.push(d,r[d],s[c+1])),c+=2}else c+=2;else c+=4}return o}function Eu(r,s,o,c){return new Array(r,!0,!1,s,null,0,c,o,null,null)}function rT(r,s){const o=Jn(s,r);if(fp(o)){const c=o[1];80&o[2]?Ro(c,o,c.template,o[8]):o[5]>0&&gg(o)}}function gg(r){for(let c=ey(r);null!==c;c=fu(c))for(let d=10;d<c.length;d++){const h=c[d];if(1024&h[2]){const m=h[1];Ro(m,h,m.template,h[8])}else h[5]>0&&gg(h)}const o=r[1].components;if(null!==o)for(let c=0;c<o.length;c++){const d=Jn(o[c],r);fp(d)&&d[5]>0&&gg(d)}}function My(r,s){const o=Jn(s,r),c=o[1];(function(r,s){for(let o=s.length;o<r.blueprint.length;o++)s.push(r.blueprint[o])})(c,o),bu(c,o,o[8])}function Oa(r,s){return r[13]?r[14][4]=s:r[13]=s,r[14]=s,s}function Ry(r){for(;r;){r[2]|=64;const s=hu(r);if(vn(r)&&!s)return r;r=s}return null}function Oy(r,s,o){const c=s[10];c.begin&&c.begin();try{Ro(r,s,r.template,o)}catch(d){throw xy(s,d),d}finally{c.end&&c.end()}}function Ih(r){!function(r){for(let s=0;s<r.components.length;s++){const o=r.components[s],c=Ol(o),d=c[1];JS(d,c,d.template,o)}}(r[8])}function _g(r,s,o){hl(0),s(r,o)}const ME=(()=>Promise.resolve(null))();function RE(r){return r[7]||(r[7]=[])}function OE(r){return r.cleanup||(r.cleanup=[])}function xy(r,s){const o=r[9],c=o?o.get(p,null):null;c&&c.handleError(s)}function wu(r,s,o,c,d){for(let h=0;h<o.length;){const m=o[h++],y=o[h++],E=s[m],w=r.data[m];null!==w.setInput?w.setInput(E,d,c,y):E[y]=d}}function $s(r,s,o){const c=Ko(s,r);!function(r,s,o){Kt(r)?r.setValue(s,o):s.textContent=o}(r[11],c,o)}function Ah(r,s,o){let c=o?r.styles:null,d=o?r.classes:null,h=0;if(null!==s)for(let m=0;m<s.length;m++){const y=s[m];"number"==typeof y?h=y:1==h?d=H(d,y):2==h&&(c=H(c,y+": "+s[++m]+";"))}o?r.styles=c:r.stylesWithoutHost=c,o?r.classes=d:r.classesWithoutHost=d}const Du=new Dt("INJECTOR",-1);class yg{get(s,o=bl){if(o===bl){const c=new Error(`NullInjectorError: No provider for ${Z(s)}!`);throw c.name="NullInjectorError",c}return o}}const Mh=new Dt("Set Injector scope."),Rh={},oT={};let vg;function xE(){return void 0===vg&&(vg=new yg),vg}function PE(r,s=null,o=null,c){return new Fy(r,o,s||xE(),c)}class Fy{constructor(s,o,c,d=null){this.parent=c,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const h=[];o&&ei(o,y=>this.processProvider(y,s,o)),ei([s],y=>this.processInjectorType(y,[],h)),this.records.set(Du,Tu(void 0,this));const m=this.records.get(Mh);this.scope=null!=m?m.value:null,this.source=d||("object"==typeof s?null:Z(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,o=bl,c=Pe.Default){this.assertNotDestroyed();const d=Tr(this),h=Ai(void 0);try{if(!(c&Pe.SkipSelf)){let y=this.records.get(s);if(void 0===y){const E=("function"==typeof(r=s)||"object"==typeof r&&r instanceof Dt)&&In(s);y=E&&this.injectableDefInScope(E)?Tu(bg(s),Rh):null,this.records.set(s,y)}if(null!=y)return this.hydrate(s,y)}return(c&Pe.Self?xE():this.parent).get(s,o=c&Pe.Optional&&o===bl?null:o)}catch(m){if("NullInjectorError"===m.name){if((m[Sr]=m[Sr]||[]).unshift(Z(s)),d)throw m;return ua(m,s,"R3InjectorError",this.source)}throw m}finally{Ai(h),Tr(d)}var r}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((c,d)=>s.push(Z(d))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(s,o,c){if(!(s=V(s)))return!1;let d=ws(s);const h=null==d&&s.ngModule||void 0,m=void 0===h?s:h,y=-1!==c.indexOf(m);if(void 0!==h&&(d=ws(h)),null==d)return!1;if(null!=d.imports&&!y){let S;c.push(m);try{ei(d.imports,M=>{this.processInjectorType(M,o,c)&&(void 0===S&&(S=[]),S.push(M))})}finally{}if(void 0!==S)for(let M=0;M<S.length;M++){const{ngModule:O,providers:L}=S[M];ei(L,G=>this.processProvider(G,O,L||U))}}this.injectorDefTypes.add(m);const E=Ms(m)||(()=>new m);this.records.set(m,Tu(E,Rh));const w=d.providers;if(null!=w&&!y){const S=s;ei(w,M=>this.processProvider(M,S,w))}return void 0!==h&&void 0!==s.providers}processProvider(s,o,c){let d=is(s=V(s))?s:V(s&&s.provide);const h=Cg(r=s)?Tu(void 0,r.useValue):Tu(Oo(r),Rh);var r;if(is(s)||!0!==s.multi)this.records.get(d);else{let m=this.records.get(d);m||(m=Tu(void 0,Rh,!0),m.factory=()=>Kr(m.multi),this.records.set(d,m)),d=s,m.multi.push(s)}this.records.set(d,h)}hydrate(s,o){return o.value===Rh&&(o.value=oT,o.value=o.factory()),"object"==typeof o.value&&o.value&&null!==(r=o.value)&&"object"==typeof r&&"function"==typeof r.ngOnDestroy&&this.onDestroy.add(o.value),o.value;var r}injectableDefInScope(s){if(!s.providedIn)return!1;const o=V(s.providedIn);return"string"==typeof o?"any"===o||o===this.scope:this.injectorDefTypes.has(o)}}function bg(r){const s=In(r),o=null!==s?s.factory:Ms(r);if(null!==o)return o;if(r instanceof Dt)throw new Error(`Token ${Z(r)} is missing a \u0275prov definition.`);if(r instanceof Function)return function(r){const s=r.length;if(s>0){const c=Yr(s,"?");throw new Error(`Can't resolve all parameters for ${Z(r)}: (${c.join(", ")}).`)}const o=function(r){const s=r&&(r[Vr]||r[Br]);if(s){const o=function(r){if(r.hasOwnProperty("name"))return r.name;const s=(""+r).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(r);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),s}return null}(r);return null!==o?()=>o.factory(r):()=>new r}(r);throw new Error("unreachable")}function Oo(r,s,o){let c;if(is(r)){const d=V(r);return Ms(d)||bg(d)}if(Cg(r))c=()=>V(r.useValue);else if(function(r){return!(!r||!r.useFactory)}(r))c=()=>r.useFactory(...Kr(r.deps||[]));else if(function(r){return!(!r||!r.useExisting)}(r))c=()=>sn(V(r.useExisting));else{const d=V(r&&(r.useClass||r.provide));if(!function(r){return!!r.deps}(r))return Ms(d)||bg(d);c=()=>new d(...Kr(r.deps))}return c}function Tu(r,s,o=!1){return{factory:r,value:s,multi:o?[]:void 0}}function Cg(r){return null!==r&&"object"==typeof r&&la in r}function is(r){return"function"==typeof r}const wg=function(r,s,o){return function(r,s=null,o=null,c){const d=PE(r,s,o,c);return d._resolveInjectorDefTypes(),d}({name:o},s,r,o)};let ln=(()=>{class r{static create(o,c){return Array.isArray(o)?wg(o,c,""):wg(o.providers,o.parent,o.name||"")}}return r.THROW_IF_NOT_FOUND=bl,r.NULL=new yg,r.\u0275prov=Bt({token:r,providedIn:"any",factory:()=>sn(Du)}),r.__NG_ELEMENT_ID__=-1,r})();function bT(r,s){na(Ol(r)[1],Wt())}function Gy(r){let s=function(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),o=!0;const c=[r];for(;s;){let d;if(Qn(r))d=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Error("Directives cannot inherit Components");d=s.\u0275dir}if(d){if(o){c.push(d);const m=r;m.inputs=$y(r.inputs),m.declaredInputs=$y(r.declaredInputs),m.outputs=$y(r.outputs);const y=d.hostBindings;y&&DT(r,y);const E=d.viewQuery,w=d.contentQueries;if(E&&ET(r,E),w&&wT(r,w),X(r.inputs,d.inputs),X(r.declaredInputs,d.declaredInputs),X(r.outputs,d.outputs),Qn(d)&&d.data.animation){const S=r.data;S.animation=(S.animation||[]).concat(d.data.animation)}}const h=d.features;if(h)for(let m=0;m<h.length;m++){const y=h[m];y&&y.ngInherit&&y(r),y===Gy&&(o=!1)}}s=Object.getPrototypeOf(s)}!function(r){let s=0,o=null;for(let c=r.length-1;c>=0;c--){const d=r[c];d.hostVars=s+=d.hostVars,d.hostAttrs=xs(d.hostAttrs,o=xs(o,d.hostAttrs))}}(c)}function $y(r){return r===j?{}:r===U?[]:r}function ET(r,s){const o=r.viewQuery;r.viewQuery=o?(c,d)=>{s(c,d),o(c,d)}:s}function wT(r,s){const o=r.contentQueries;r.contentQueries=o?(c,d,h)=>{s(c,d,h),o(c,d,h)}:s}function DT(r,s){const o=r.hostBindings;r.hostBindings=o?(c,d)=>{s(c,d),o(c,d)}:s}let Ag=null;function ni(){if(!Ag){const r=jt.Symbol;if(r&&r.iterator)Ag=r.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<s.length;++o){const c=s[o];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(Ag=c)}}}return Ag}class cr{constructor(s){this.wrapped=s}static wrap(s){return new cr(s)}static unwrap(s){return cr.isWrapped(s)?s.wrapped:s}static isWrapped(s){return s instanceof cr}}function Mu(r){return!!zy(r)&&(Array.isArray(r)||!(r instanceof Map)&&ni()in r)}function zy(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function zs(r,s,o){return r[s]=o}function ii(r,s,o){return!Object.is(r[s],o)&&(r[s]=o,!0)}function Wy(r,s,o,c){const d=Ce();return ii(d,Gr(),s)&&(mt(),js(fn(),d,r,s,o,c)),Wy}function ku(r,s,o,c){return ii(r,Gr(),o)?s+fe(o)+c:rt}function Ui(r,s,o,c,d,h,m,y){const E=Ce(),w=mt(),S=r+20,M=w.firstCreatePass?function(r,s,o,c,d,h,m,y,E){const w=s.consts,S=Ra(s,r,4,m||null,uo(w,y));Ch(s,o,S,uo(w,E)),na(s,S);const M=S.tViews=Ul(2,S,c,d,h,s.directiveRegistry,s.pipeRegistry,null,s.schemas,w);return null!==s.queries&&(s.queries.template(s,S),M.queries=s.queries.embeddedTView(S)),S}(S,w,E,s,o,c,d,h,m):w.data[S];xi(M,!1);const O=E[11].createComment("");Ta(w,E,O,M),Vn(O,E),Oa(E,E[S]=Eu(O,E,O,M)),Yo(M)&&cg(w,E,M),null!=m&&ug(E,M,y)}function rw(r){return ks(Qe.lFrame.contextLView,20+r)}function Hu(r,s=Pe.Default){const o=Ce();return null===o?sn(r,s):it(Wt(),o,V(r),s)}function Xy(r,s,o){const c=Ce();return ii(c,Gr(),s)&&mi(mt(),fn(),c,r,s,c[11],o,!1),Xy}function Pg(r,s,o,c,d){const m=d?"class":"style";wu(r,o,s.inputs[m],m,c)}function ev(r,s,o,c){const d=Ce(),h=mt(),m=20+r,y=d[11],E=d[m]=ny(y,s,Qe.lFrame.currentNamespace),w=h.firstCreatePass?function(r,s,o,c,d,h,m){const y=s.consts,w=Ra(s,r,2,d,uo(y,h));return Ch(s,o,w,uo(y,m)),null!==w.attrs&&Ah(w,w.attrs,!1),null!==w.mergedAttrs&&Ah(w,w.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,w),w}(m,h,d,0,s,o,c):h.data[m];xi(w,!0);const S=w.mergedAttrs;null!==S&&Er(y,E,S);const M=w.classes;null!==M&&ly(y,E,M);const O=w.styles;null!==O&&iE(y,E,O),64!=(64&w.flags)&&Ta(h,d,E,w),0===Qe.lFrame.elementDepthCount&&Vn(E,d),Qe.lFrame.elementDepthCount++,Yo(w)&&(cg(h,d,w),Ey(h,w,d)),null!==c&&ug(d,w)}function Ng(){let r=Wt();Tc()?Xo():(r=r.parent,xi(r,!1));const s=r;Qe.lFrame.elementDepthCount--;const o=mt();o.firstCreatePass&&(na(o,r),sl(r)&&o.queries.elementEnd(r)),null!=s.classesWithoutHost&&function(r){return 0!=(16&r.flags)}(s)&&Pg(o,s,Ce(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function(r){return 0!=(32&r.flags)}(s)&&Pg(o,s,Ce(),s.stylesWithoutHost,!1)}function tv(r,s,o,c){ev(r,s,o,c),Ng()}function nv(r,s,o){const c=Ce(),d=mt(),h=r+20,m=d.firstCreatePass?function(r,s,o,c,d){const h=s.consts,m=uo(h,c),y=Ra(s,r,8,"ng-container",m);return null!==m&&Ah(y,m,!0),Ch(s,o,y,uo(h,d)),null!==s.queries&&s.queries.elementStart(s,y),y}(h,d,c,s,o):d.data[h];xi(m,!0);const y=c[h]=c[11].createComment("");Ta(d,c,y,m),Vn(y,c),Yo(m)&&(cg(d,c,m),Ey(d,m,c)),null!=o&&ug(c,m)}function iv(){let r=Wt();const s=mt();Tc()?Xo():(r=r.parent,xi(r,!1)),s.firstCreatePass&&(na(s,r),sl(r)&&s.queries.elementEnd(r))}function rv(r,s,o){nv(r,s,o),iv()}function mw(){return Ce()}function sv(r){return!!r&&"function"==typeof r.then}function ov(r){return!!r&&"function"==typeof r.subscribe}const av=ov;function lv(r,s,o,c){const d=Ce(),h=mt(),m=Wt();return function(r,s,o,c,d,h,m,y){const E=Yo(c),S=r.firstCreatePass&&OE(r),M=s[8],O=RE(s);let L=!0;if(3&c.type||y){const K=jn(c,s),Ee=y?y(K):K,ge=O.length,Fe=y?et=>y(Qt(et[c.index])):c.index;if(Kt(o)){let et=null;if(!y&&E&&(et=function(r,s,o,c){const d=r.cleanup;if(null!=d)for(let h=0;h<d.length-1;h+=2){const m=d[h];if(m===o&&d[h+1]===c){const y=s[7],E=d[h+2];return y.length>E?y[E]:null}"string"==typeof m&&(h+=2)}return null}(r,s,d,c.index)),null!==et)(et.__ngLastListenerFn__||et).__ngNextListenerFn__=h,et.__ngLastListenerFn__=h,L=!1;else{h=ju(c,s,M,h,!1);const Tt=o.listen(Ee,d,h);O.push(h,Tt),S&&S.push(d,Fe,ge,ge+1)}}else h=ju(c,s,M,h,!0),Ee.addEventListener(d,h,m),O.push(h),S&&S.push(d,Fe,ge,m)}else h=ju(c,s,M,h,!1);const G=c.outputs;let ae;if(L&&null!==G&&(ae=G[d])){const K=ae.length;if(K)for(let Ee=0;Ee<K;Ee+=2){const Un=s[ae[Ee]][ae[Ee+1]].subscribe(h),Lr=O.length;O.push(h,Un),S&&S.push(d,c.index,Lr,-(Lr+1))}}}(h,d,d[11],m,r,s,!!o,c),lv}function Hi(r,s,o,c){try{return!1!==o(c)}catch(d){return xy(r,d),!1}}function ju(r,s,o,c,d){return function h(m){if(m===Function)return c;const y=2&r.flags?Jn(r.index,s):s;0==(32&s[2])&&Ry(y);let E=Hi(s,0,c,m),w=h.__ngNextListenerFn__;for(;w;)E=Hi(s,0,w,m)&&E,w=w.__ngNextListenerFn__;return d&&!1===E&&(m.preventDefault(),m.returnValue=!1),E}}function Bh(r=1){return function(r){return(Qe.lFrame.contextLView=function(r,s){for(;r>0;)s=s[15],r--;return s}(r,Qe.lFrame.contextLView))[8]}(r)}function zT(r,s){let o=null;const c=function(r){const s=r.attrs;if(null!=s){const o=s.indexOf(5);if(0==(1&o))return s[o+1]}return null}(r);for(let d=0;d<s.length;d++){const h=s[d];if("*"!==h){if(null===c?cE(r,h,!0):ng(c,h))return d}else o=d}return o}function uv(r){const s=Ce()[16][6];if(!s.projection){const c=s.projection=Yr(r?r.length:1,null),d=c.slice();let h=s.child;for(;null!==h;){const m=r?zT(h,r):0;null!==m&&(d[m]?d[m].projectionNext=h:c[m]=h,d[m]=h),h=h.next}}}function dv(r,s=0,o){const c=Ce(),d=mt(),h=Ra(d,20+r,16,null,o||null);null===h.projection&&(h.projection=s),Xo(),64!=(64&h.flags)&&function(r,s,o){Vl(s[11],0,s,o,XC(r,o,s),Sa(o.parent||s[6],o,s))}(d,c,h)}function hv(r,s,o){return fv(r,"",s,"",o),hv}function fv(r,s,o,c,d){const h=Ce(),m=ku(h,s,o,c);return m!==rt&&mi(mt(),fn(),h,r,m,h[11],d,!1),fv}function Lg(r,s,o,c,d){const h=r[o+1],m=null===s;let y=c?ns(h):Io(h),E=!1;for(;0!==y&&(!1===E||m);){const S=r[y+1];WT(r[y],s)&&(E=!0,r[y+1]=c?og(S):fy(S)),y=c?ns(S):Io(S)}E&&(r[o+1]=c?fy(h):og(h))}function WT(r,s){return null===r||null==s||(Array.isArray(r)?r[1]:r)===s||!(!Array.isArray(r)||"string"!=typeof s)&&Ln(r,s)>=0}const Rn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ew(r){return r.substring(Rn.key,Rn.keyEnd)}function ww(r,s){const o=Rn.textEnd;return o===s?-1:(s=Rn.keyEnd=function(r,s,o){for(;s<o&&r.charCodeAt(s)>32;)s++;return s}(r,Rn.key=s,o),xa(r,s,o))}function xa(r,s,o){for(;s<o&&r.charCodeAt(s)<=32;)s++;return s}function pv(r,s,o){return ls(r,s,o,!1),pv}function gv(r,s){return ls(r,s,null,!0),gv}function qs(r,s){for(let o=function(r){return function(r){Rn.key=0,Rn.keyEnd=0,Rn.value=0,Rn.valueEnd=0,Rn.textEnd=r.length}(r),ww(r,xa(r,0,Rn.textEnd))}(s);o>=0;o=ww(s,o))Dn(r,Ew(s),!0)}function ls(r,s,o,c){const d=Ce(),h=mt(),m=fi(2);h.firstUpdatePass&&yt(h,r,m,c),s!==rt&&ii(d,m,s)&&vv(h,h.data[Gn()],d,d[11],r,d[m+1]=function(r,s){return null==r||("string"==typeof s?r+=s:"object"==typeof r&&(r=Z(Ir(r)))),r}(s,o),c,m)}function mv(r,s){return s>=r.expandoStartIndex}function yt(r,s,o,c){const d=r.data;if(null===d[o+1]){const h=d[Gn()],m=mv(r,o);ds(h,c)&&null===s&&!m&&(s=!1),s=function(r,s,o,c){const d=function(r){const s=Qe.lFrame.currentDirectiveIndex;return-1===s?null:r[s]}(r);let h=c?s.residualClasses:s.residualStyles;if(null===d)0===(c?s.classBindings:s.styleBindings)&&(o=$h(o=yv(null,r,s,o,c),s.attrs,c),h=null);else{const m=s.directiveStylingLast;if(-1===m||r[m]!==d)if(o=yv(d,r,s,o,c),null===h){let E=function(r,s,o){const c=o?s.classBindings:s.styleBindings;if(0!==Io(c))return r[ns(c)]}(r,s,c);void 0!==E&&Array.isArray(E)&&(E=yv(null,r,s,E[1],c),E=$h(E,s.attrs,c),function(r,s,o,c){r[ns(o?s.classBindings:s.styleBindings)]=c}(r,s,c,E))}else h=function(r,s,o){let c;const d=s.directiveEnd;for(let h=1+s.directiveStylingLast;h<d;h++)c=$h(c,r[h].hostAttrs,o);return $h(c,s.attrs,o)}(r,s,c)}return void 0!==h&&(c?s.residualClasses=h:s.residualStyles=h),o}(d,h,s,c),function(r,s,o,c,d,h){let m=h?s.classBindings:s.styleBindings,y=ns(m),E=Io(m);r[c]=o;let S,w=!1;if(Array.isArray(o)){const M=o;S=M[1],(null===S||Ln(M,S)>0)&&(w=!0)}else S=o;if(d)if(0!==E){const O=ns(r[y+1]);r[c+1]=sg(O,y),0!==O&&(r[O+1]=py(r[O+1],c)),r[y+1]=function(r,s){return 131071&r|s<<17}(r[y+1],c)}else r[c+1]=sg(y,0),0!==y&&(r[y+1]=py(r[y+1],c)),y=c;else r[c+1]=sg(E,0),0===y?y=c:r[E+1]=py(r[E+1],c),E=c;w&&(r[c+1]=fy(r[c+1])),Lg(r,S,c,!0),Lg(r,S,c,!1),function(r,s,o,c,d){const h=d?r.residualClasses:r.residualStyles;null!=h&&"string"==typeof s&&Ln(h,s)>=0&&(o[c+1]=og(o[c+1]))}(s,S,r,c,h),m=sg(y,E),h?s.classBindings=m:s.styleBindings=m}(d,h,s,o,m,c)}}function yv(r,s,o,c,d){let h=null;const m=o.directiveEnd;let y=o.directiveStylingLast;for(-1===y?y=o.directiveStart:y++;y<m&&(h=s[y],c=$h(c,h.hostAttrs,d),h!==r);)y++;return null!==r&&(o.directiveStylingLast=y),c}function $h(r,s,o){const c=o?1:2;let d=-1;if(null!==s)for(let h=0;h<s.length;h++){const m=s[h];"number"==typeof m?d=m:d===c&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),Dn(r,m,!!o||s[++h]))}return void 0===r?null:r}function vv(r,s,o,c,d,h,m,y){if(!(3&s.type))return;const E=r.data,w=E[y+1];Cv(function(r){return 1==(1&r)}(w)?bv(E,s,o,d,Io(w),m):void 0)||(Cv(h)||function(r){return 2==(2&r)}(w)&&(h=bv(E,null,o,d,y,m)),function(r,s,o,c,d){const h=Kt(r);if(s)d?h?r.addClass(o,c):o.classList.add(c):h?r.removeClass(o,c):o.classList.remove(c);else{let m=-1===c.indexOf("-")?void 0:Vi.DashCase;if(null==d)h?r.removeStyle(o,c,m):o.style.removeProperty(c);else{const y="string"==typeof d&&d.endsWith("!important");y&&(d=d.slice(0,-10),m|=Vi.Important),h?r.setStyle(o,c,d,m):o.style.setProperty(c,d,y?"important":"")}}}(c,m,Ko(Gn(),o),d,h))}function bv(r,s,o,c,d,h){const m=null===s;let y;for(;d>0;){const E=r[d],w=Array.isArray(E),S=w?E[1]:E,M=null===S;let O=o[d+1];O===rt&&(O=M?U:void 0);let L=M?Qd(O,c):S===c?O:void 0;if(w&&!Cv(L)&&(L=Qd(E,c)),Cv(L)&&(y=L,m))return y;const G=r[d+1];d=m?ns(G):Io(G)}if(null!==s){let E=h?s.residualClasses:s.residualStyles;null!=E&&(y=Qd(E,c))}return y}function Cv(r){return void 0!==r}function ds(r,s){return 0!=(r.flags&(s?16:32))}function Ow(r,s=""){const o=Ce(),c=mt(),d=r+20,h=c.firstCreatePass?Ra(c,d,1,s,null):c.data[d],m=o[d]=function(r,s){return Kt(r)?r.createText(s):r.createTextNode(s)}(o[11],s);Ta(c,o,m,h),xi(h,!1)}function Ev(r){return zh("",r,""),Ev}function zh(r,s,o){const c=Ce(),d=ku(c,r,s,o);return d!==rt&&$s(c,Gn(),d),zh}function wt(r,s,o){!function(r,s,o,c){const d=mt(),h=fi(2);d.firstUpdatePass&&yt(d,null,h,c);const m=Ce();if(o!==rt&&ii(m,h,o)){const y=d.data[Gn()];if(ds(y,c)&&!mv(d,h)){let E=c?y.classesWithoutHost:y.stylesWithoutHost;null!==E&&(o=H(E,o||"")),Pg(d,y,m,o,c)}else!function(r,s,o,c,d,h,m,y){d===rt&&(d=U);let E=0,w=0,S=0<d.length?d[0]:null,M=0<h.length?h[0]:null;for(;null!==S||null!==M;){const O=E<d.length?d[E+1]:void 0,L=w<h.length?h[w+1]:void 0;let ae,G=null;S===M?(E+=2,w+=2,O!==L&&(G=M,ae=L)):null===M||null!==S&&S<M?(E+=2,G=S):(w+=2,G=M,ae=L),null!==G&&vv(r,s,o,c,G,ae,m,y),S=E<d.length?d[E]:null,M=w<h.length?h[w]:null}}(d,y,m,m[11],m[h+1],m[h+1]=function(r,s,o){if(null==o||""===o)return U;const c=[],d=Ir(o);if(Array.isArray(d))for(let h=0;h<d.length;h++)r(c,d[h],!0);else if("object"==typeof d)for(const h in d)d.hasOwnProperty(h)&&r(c,h,d[h]);else"string"==typeof d&&s(c,d);return c}(r,s,o),c,h)}}(Dn,qs,ku(Ce(),r,s,o),!0)}function Kh(r,s,o){const c=Ce();return ii(c,Gr(),s)&&mi(mt(),fn(),c,r,s,c[11],o,!0),Kh}const yi=void 0;var zw=["en",[["a","p"],["AM","PM"],yi],[["AM","PM"],yi,yi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],yi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],yi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",yi,"{1} 'at' {0}",yi],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(r){const s=Math.floor(Math.abs(r)),o=r.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===o?1:5}];let zl={};function Na(r){const s=function(r){return r.toLowerCase().replace(/_/g,"-")}(r);let o=Jh(s);if(o)return o;const c=s.split("-")[0];if(o=Jh(c),o)return o;if("en"===c)return zw;throw new Error(`Missing locale data for the locale "${r}".`)}function Ww(r){return Na(r)[He.PluralCase]}function Jh(r){return r in zl||(zl[r]=jt.ng&&jt.ng.common&&jt.ng.common.locales&&jt.ng.common.locales[r]),zl[r]}var He=(()=>((He=He||{})[He.LocaleId=0]="LocaleId",He[He.DayPeriodsFormat=1]="DayPeriodsFormat",He[He.DayPeriodsStandalone=2]="DayPeriodsStandalone",He[He.DaysFormat=3]="DaysFormat",He[He.DaysStandalone=4]="DaysStandalone",He[He.MonthsFormat=5]="MonthsFormat",He[He.MonthsStandalone=6]="MonthsStandalone",He[He.Eras=7]="Eras",He[He.FirstDayOfWeek=8]="FirstDayOfWeek",He[He.WeekendRange=9]="WeekendRange",He[He.DateFormat=10]="DateFormat",He[He.TimeFormat=11]="TimeFormat",He[He.DateTimeFormat=12]="DateTimeFormat",He[He.NumberSymbols=13]="NumberSymbols",He[He.NumberFormats=14]="NumberFormats",He[He.CurrencyCode=15]="CurrencyCode",He[He.CurrencySymbol=16]="CurrencySymbol",He[He.CurrencyName=17]="CurrencyName",He[He.Currencies=18]="Currencies",He[He.Directionality=19]="Directionality",He[He.PluralCase=20]="PluralCase",He[He.ExtraData=21]="ExtraData",He))();const jg="en-US";let ef=jg;function Wl(r){Le(r,"Expected localeId to be defined"),"string"==typeof r&&(ef=r.toLowerCase().replace(/_/g,"-"))}function Gv(r,s,o,c,d){if(r=V(r),Array.isArray(r))for(let h=0;h<r.length;h++)Gv(r[h],s,o,c,d);else{const h=mt(),m=Ce();let y=is(r)?r:V(r.provide),E=Oo(r);const w=Wt(),S=1048575&w.providerIndexes,M=w.directiveStart,O=w.providerIndexes>>20;if(is(r)||!r.multi){const L=new kc(E,d,Hu),G=Xg(y,s,d?S:S+O,M);-1===G?(Ps(zr(w,m),h,y),Jg(h,r,s.length),s.push(y),w.directiveStart++,w.directiveEnd++,d&&(w.providerIndexes+=1048576),o.push(L),m.push(L)):(o[G]=L,m[G]=L)}else{const L=Xg(y,s,S+O,M),G=Xg(y,s,S,S+O),ae=L>=0&&o[L],K=G>=0&&o[G];if(d&&!K||!d&&!ae){Ps(zr(w,m),h,y);const Ee=function(r,s,o,c,d){const h=new kc(r,o,Hu);return h.multi=[],h.index=s,h.componentProviders=0,FI(h,d,c&&!o),h}(d?uD:cD,o.length,d,c,E);!d&&K&&(o[G].providerFactory=Ee),Jg(h,r,s.length,0),s.push(y),w.directiveStart++,w.directiveEnd++,d&&(w.providerIndexes+=1048576),o.push(Ee),m.push(Ee)}else Jg(h,r,L>-1?L:G,FI(o[d?G:L],E,!d&&c));!d&&c&&K&&o[G].componentProviders++}}}function Jg(r,s,o,c){const d=is(s);if(d||function(r){return!!r.useClass}(s)){const m=(s.useClass||s).prototype.ngOnDestroy;if(m){const y=r.destroyHooks||(r.destroyHooks=[]);if(!d&&s.multi){const E=y.indexOf(o);-1===E?y.push(o,[c,m]):y[E+1].push(c,m)}else y.push(o,m)}}}function FI(r,s,o){return o&&r.componentProviders++,r.multi.push(s)-1}function Xg(r,s,o,c){for(let d=o;d<c;d++)if(s[d]===r)return d;return-1}function cD(r,s,o,c){return em(this.multi,[])}function uD(r,s,o,c){const d=this.multi;let h;if(this.providerFactory){const m=this.providerFactory.componentProviders,y=_l(o,o[1],this.providerFactory.index,c);h=y.slice(0,m),em(d,h);for(let E=m;E<y.length;E++)h.push(y[E])}else h=[],em(d,h);return h}function em(r,s){for(let o=0;o<r.length;o++)s.push((0,r[o])());return s}function dD(r,s=[]){return o=>{o.providersResolver=(c,d)=>function(r,s,o){const c=mt();if(c.firstCreatePass){const d=Qn(r);Gv(o,c.data,c.blueprint,d,!0),Gv(s,c.data,c.blueprint,d,!1)}}(c,d?d(r):r,s)}}class hD{}const tm="ngComponent";class BI{resolveComponentFactory(s){throw function(r){const s=Error(`No component factory found for ${Z(r)}. Did you add it to @NgModule.entryComponents?`);return s[tm]=r,s}(s)}}let Wu=(()=>{class r{}return r.NULL=new BI,r})();function im(...r){}function Yu(r,s){return new hs(jn(r,s))}const HI=function(){return Yu(Wt(),Ce())};let hs=(()=>{class r{constructor(o){this.nativeElement=o}}return r.__NG_ELEMENT_ID__=HI,r})();function gD(r){return r instanceof hs?r.nativeElement:r}class mn{}let jI=(()=>{class r{}return r.__NG_ELEMENT_ID__=()=>hf(),r})();const hf=function(){const r=Ce(),o=Jn(Wt().index,r);return function(r){return r[11]}(Yi(o)?o:r)};let $v=(()=>{class r{}return r.\u0275prov=Bt({token:r,providedIn:"root",factory:()=>null}),r})();class ff{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const zv=new ff("12.2.7");class Wv{constructor(){}supports(s){return Mu(s)}create(s){return new yD(s)}}const GI=(r,s)=>s;class yD{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||GI}forEachItem(s){let o;for(o=this._itHead;null!==o;o=o._next)s(o)}forEachOperation(s){let o=this._itHead,c=this._removalsHead,d=0,h=null;for(;o||c;){const m=!c||o&&o.currentIndex<Yv(c,d,h)?o:c,y=Yv(m,d,h),E=m.currentIndex;if(m===c)d--,c=c._nextRemoved;else if(o=o._next,null==m.previousIndex)d++;else{h||(h=[]);const w=y-d,S=E-d;if(w!=S){for(let O=0;O<w;O++){const L=O<h.length?h[O]:h[O]=0,G=L+O;S<=G&&G<w&&(h[O]=L+1)}h[m.previousIndex]=S-w}}y!==E&&s(m,y,E)}}forEachPreviousItem(s){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachMovedItem(s){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}forEachIdentityChange(s){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)s(o)}diff(s){if(null==s&&(s=[]),!Mu(s))throw new Error(`Error trying to diff '${Z(s)}'. Only arrays and iterables are allowed`);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let d,h,m,o=this._itHead,c=!1;if(Array.isArray(s)){this.length=s.length;for(let y=0;y<this.length;y++)h=s[y],m=this._trackByFn(y,h),null!==o&&Object.is(o.trackById,m)?(c&&(o=this._verifyReinsertion(o,h,m,y)),Object.is(o.item,h)||this._addIdentityChange(o,h)):(o=this._mismatch(o,h,m,y),c=!0),o=o._next}else d=0,function(r,s){if(Array.isArray(r))for(let o=0;o<r.length;o++)s(r[o]);else{const o=r[ni()]();let c;for(;!(c=o.next()).done;)s(c.value)}}(s,y=>{m=this._trackByFn(d,y),null!==o&&Object.is(o.trackById,m)?(c&&(o=this._verifyReinsertion(o,y,m,d)),Object.is(o.item,y)||this._addIdentityChange(o,y)):(o=this._mismatch(o,y,m,d),c=!0),o=o._next,d++}),this.length=d;return this._truncate(o),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,o,c,d){let h;return null===s?h=this._itTail:(h=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._reinsertAfter(s,h,d)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(c,d))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._moveAfter(s,h,d)):s=this._addAfter(new Zv(o,c),h,d),s}_verifyReinsertion(s,o,c,d){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==h?s=this._reinsertAfter(h,s._prev,d):s.currentIndex!=d&&(s.currentIndex=d,this._addToMoves(s,d)),s}_truncate(s){for(;null!==s;){const o=s._next;this._addToRemovals(this._unlink(s)),s=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,o,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const d=s._prevRemoved,h=s._nextRemoved;return null===d?this._removalsHead=h:d._nextRemoved=h,null===h?this._removalsTail=d:h._prevRemoved=d,this._insertAfter(s,o,c),this._addToMoves(s,c),s}_moveAfter(s,o,c){return this._unlink(s),this._insertAfter(s,o,c),this._addToMoves(s,c),s}_addAfter(s,o,c){return this._insertAfter(s,o,c),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,o,c){const d=null===o?this._itHead:o._next;return s._next=d,s._prev=o,null===d?this._itTail=s:d._prev=s,null===o?this._itHead=s:o._next=s,null===this._linkedRecords&&(this._linkedRecords=new Ba),this._linkedRecords.put(s),s.currentIndex=c,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const o=s._prev,c=s._next;return null===o?this._itHead=c:o._next=c,null===c?this._itTail=o:c._prev=o,s}_addToMoves(s,o){return s.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ba),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,o){return s.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class Zv{constructor(s,o){this.item=s,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class JR{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,o){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===o||o<=c.currentIndex)&&Object.is(c.trackById,s))return c;return null}remove(s){const o=s._prevDup,c=s._nextDup;return null===o?this._head=c:o._nextDup=c,null===c?this._tail=o:c._prevDup=o,null===this._head}}class Ba{constructor(){this.map=new Map}put(s){const o=s.trackById;let c=this.map.get(o);c||(c=new JR,this.map.set(o,c)),c.add(s)}get(s,o){const d=this.map.get(s);return d?d.get(s,o):null}remove(s){const o=s.trackById;return this.map.get(o).remove(s)&&this.map.delete(o),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Yv(r,s,o){const c=r.previousIndex;if(null===c)return c;let d=0;return o&&c<o.length&&(d=o[c]),c+s+d}class vD{constructor(){}supports(s){return s instanceof Map||zy(s)}create(){return new zI}}class zI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let o;for(o=this._mapHead;null!==o;o=o._next)s(o)}forEachPreviousItem(s){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)s(o)}forEachChangedItem(s){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}diff(s){if(s){if(!(s instanceof Map||zy(s)))throw new Error(`Error trying to diff '${Z(s)}'. Only maps and objects are allowed`)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(s,(c,d)=>{if(o&&o.key===d)this._maybeAddToChanges(o,c),this._appendAfter=o,o=o._next;else{const h=this._getOrCreateRecordForKey(d,c);o=this._insertBeforeOrAppend(o,h)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let c=o;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,o){if(s){const c=s._prev;return o._next=s,o._prev=c,s._prev=o,c&&(c._next=o),s===this._mapHead&&(this._mapHead=o),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(s,o){if(this._records.has(s)){const d=this._records.get(s);this._maybeAddToChanges(d,o);const h=d._prev,m=d._next;return h&&(h._next=m),m&&(m._prev=h),d._next=null,d._prev=null,d}const c=new WI(s);return this._records.set(s,c),c.currentValue=o,this._addToAdditions(c),c}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,o){Object.is(o,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=o,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,o){s instanceof Map?s.forEach(o):Object.keys(s).forEach(c=>o(s[c],c))}}class WI{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function qv(){return new sm([new Wv])}let sm=(()=>{class r{constructor(o){this.factories=o}static create(o,c){if(null!=c){const d=c.factories.slice();o=o.concat(d)}return new r(o)}static extend(o){return{provide:r,useFactory:c=>r.create(o,c||qv()),deps:[[r,new Ls,new tr]]}}find(o){const c=this.factories.find(d=>d.supports(o));if(null!=c)return c;throw new Error(`Cannot find a differ supporting object '${o}' of type '${function(r){return r.name||typeof r}(o)}'`)}}return r.\u0275prov=Bt({token:r,providedIn:"root",factory:qv}),r})();function bD(){return new pf([new vD])}let pf=(()=>{class r{constructor(o){this.factories=o}static create(o,c){if(c){const d=c.factories.slice();o=o.concat(d)}return new r(o)}static extend(o){return{provide:r,useFactory:c=>r.create(o,c||bD()),deps:[[r,new Ls,new tr]]}}find(o){const c=this.factories.find(d=>d.supports(o));if(c)return c;throw new Error(`Cannot find a differ supporting object '${o}'`)}}return r.\u0275prov=Bt({token:r,providedIn:"root",factory:bD}),r})();function om(r,s,o,c,d=!1){for(;null!==o;){const h=s[o.index];if(null!==h&&c.push(Qt(h)),ki(h))for(let y=10;y<h.length;y++){const E=h[y],w=E[1].firstChild;null!==w&&om(E[1],E,w,c)}const m=o.type;if(8&m)om(r,s,o.child,c);else if(32&m){const y=Pl(o,s);let E;for(;E=y();)c.push(E)}else if(16&m){const y=oy(s,o);if(Array.isArray(y))c.push(...y);else{const E=hu(s[16]);om(E[1],E,y,c,!0)}}o=d?o.projectionNext:o.next}return c}class gf{constructor(s,o){this._lView=s,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,o=s[1];return om(o,s,o.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(ki(s)){const o=s[8],c=o?o.indexOf(this):-1;c>-1&&(Fl(s,c),Zr(o,c))}this._attachedToViewContainer=!1}Ea(this._lView[1],this._lView)}onDestroy(s){Cu(this._lView[1],this._lView,null,s)}markForCheck(){Ry(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Oy(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(r,s,o){Ic(!0);try{Oy(r,s,o)}finally{Ic(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var s;this._appRef=null,Or(this._lView[1],s=this._lView,s[11],2,null,null)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=s}}class YI extends gf{constructor(s){super(s),this._view=s}detectChanges(){Ih(this._view)}checkNoChanges(){!function(r){Ic(!0);try{Ih(r)}finally{Ic(!1)}}(this._view)}get context(){return null}}const qI=function(r){return function(r,s,o){if(vc(r)&&!o){const c=Jn(r.index,s);return new gf(c,c)}return 47&r.type?new gf(s[16],s):null}(Wt(),Ce(),16==(16&r))};let CD=(()=>{class r{}return r.__NG_ELEMENT_ID__=qI,r})();const am=[new vD],JI=new sm([new Wv]),lm=new pf(am),Ks=function(){return cm(Wt(),Ce())};let mf=(()=>{class r{}return r.__NG_ELEMENT_ID__=Ks,r})();const wD=mf,XI=class extends wD{constructor(s,o,c){super(),this._declarationLView=s,this._declarationTContainer=o,this.elementRef=c}createEmbeddedView(s){const o=this._declarationTContainer.tViews,c=vh(this._declarationLView,o,s,16,null,o.declTNode,null,null,null,null);c[17]=this._declarationLView[this._declarationTContainer.index];const h=this._declarationLView[19];return null!==h&&(c[19]=h.createEmbeddedView(o)),bu(o,c,s),new gf(c)}};function cm(r,s){return 4&r.type?new XI(s,r,Yu(r,s)):null}class ur{}class Fo{}const Ua=function(){return Xv(Wt(),Ce())};let um=(()=>{class r{}return r.__NG_ELEMENT_ID__=Ua,r})();const SD=um,Qv=class extends SD{constructor(s,o,c){super(),this._lContainer=s,this._hostTNode=o,this._hostLView=c}get element(){return Yu(this._hostTNode,this._hostLView)}get injector(){return new ra(this._hostTNode,this._hostLView)}get parentInjector(){const s=$n(this._hostTNode,this._hostLView);if(tn(s)){const o=gl(s,this._hostLView),c=po(s);return new ra(o[1].data[c+8],o)}return new ra(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const o=Jv(this._lContainer);return null!==o&&o[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,o,c){const d=s.createEmbeddedView(o||{});return this.insert(d,c),d}createComponent(s,o,c,d,h){const m=c||this.parentInjector;if(!h&&null==s.ngModule&&m){const E=m.get(ur,null);E&&(h=E)}const y=s.create(m,d,void 0,h);return this.insert(y.hostView,o),y}insert(s,o){const c=s._lView,d=c[1];if(ki(c[3])){const S=this.indexOf(s);if(-1!==S)this.detach(S);else{const M=c[3],O=new Qv(M,M[6],M[3]);O.detach(O.indexOf(s))}}const h=this._adjustIndex(o),m=this._lContainer;!function(r,s,o,c){const d=10+c,h=o.length;c>0&&(o[d-1][4]=s),c<h-10?(s[4]=o[d],Ni(o,10+c,s)):(o.push(s),s[4]=null),s[3]=o;const m=s[17];null!==m&&o!==m&&function(r,s){const o=r[9];s[16]!==s[3][3][16]&&(r[2]=!0),null===o?r[9]=[s]:o.push(s)}(m,s);const y=s[19];null!==y&&y.insertView(r),s[2]|=128}(d,c,m,h);const y=mh(h,m),E=c[11],w=gh(E,m[7]);return null!==w&&function(r,s,o,c,d,h){c[0]=d,c[6]=s,Or(r,c,o,1,d,h)}(d,m[6],E,c,w,y),s.attachToViewContainerRef(),Ni(dm(m),h,s),s}move(s,o){return this.insert(s,o)}indexOf(s){const o=Jv(this._lContainer);return null!==o?o.indexOf(s):-1}remove(s){const o=this._adjustIndex(s,-1),c=Fl(this._lContainer,o);c&&(Zr(dm(this._lContainer),o),Ea(c[1],c))}detach(s){const o=this._adjustIndex(s,-1),c=Fl(this._lContainer,o);return c&&null!=Zr(dm(this._lContainer),o)?new gf(c):null}_adjustIndex(s,o=0){return null==s?this.length+o:s}};function Jv(r){return r[8]}function dm(r){return r[8]||(r[8]=[])}function Xv(r,s){let o;const c=s[r.index];if(ki(c))o=c;else{let d;if(8&r.type)d=Qt(c);else{const h=s[11];d=h.createComment("");const m=jn(r,s);Ll(h,gh(h,m),d,function(r,s){return Kt(r)?r.nextSibling(s):s.nextSibling}(h,m),!1)}s[r.index]=o=Eu(c,s,d,r),Oa(s,o)}return new Qv(o,r,s)}const Jl={};class mA extends Wu{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const o=An(s);return new YD(o,this.ngModule)}}function bm(r){const s=[];for(let o in r)r.hasOwnProperty(o)&&s.push({propName:r[o],templateName:o});return s}const WD=new Dt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>es});class YD extends hD{constructor(s,o){super(),this.componentDef=s,this.ngModule=o,this.componentType=s.type,this.selector=s.selectors.map(uE).join(","),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return bm(this.componentDef.inputs)}get outputs(){return bm(this.componentDef.outputs)}create(s,o,c,d){const h=(d=d||this.ngModule)?function(r,s){return{get:(o,c,d)=>{const h=r.get(o,Jl,d);return h!==Jl||c===Jl?h:s.get(o,c,d)}}}(s,d.injector):s,m=h.get(mn,Hr),y=h.get($v,null),E=m.createRenderer(null,this.componentDef),w=this.componentDef.selectors[0][0]||"div",S=c?function(r,s,o){if(Kt(r))return r.selectRootElement(s,o===Ie.ShadowDom);let c="string"==typeof s?r.querySelector(s):s;return c.textContent="",c}(E,c,this.componentDef.encapsulation):ny(m.createRenderer(null,this.componentDef),w,function(r){const s=r.toLowerCase();return"svg"===s?al:"math"===s?"http://www.w3.org/1998/MathML/":null}(w)),M=this.componentDef.onPush?576:528,O=function(r,s){return{components:[],scheduler:r||es,clean:ME,playerHandler:s||null,flags:0}}(),L=Ul(0,null,null,1,0,null,null,null,null,null),G=vh(null,L,O,M,null,null,m,E,y,h);let ae,K;Rc(G);try{const Ee=function(r,s,o,c,d,h){const m=o[1];o[20]=r;const E=Ra(m,20,2,"#host",null),w=E.mergedAttrs=s.hostAttrs;null!==w&&(Ah(E,w,!0),null!==r&&(Er(d,r,w),null!==E.classes&&ly(d,r,E.classes),null!==E.styles&&iE(d,r,E.styles)));const S=c.createRenderer(r,s),M=vh(o,bh(s),null,s.onPush?64:16,o[20],E,c,S,h||null,null);return m.firstCreatePass&&(Ps(zr(E,o),m,s.type),Ay(m,E),fg(E,o.length,1)),Oa(o,M),o[20]=M}(S,this.componentDef,G,m,E);if(S)if(c)Er(E,S,["ng-version",zv.full]);else{const{attrs:ge,classes:Fe}=function(r){const s=[],o=[];let c=1,d=2;for(;c<r.length;){let h=r[c];if("string"==typeof h)2===d?""!==h&&s.push(h,r[++c]):8===d&&o.push(h);else{if(!ts(d))break;d=h}c++}return{attrs:s,classes:o}}(this.componentDef.selectors[0]);ge&&Er(E,S,ge),Fe&&Fe.length>0&&ly(E,S,Fe.join(" "))}if(K=wc(L,20),void 0!==o){const ge=K.projection=[];for(let Fe=0;Fe<this.ngContentSelectors.length;Fe++){const et=o[Fe];ge.push(null!=et?Array.from(et):null)}}ae=function(r,s,o,c,d){const h=o[1],m=function(r,s,o){const c=Wt();r.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),IE(r,c,s,vu(r,s,1,null),o));const d=_l(s,r,c.directiveStart,c);Vn(d,s);const h=jn(c,s);return h&&Vn(h,s),d}(h,o,s);if(c.components.push(m),r[8]=m,d&&d.forEach(E=>E(m,s)),s.contentQueries){const E=Wt();s.contentQueries(1,m,E.directiveStart)}const y=Wt();return!h.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(ta(y.index),Eh(o[1],y,0,y.directiveStart,y.directiveEnd,s),TE(s,m)),m}(Ee,this.componentDef,G,O,[bT]),bu(L,G,null)}finally{fl()}return new KD(this.componentType,ae,Yu(K,G),G,K)}}class KD extends class{}{constructor(s,o,c,d,h){super(),this.location=c,this._rootLView=d,this._tNode=h,this.instance=o,this.hostView=this.changeDetectorRef=new YI(d),this.componentType=s}get injector(){return new ra(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}const id=new Map;class JD extends ur{constructor(s,o){super(),this._parent=o,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new mA(this);const c=Ri(s),d=s[nt]||null;d&&Wl(d),this._bootstrapComponents=Li(c.bootstrap),this._r3Injector=PE(s,o,[{provide:ur,useValue:this},{provide:Wu,useValue:this.componentFactoryResolver}],Z(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,o=ln.THROW_IF_NOT_FOUND,c=Pe.Default){return s===ln||s===ur||s===Du?this:this._r3Injector.get(s,o,c)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class wb extends Fo{constructor(s){super(),this.moduleType=s,null!==Ri(s)&&function(r){const s=new Set;!function o(c){const d=Ri(c,!0),h=d.id;null!==h&&(function(r,s,o){if(s&&s!==o)throw new Error(`Duplicate module registered for ${r} - ${Z(s)} vs ${Z(s.name)}`)}(h,id.get(h),c),id.set(h,c));const m=Li(d.imports);for(const y of m)s.has(y)||(s.add(y),o(y))}(r)}(s)}create(s){return new JD(this.moduleType,s)}}function Db(r,s,o){const c=hn()+r,d=Ce();return d[c]===rt?zs(d,c,o?s.call(o):s()):function(r,s){return r[s]}(d,c)}function Rf(r,s){const o=r[s];return o===rt?void 0:o}function n0(r,s,o,c,d,h,m){const y=s+o;return function(r,s,o,c){const d=ii(r,s,o);return ii(r,s+1,c)||d}(r,y,d,h)?zs(r,y+2,m?c.call(m,d,h):c(d,h)):Rf(r,y+2)}function Em(r,s){const o=mt();let c;const d=r+20;o.firstCreatePass?(c=function(r,s){if(s)for(let o=s.length-1;o>=0;o--){const c=s[o];if(r===c.name)return c}throw new re("302",`The pipe '${r}' could not be found!`)}(s,o.pipeRegistry),o.data[d]=c,c.onDestroy&&(o.destroyHooks||(o.destroyHooks=[])).push(d,c.onDestroy)):c=o.data[d];const h=c.factory||(c.factory=Ms(c.type)),m=Ai(Hu);try{const y=Pc(!1),E=h();return Pc(y),function(r,s,o,c){o>=r.data.length&&(r.data[o]=null,r.blueprint[o]=null),s[o]=c}(o,Ce(),d,E),E}finally{Ai(m)}}function o0(r,s,o){const c=r+20,d=Ce(),h=ks(d,c);return kf(d,Of(d,c)?function(r,s,o,c,d,h){const m=s+o;return ii(r,m,d)?zs(r,m+1,h?c.call(h,d):c(d)):Rf(r,m+1)}(d,hn(),s,h.transform,o,h):h.transform(o))}function a0(r,s,o,c){const d=r+20,h=Ce(),m=ks(h,d);return kf(h,Of(h,d)?n0(h,hn(),s,m.transform,o,c,m):m.transform(o,c))}function Of(r,s){return r[1].data[s].pure}function kf(r,s){return cr.isWrapped(s)&&(s=cr.unwrap(s),r[Qe.lFrame.bindingIndex]=rt),s}function Sb(r){return s=>{setTimeout(r,void 0,s)}}const eo=class extends l.xQ{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,o,c){var d,h,m;let y=s,E=o||(()=>null),w=c;if(s&&"object"==typeof s){const M=s;y=null===(d=M.next)||void 0===d?void 0:d.bind(M),E=null===(h=M.error)||void 0===h?void 0:h.bind(M),w=null===(m=M.complete)||void 0===m?void 0:m.bind(M)}this.__isAsync&&(E=Sb(E),y&&(y=Sb(y)),w&&(w=Sb(w)));const S=super.subscribe({next:y,error:E,complete:w});return s instanceof Q.w&&s.add(S),S}};function RA(){return this._results[ni()]()}class xf{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=ni(),c=xf.prototype;c[o]||(c[o]=RA)}get changes(){return this._changes||(this._changes=new eo)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,o){return this._results.reduce(s,o)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,o){const c=this;c.dirty=!1;const d=pi(s);(this._changesDetected=!function(r,s,o){if(r.length!==s.length)return!1;for(let c=0;c<r.length;c++){let d=r[c],h=s[c];if(o&&(d=o(d),h=o(h)),h!==d)return!1}return!0}(c._results,d,o))&&(c._results=d,c.length=d.length,c.last=d[this.length-1],c.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Tb{constructor(s){this.queryList=s,this.matches=null}clone(){return new Tb(this.queryList)}setDirty(){this.queryList.setDirty()}}class l0{constructor(s=[]){this.queries=s}createEmbeddedView(s){const o=s.queries;if(null!==o){const c=null!==s.contentQueries?s.contentQueries[0]:o.length,d=[];for(let h=0;h<c;h++){const m=o.getByIndex(h);d.push(this.queries[m.indexInDeclarationView].clone())}return new l0(d)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let o=0;o<this.queries.length;o++)null!==UA(s,o).matches&&this.queries[o].setDirty()}}class xA{constructor(s,o,c=null){this.predicate=s,this.flags=o,this.read=c}}class Ib{constructor(s=[]){this.queries=s}elementStart(s,o){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(s,o)}elementEnd(s){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(s)}embeddedTView(s){let o=null;for(let c=0;c<this.length;c++){const d=null!==o?o.length:0,h=this.getByIndex(c).embeddedTView(s,d);h&&(h.indexInDeclarationView=c,null!==o?o.push(h):o=[h])}return null!==o?new Ib(o):null}template(s,o){for(let c=0;c<this.queries.length;c++)this.queries[c].template(s,o)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Ab{constructor(s,o=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(s,o){this.isApplyingToNode(o)&&this.matchTNode(s,o)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,o){this.elementStart(s,o)}embeddedTView(s,o){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,o),new Ab(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let c=s.parent;for(;null!==c&&8&c.type&&c.index!==o;)c=c.parent;return o===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(s,o){const c=this.metadata.predicate;if(Array.isArray(c))for(let d=0;d<c.length;d++){const h=c[d];this.matchTNodeWithReadOption(s,o,PA(o,h)),this.matchTNodeWithReadOption(s,o,Ht(o,s,h,!1,!1))}else c===mf?4&o.type&&this.matchTNodeWithReadOption(s,o,-1):this.matchTNodeWithReadOption(s,o,Ht(o,s,c,!1,!1))}matchTNodeWithReadOption(s,o,c){if(null!==c){const d=this.metadata.read;if(null!==d)if(d===hs||d===um||d===mf&&4&o.type)this.addMatch(o.index,-2);else{const h=Ht(o,s,d,!1,!1);null!==h&&this.addMatch(o.index,h)}else this.addMatch(o.index,c)}}addMatch(s,o){null===this.matches?this.matches=[s,o]:this.matches.push(s,o)}}function PA(r,s){const o=r.localNames;if(null!==o)for(let c=0;c<o.length;c+=2)if(o[c]===s)return o[c+1];return null}function NA(r,s,o,c){return-1===o?function(r,s){return 11&r.type?Yu(r,s):4&r.type?cm(r,s):null}(s,r):-2===o?function(r,s,o){return o===hs?Yu(s,r):o===mf?cm(s,r):o===um?Xv(s,r):void 0}(r,s,c):_l(r,r[1],o,s)}function Pf(r,s,o,c){const d=s[19].queries[c];if(null===d.matches){const h=r.data,m=o.matches,y=[];for(let E=0;E<m.length;E+=2){const w=m[E];y.push(w<0?null:NA(s,h[w],m[E+1],o.metadata.read))}d.matches=y}return d.matches}function Xl(r,s,o,c){const d=r.queries.getByIndex(o),h=d.matches;if(null!==h){const m=Pf(r,s,d,o);for(let y=0;y<h.length;y+=2){const E=h[y];if(E>0)c.push(m[y/2]);else{const w=h[y+1],S=s[-E];for(let M=10;M<S.length;M++){const O=S[M];O[17]===O[3]&&Xl(O[1],O,w,c)}if(null!==S[9]){const M=S[9];for(let O=0;O<M.length;O++){const L=M[O];Xl(L[1],L,w,c)}}}}}return c}function FA(r){const s=Ce(),o=mt(),c=gp();hl(c+1);const d=UA(o,c);if(r.dirty&&Rd(s)===(2==(2&d.metadata.flags))){if(null===d.matches)r.reset([]);else{const h=d.crossesNgTemplate?Xl(o,s,c,[]):Pf(o,s,d,c);r.reset(h,gD),r.notifyOnChanges()}return!0}return!1}function Mb(r,s,o){const c=mt();c.firstCreatePass&&(VA(c,new xA(r,s,o),-1),2==(2&s)&&(c.staticViewQueries=!0)),tc(c,Ce(),s)}function Ei(r,s,o,c){const d=mt();if(d.firstCreatePass){const h=Wt();VA(d,new xA(s,o,c),h.index),function(r,s){const o=r.contentQueries||(r.contentQueries=[]);s!==(o.length?o[o.length-1]:-1)&&o.push(r.queries.length-1,s)}(d,r),2==(2&o)&&(d.staticContentQueries=!0)}tc(d,Ce(),o)}function ec(){return r=Ce(),s=gp(),r[19].queries[s].queryList;var r,s}function tc(r,s,o){const c=new xf(4==(4&o));Cu(r,s,c,c.destroy),null===s[19]&&(s[19]=new l0),s[19].queries.push(new Tb(c))}function VA(r,s,o){null===r.queries&&(r.queries=new Ib),r.queries.track(new Ab(s,o))}function UA(r,s){return r.queries.getByIndex(s)}const Yb=new Dt("Application Initializer");let ad=(()=>{class r{constructor(o){this.appInits=o,this.resolve=im,this.reject=im,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,d)=>{this.resolve=c,this.reject=d})}runInitializers(){if(this.initialized)return;const o=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const h=this.appInits[d]();if(sv(h))o.push(h);else if(av(h)){const m=new Promise((y,E)=>{h.subscribe({complete:y,error:E})});o.push(m)}}Promise.all(o).then(()=>{c()}).catch(d=>{this.reject(d)}),0===o.length&&c(),this.initialized=!0}}return r.\u0275fac=function(o){return new(o||r)(sn(Yb,8))},r.\u0275prov=Bt({token:r,factory:r.\u0275fac}),r})();const C0=new Dt("AppId"),iM={provide:C0,useFactory:function(){return`${jo()}${jo()}${jo()}`},deps:[]};function jo(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Nm=new Dt("Platform Initializer"),Fm=new Dt("Platform ID"),Bf=new Dt("appBootstrapListener");let E0=(()=>{class r{log(o){console.log(o)}warn(o){console.warn(o)}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=Bt({token:r,factory:r.\u0275fac}),r})();const Lm=new Dt("LocaleId"),w0=new Dt("DefaultCurrencyCode");class rM{constructor(s,o){this.ngModuleFactory=s,this.componentFactories=o}}const T0=function(r){return new wb(r)},qb=T0,kO=function(r){return Promise.resolve(T0(r))},I0=function(r){const s=T0(r),c=Li(Ri(r).declarations).reduce((d,h)=>{const m=An(h);return m&&d.push(new YD(m)),d},[]);return new rM(s,c)},A0=I0,aM=function(r){return Promise.resolve(I0(r))};let Uf=(()=>{class r{constructor(){this.compileModuleSync=qb,this.compileModuleAsync=kO,this.compileModuleAndAllComponentsSync=A0,this.compileModuleAndAllComponentsAsync=aM}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=Bt({token:r,factory:r.\u0275fac}),r})();const uM=(()=>Promise.resolve(0))();function Bm(r){"undefined"==typeof Zone?uM.then(()=>{r&&r.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}class pr{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new eo(!1),this.onMicrotaskEmpty=new eo(!1),this.onStable=new eo(!1),this.onError=new eo(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!c&&o,d.shouldCoalesceRunChangeDetection=c,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function(){let r=jt.requestAnimationFrame,s=jt.cancelAnimationFrame;if("undefined"!=typeof Zone&&r&&s){const o=r[Zone.__symbol__("OriginalDelegate")];o&&(r=o);const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function(r){const s=()=>{!function(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(jt,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,Qb(r),r.isCheckStableRunning=!0,Kb(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),Qb(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,c,d,h,m,y)=>{try{return x0(r),o.invokeTask(d,h,m,y)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||r.shouldCoalesceRunChangeDetection)&&s(),P0(r)}},onInvoke:(o,c,d,h,m,y,E)=>{try{return x0(r),o.invoke(d,h,m,y,E)}finally{r.shouldCoalesceRunChangeDetection&&s(),P0(r)}},onHasTask:(o,c,d,h)=>{o.hasTask(d,h),c===d&&("microTask"==h.change?(r._hasPendingMicrotasks=h.microTask,Qb(r),Kb(r)):"macroTask"==h.change&&(r.hasPendingMacrotasks=h.macroTask))},onHandleError:(o,c,d,h)=>(o.handleError(d,h),r.runOutsideAngular(()=>r.onError.emit(h)),!1)})}(d)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!pr.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(pr.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,o,c){return this._inner.run(s,o,c)}runTask(s,o,c,d){const h=this._inner,m=h.scheduleEventTask("NgZoneEvent: "+d,s,R0,im,im);try{return h.runTask(m,o,c)}finally{h.cancelTask(m)}}runGuarded(s,o,c){return this._inner.runGuarded(s,o,c)}runOutsideAngular(s){return this._outer.run(s)}}const R0={};function Kb(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function Qb(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function x0(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function P0(r){r._nesting--,Kb(r)}class N0{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new eo,this.onMicrotaskEmpty=new eo,this.onStable=new eo,this.onError=new eo}run(s,o,c){return s.apply(o,c)}runGuarded(s,o,c){return s.apply(o,c)}runOutsideAngular(s){return s()}runTask(s,o,c,d){return s.apply(o,c)}}let F0=(()=>{class r{constructor(o){this._ngZone=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{pr.assertNotInAngularZone(),Bm(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Bm(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(o)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,c,d){let h=-1;c&&c>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==h),o(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:o,timeoutId:h,updateCb:d})}whenStable(o,c,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,c,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(o,c,d){return[]}}return r.\u0275fac=function(o){return new(o||r)(sn(pr))},r.\u0275prov=Bt({token:r,factory:r.\u0275fac}),r})(),gr=(()=>{class r{constructor(){this._applications=new Map,jf.addToWindow(this)}registerApplication(o,c){this._applications.set(o,c)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,c=!0){return jf.findTestabilityInTree(this,o,c)}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=Bt({token:r,factory:r.\u0275fac}),r})();class Jb{addToWindow(s){}findTestabilityInTree(s,o,c){return null}}function Hf(r){jf=r}let jf=new Jb,L0=!0,V0=!1;function Gf(){return V0=!0,L0}function hM(){if(V0)throw new Error("Cannot enable prod mode after platform setup.");L0=!1}let ms;const H0=new Dt("AllowMultipleToken");class pM{constructor(s,o){this.name=s,this.token=o}}function G0(r,s,o=[]){const c=`Platform: ${s}`,d=new Dt(c);return(h=[])=>{let m=eC();if(!m||m.injector.get(H0,!1))if(r)r(o.concat(h).concat({provide:d,useValue:!0}));else{const y=o.concat(h).concat({provide:d,useValue:!0},{provide:Mh,useValue:"platform"});!function(r){if(ms&&!ms.destroyed&&!ms.injector.get(H0,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");ms=r.get(z0);const s=r.get(Nm,null);s&&s.forEach(o=>o())}(ln.create({providers:y,name:c}))}return function(r){const s=eC();if(!s)throw new Error("No platform exists!");if(!s.injector.get(r,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return s}(d)}}function eC(){return ms&&!ms.destroyed?ms:null}let z0=(()=>{class r{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,c){const y=function(r,s){let o;return o="noop"===r?new N0:("zone.js"===r?void 0:r)||new pr({enableLongStackTrace:Gf(),shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),o}(c?c.ngZone:void 0,{ngZoneEventCoalescing:c&&c.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:c&&c.ngZoneRunCoalescing||!1}),E=[{provide:pr,useValue:y}];return y.run(()=>{const w=ln.create({providers:E,parent:this.injector,name:o.moduleType.name}),S=o.create(w),M=S.injector.get(p,null);if(!M)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return y.runOutsideAngular(()=>{const O=y.onError.subscribe({next:L=>{M.handleError(L)}});S.onDestroy(()=>{jm(this._modules,S),O.unsubscribe()})}),function(r,s,o){try{const c=o();return sv(c)?c.catch(d=>{throw s.runOutsideAngular(()=>r.handleError(d)),d}):c}catch(c){throw s.runOutsideAngular(()=>r.handleError(c)),c}}(M,y,()=>{const O=S.injector.get(ad);return O.runInitializers(),O.donePromise.then(()=>(Wl(S.injector.get(Lm,jg)||jg),this._moduleDoBootstrap(S),S))})})}bootstrapModule(o,c=[]){const d=W0({},c);return function(r,s,o){const c=new wb(o);return Promise.resolve(c)}(0,0,o).then(h=>this.bootstrapModuleFactory(h,d))}_moduleDoBootstrap(o){const c=o.injector.get(cd);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(d=>c.bootstrap(d));else{if(!o.instance.ngDoBootstrap)throw new Error(`The module ${Z(o.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);o.instance.ngDoBootstrap(c)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o()),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(o){return new(o||r)(sn(ln))},r.\u0275prov=Bt({token:r,factory:r.\u0275fac}),r})();function W0(r,s){return Array.isArray(s)?s.reduce(W0,r):Object.assign(Object.assign({},r),s)}let cd=(()=>{class r{constructor(o,c,d,h,m){this._zone=o,this._injector=c,this._exceptionHandler=d,this._componentFactoryResolver=h,this._initStatus=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const y=new B.y(w=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{w.next(this._stable),w.complete()})}),E=new B.y(w=>{let S;this._zone.runOutsideAngular(()=>{S=this._zone.onStable.subscribe(()=>{pr.assertNotInAngularZone(),Bm(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,w.next(!0))})})});const M=this._zone.onUnstable.subscribe(()=>{pr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{w.next(!1)}))});return()=>{S.unsubscribe(),M.unsubscribe()}});this.isStable=(0,he.T)(y,E.pipe((0,de.B)()))}bootstrap(o,c){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let d;d=o instanceof hD?o:this._componentFactoryResolver.resolveComponentFactory(o),this.componentTypes.push(d.componentType);const h=function(r){return r.isBoundToModule}(d)?void 0:this._injector.get(ur),y=d.create(ln.NULL,[],c||d.selector,h),E=y.location.nativeElement,w=y.injector.get(F0,null),S=w&&y.injector.get(gr);return w&&S&&S.registerApplication(E,w),y.onDestroy(()=>{this.detachView(y.hostView),jm(this.components,y),S&&S.unregisterApplication(E)}),this._loadComponent(y),y}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const c=o;this._views.push(c),c.attachToAppRef(this)}detachView(o){const c=o;jm(this._views,c),c.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(Bf,[]).concat(this._bootstrapListeners).forEach(d=>d(o))}ngOnDestroy(){this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return r.\u0275fac=function(o){return new(o||r)(sn(pr),sn(ln),sn(p),sn(Wu),sn(ad))},r.\u0275prov=Bt({token:r,factory:r.\u0275fac}),r})();function jm(r,s){const o=r.indexOf(s);o>-1&&r.splice(o,1)}class Y0{}class iC{}const yM={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let vM=(()=>{class r{constructor(o,c){this._compiler=o,this._config=c||yM}load(o){return this.loadAndCompile(o)}loadAndCompile(o){let[c,d]=o.split("#");return void 0===d&&(d="default"),x(8255)(c).then(h=>h[d]).then(h=>q0(h,c,d)).then(h=>this._compiler.compileModuleAsync(h))}loadFactory(o){let[c,d]=o.split("#"),h="NgFactory";return void 0===d&&(d="default",h=""),x(8255)(this._config.factoryPathPrefix+c+this._config.factoryPathSuffix).then(m=>m[d+h]).then(m=>q0(m,c,d))}}return r.\u0275fac=function(o){return new(o||r)(sn(Uf),sn(iC,8))},r.\u0275prov=Bt({token:r,factory:r.\u0275fac}),r})();function q0(r,s,o){if(!r)throw new Error(`Cannot find '${o}' in '${s}'`);return r}const DM=function(r){return null},rS=G0(null,"core",[{provide:Fm,useValue:"unknown"},{provide:z0,deps:[ln]},{provide:gr,deps:[]},{provide:E0,deps:[]}]),Zm=[{provide:cd,useClass:cd,deps:[pr,ln,p,Wu,ad]},{provide:WD,deps:[pr],useFactory:function(r){let s=[];return r.onStable.subscribe(()=>{for(;s.length;)s.pop()()}),function(o){s.push(o)}}},{provide:ad,useClass:ad,deps:[[new tr,Yb]]},{provide:Uf,useClass:Uf,deps:[]},iM,{provide:sm,useFactory:function(){return JI},deps:[]},{provide:pf,useFactory:function(){return lm},deps:[]},{provide:Lm,useFactory:function(r){return Wl(r=r||"undefined"!=typeof $localize&&$localize.locale||jg),r},deps:[[new Fs(Lm),new tr,new Ls]]},{provide:w0,useValue:"USD"}];let ac=(()=>{class r{constructor(o){}}return r.\u0275fac=function(o){return new(o||r)(sn(cd))},r.\u0275mod=mc({type:r}),r.\u0275inj=_t({providers:Zm}),r})()},8939:(Me,me,x)=>{"use strict";x.d(me,{hO:()=>ee,xv:()=>H,Dh:()=>Z,GT:()=>q,on:()=>k,pX:()=>de});var l=x(7716),Q=x(7841),B=x(9126);Me=x.hmd(Me);const he=["ngOnDestroy"],de=(z,re,te,ye={})=>new Proxy(z,{get:(fe,Se)=>te.runOutsideAngular(()=>{var $e;if(z[Se])return(null===($e=null==ye?void 0:ye.spy)||void 0===$e?void 0:$e.get)&&ye.spy.get(Se,z[Se]),z[Se];if(he.indexOf(Se)>-1)return()=>{};const tt=re.toPromise().then(Xe=>{const Ot=Xe&&Xe[Se];return"function"==typeof Ot?Ot.bind(Xe):Ot&&Ot.then?Ot.then(pt=>te.run(()=>pt)):te.run(()=>Ot)});return new Proxy(()=>{},{get:(Xe,Ot)=>tt[Ot],apply:(Xe,Ot,pt)=>tt.then(Mt=>{var ve;const se=Mt&&Mt(...pt);return(null===(ve=null==ye?void 0:ye.spy)||void 0===ve?void 0:ve.apply)&&ye.spy.apply(Se,pt,se),se})})})}),q=(z,re)=>{re.forEach(te=>{Object.getOwnPropertyNames(te.prototype||te).forEach(ye=>{Object.defineProperty(z.prototype,ye,Object.getOwnPropertyDescriptor(te.prototype||te,ye))})})};class X{constructor(re){return re}}const Z=new l.OlP("angularfire2.app.options"),H=new l.OlP("angularfire2.app.name");function k(z,re,te){const fe="object"==typeof te&&te||{};fe.name=fe.name||"string"==typeof te&&te||"[DEFAULT]";const $e=Q.Z.apps.filter(tt=>tt&&tt.name===fe.name)[0]||re.runOutsideAngular(()=>Q.Z.initializeApp(z,fe));try{JSON.stringify(z)!==JSON.stringify($e.options)&&F("error",`${$e.name} Firebase App already initialized with different options${Me.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(tt){}return new X($e)}const F=(z,...re)=>{(0,l.X6Q)()&&"undefined"!=typeof console&&console[z](...re)},V={provide:X,useFactory:k,deps:[Z,l.R0b,[new l.FiY,H]]};let ee=(()=>{class z{constructor(te){Q.Z.registerVersion("angularfire",B.q4.full,"core"),Q.Z.registerVersion("angularfire",B.q4.full,"app-compat"),Q.Z.registerVersion("angular",l.q4F.full,te.toString())}static initializeApp(te,ye){return{ngModule:z,providers:[{provide:Z,useValue:te},{provide:H,useValue:ye}]}}}return z.\u0275fac=function(te){return new(te||z)(l.LFG(l.Lbi))},z.\u0275mod=l.oAB({type:z}),z.\u0275inj=l.cJS({providers:[V]}),z})()},9126:(Me,me,x)=>{"use strict";x.d(me,{q4:()=>k,iC:()=>se,HU:()=>tt,cc:()=>ee});var l=x(7716);(0,x(5452).registerVersion)("firebase","9.1.0","app");var de=x(7771),q=x(3637),X=x(3342),Z=x(9673),H=x(309);Me=x.hmd(Me);const k=new l.GfV("7.0.4"),F=!!Me.hot,V=(ce,...J)=>{(0,l.X6Q)()&&"undefined"!=typeof console&&console[ce](...J)};function ee(ce,J,Te,ke,ct){const[,Ue,Le]=globalThis.\u0275AngularfireInstanceCache.find(qe=>qe[0]===ce)||[];if(Ue)return function(ce,J){try{return ce.toString()===J.toString()}catch(Te){return ce===J}}(ct,Le)||(V("error",`${J} was already initialized on the ${Te} Firebase App with different settings.${F?" You may need to reload as Firebase is not HMR aware.":""}`),V("warn",{is:ct,was:Le})),Ue;{const qe=ke();return globalThis.\u0275AngularfireInstanceCache.push([ce,qe,ct]),qe}}function fe(){}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]);class Se{constructor(J,Te=de.N){this.zone=J,this.delegate=Te}now(){return this.delegate.now()}schedule(J,Te,ke){const ct=this.zone;return this.delegate.schedule(function(Le){ct.runGuarded(()=>{J.apply(this,[Le])})},Te,ke)}}class $e{constructor(J){this.zone=J,this.task=null}call(J,Te){const ke=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",fe,{},fe,fe)),Te.pipe((0,X.b)({next:ke,complete:ke,error:ke})).subscribe(J).add(ke)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let tt=(()=>{class ce{constructor(Te){this.ngZone=Te,this.outsideAngular=Te.runOutsideAngular(()=>new Se(Zone.current)),this.insideAngular=Te.run(()=>new Se(Zone.current,q.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return ce.\u0275fac=function(Te){return new(Te||ce)(l.LFG(l.R0b))},ce.\u0275prov=l.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})();function Xe(){const ce=globalThis.\u0275AngularFireScheduler;if(!ce)throw new Error("AngularFireModule has not been provided");return ce}function se(ce){return Xe(),function(ce){return function(Te){return(Te=Te.lift(new $e(ce.ngZone))).pipe((0,Z.R)(ce.outsideAngular),(0,H.QV)(ce.insideAngular))}}(Xe())(ce)}},4486:(Me,me,x)=>{"use strict";x.d(me,{Z:()=>re});var l=x(3854),Q=x(6034),B=x(5452),he=x(5601);class de{constructor(ye,fe){this._delegate=ye,this.firebase=fe,(0,B._addComponent)(ye,new Q.wA("app-compat",()=>this,"PUBLIC")),this.container=ye.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ye){this._delegate.automaticDataCollectionEnabled=ye}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ye=>{this._delegate.checkDestroyed(),ye()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,B.deleteApp)(this._delegate)))}_getService(ye,fe=B._DEFAULT_ENTRY_NAME){var Se;this._delegate.checkDestroyed();const $e=this._delegate.container.getProvider(ye);return!$e.isInitialized()&&"EXPLICIT"===(null===(Se=$e.getComponent())||void 0===Se?void 0:Se.instantiationMode)&&$e.initialize(),$e.getImmediate({identifier:fe})}_removeServiceInstance(ye,fe=B._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ye).clearInstance(fe)}_addComponent(ye){(0,B._addComponent)(this._delegate,ye)}_addOrOverwriteComponent(ye){(0,B._addOrOverwriteComponent)(this._delegate,ye)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const X=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),k=function H(){const te=function(te){const ye={},fe={__esModule:!0,initializeApp:function(Mt,ve={}){const se=B.initializeApp(Mt,ve);if((0,l.r3)(ye,se.name))return ye[se.name];const oe=new te(se,fe);return ye[se.name]=oe,oe},app:$e,registerVersion:B.registerVersion,setLogLevel:B.setLogLevel,onLog:B.onLog,apps:null,SDK_VERSION:B.SDK_VERSION,INTERNAL:{registerComponent:function(Mt){const ve=Mt.name,se=ve.replace("-compat","");if(B._registerComponent(Mt)&&"PUBLIC"===Mt.type){const oe=(pe=$e())=>{if("function"!=typeof pe[se])throw X.create("invalid-app-argument",{appName:ve});return pe[se]()};void 0!==Mt.serviceProps&&(0,l.ZB)(oe,Mt.serviceProps),fe[se]=oe,te.prototype[se]=function(...pe){return this._getService.bind(this,ve).apply(this,Mt.multipleInstances?pe:[])}}return"PUBLIC"===Mt.type?fe[se]:null},removeApp:function(Mt){delete ye[Mt]},useAsService:function(Mt,ve){return"serverAuth"===ve?null:ve},modularAPIs:B}};function $e(Mt){if(!(0,l.r3)(ye,Mt=Mt||B._DEFAULT_ENTRY_NAME))throw X.create("no-app",{appName:Mt});return ye[Mt]}return fe.default=fe,Object.defineProperty(fe,"apps",{get:function(){return Object.keys(ye).map(Mt=>ye[Mt])}}),$e.App=te,fe}(de);return te.INTERNAL=Object.assign(Object.assign({},te.INTERNAL),{createFirebaseNamespace:H,extendNamespace:function(fe){(0,l.ZB)(te,fe)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),te}(),F=new he.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){F.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const te=self.firebase.SDK_VERSION;te&&te.indexOf("LITE")>=0&&F.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const re=k;(0,B.registerVersion)("@firebase/app-compat","0.1.2",undefined)},5452:(Me,me,x)=>{"use strict";x.r(me),x.d(me,{FirebaseError:()=>he.ZR,SDK_VERSION:()=>Ii,_DEFAULT_ENTRY_NAME:()=>ct,_addComponent:()=>Xt,_addOrOverwriteComponent:()=>Ti,_apps:()=>Le,_clearComponents:()=>_t,_components:()=>qe,_getProvider:()=>Bt,_registerComponent:()=>li,_removeServiceInstance:()=>$t,deleteApp:()=>Br,getApp:()=>Vr,getApps:()=>Ds,initializeApp:()=>ws,onLog:()=>En,registerVersion:()=>Pe,setLogLevel:()=>zi});var l=x(8239),Q=x(6034),B=x(5601),he=x(3854);class de{constructor(je){this.container=je}getPlatformInfoString(){return this.container.getProviders().map(It=>{if(function(Ke){const je=Ke.getComponent();return"VERSION"===(null==je?void 0:je.type)}(It)){const Ct=It.getImmediate();return`${Ct.library}/${Ct.version}`}return null}).filter(It=>It).join(" ")}}const X="@firebase/app",H=new B.Yd("@firebase/app"),ct="[DEFAULT]",Ue={[X]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Le=new Map,qe=new Map;function Xt(Ke,je){try{Ke.container.addComponent(je)}catch(It){H.debug(`Component ${je.name} failed to register with FirebaseApp ${Ke.name}`,It)}}function Ti(Ke,je){Ke.container.addOrOverwriteComponent(je)}function li(Ke){const je=Ke.name;if(qe.has(je))return H.debug(`There were multiple attempts to register component ${je}.`),!1;qe.set(je,Ke);for(const It of Le.values())Xt(It,Ke);return!0}function Bt(Ke,je){return Ke.container.getProvider(je)}function $t(Ke,je,It=ct){Bt(Ke,je).clearInstance(It)}function _t(){qe.clear()}const $i=new he.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class so{constructor(je,It,Ct){this._isDeleted=!1,this._options=Object.assign({},je),this._config=Object.assign({},It),this._name=It.name,this._automaticDataCollectionEnabled=It.automaticDataCollectionEnabled,this._container=Ct,this.container.addComponent(new Q.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(je){this.checkDestroyed(),this._automaticDataCollectionEnabled=je}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(je){this._isDeleted=je}checkDestroyed(){if(this.isDeleted)throw $i.create("app-deleted",{appName:this._name})}}const Ii="9.1.0";function ws(Ke,je={}){"object"!=typeof je&&(je={name:je});const It=Object.assign({name:ct,automaticDataCollectionEnabled:!1},je),Ct=It.name;if("string"!=typeof Ct||!Ct)throw $i.create("bad-app-name",{appName:String(Ct)});const xn=Le.get(Ct);if(xn){if((0,he.vZ)(Ke,xn.options)&&(0,he.vZ)(It,xn.config))return xn;throw $i.create("duplicate-app",{appName:Ct})}const xt=new Q.H0(Ct);for(const Ge of qe.values())xt.addComponent(Ge);const Ie=new so(Ke,It,xt);return Le.set(Ct,Ie),Ie}function Vr(Ke=ct){const je=Le.get(Ke);if(!je)throw $i.create("no-app",{appName:Ke});return je}function Ds(){return Array.from(Le.values())}function Br(Ke){return oo.apply(this,arguments)}function oo(){return(oo=(0,l.Z)(function*(Ke){const je=Ke.name;Le.has(je)&&(Le.delete(je),yield Promise.all(Ke.container.getProviders().map(It=>It.delete())),Ke.isDeleted=!0)})).apply(this,arguments)}function Pe(Ke,je,It){var Ct;let xn=null!==(Ct=Ue[Ke])&&void 0!==Ct?Ct:Ke;It&&(xn+=`-${It}`);const xt=xn.match(/\s|\//),Ie=je.match(/\s|\//);if(xt||Ie){const Ge=[`Unable to register library "${xn}" with version "${je}":`];return xt&&Ge.push(`library name "${xn}" contains illegal characters (whitespace or "/")`),xt&&Ie&&Ge.push("and"),Ie&&Ge.push(`version name "${je}" contains illegal characters (whitespace or "/")`),void H.warn(Ge.join(" "))}li(new Q.wA(`${xn}-version`,()=>({library:xn,version:je}),"VERSION"))}function En(Ke,je){if(null!==Ke&&"function"!=typeof Ke)throw $i.create("invalid-log-argument");(0,B.Am)(Ke,je)}function zi(Ke){(0,B.Ub)(Ke)}li(new Q.wA("platform-logger",je=>new de(je),"PRIVATE")),Pe(X,"0.7.1",undefined),Pe("fire-js","")},6034:(Me,me,x)=>{"use strict";x.d(me,{wA:()=>B,H0:()=>Z,zt:()=>de});var l=x(4762),Q=x(3854),B=function(){function H(k,F,V){this.name=k,this.instanceFactory=F,this.type=V,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return H.prototype.setInstantiationMode=function(k){return this.instantiationMode=k,this},H.prototype.setMultipleInstances=function(k){return this.multipleInstances=k,this},H.prototype.setServiceProps=function(k){return this.serviceProps=k,this},H.prototype.setInstanceCreatedCallback=function(k){return this.onInstanceCreated=k,this},H}(),he="[DEFAULT]",de=function(){function H(k,F){this.name=k,this.container=F,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return H.prototype.get=function(k){var F=this.normalizeInstanceIdentifier(k);if(!this.instancesDeferred.has(F)){var V=new Q.BH;if(this.instancesDeferred.set(F,V),this.isInitialized(F)||this.shouldAutoInitialize())try{var ee=this.getOrInitializeService({instanceIdentifier:F});ee&&V.resolve(ee)}catch(z){}}return this.instancesDeferred.get(F).promise},H.prototype.getImmediate=function(k){var F,V=this.normalizeInstanceIdentifier(null==k?void 0:k.identifier),ee=null!==(F=null==k?void 0:k.optional)&&void 0!==F&&F;if(!this.isInitialized(V)&&!this.shouldAutoInitialize()){if(ee)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:V})}catch(z){if(ee)return null;throw z}},H.prototype.getComponent=function(){return this.component},H.prototype.setComponent=function(k){var F,V;if(k.name!==this.name)throw Error("Mismatching Component "+k.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=k,this.shouldAutoInitialize()){if(function(H){return"EAGER"===H.instantiationMode}(k))try{this.getOrInitializeService({instanceIdentifier:he})}catch($e){}try{for(var ee=(0,l.XA)(this.instancesDeferred.entries()),z=ee.next();!z.done;z=ee.next()){var re=(0,l.CR)(z.value,2),ye=re[1],fe=this.normalizeInstanceIdentifier(re[0]);try{var Se=this.getOrInitializeService({instanceIdentifier:fe});ye.resolve(Se)}catch($e){}}}catch($e){F={error:$e}}finally{try{z&&!z.done&&(V=ee.return)&&V.call(ee)}finally{if(F)throw F.error}}}},H.prototype.clearInstance=function(k){void 0===k&&(k=he),this.instancesDeferred.delete(k),this.instancesOptions.delete(k),this.instances.delete(k)},H.prototype.delete=function(){return(0,l.mG)(this,void 0,void 0,function(){var k;return(0,l.Jh)(this,function(F){switch(F.label){case 0:return k=Array.from(this.instances.values()),[4,Promise.all((0,l.ev)((0,l.ev)([],(0,l.CR)(k.filter(function(V){return"INTERNAL"in V}).map(function(V){return V.INTERNAL.delete()}))),(0,l.CR)(k.filter(function(V){return"_delete"in V}).map(function(V){return V._delete()}))))];case 1:return F.sent(),[2]}})})},H.prototype.isComponentSet=function(){return null!=this.component},H.prototype.isInitialized=function(k){return void 0===k&&(k=he),this.instances.has(k)},H.prototype.getOptions=function(k){return void 0===k&&(k=he),this.instancesOptions.get(k)||{}},H.prototype.initialize=function(k){var F,V;void 0===k&&(k={});var ee=k.options,z=void 0===ee?{}:ee,re=this.normalizeInstanceIdentifier(k.instanceIdentifier);if(this.isInitialized(re))throw Error(this.name+"("+re+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var te=this.getOrInitializeService({instanceIdentifier:re,options:z});try{for(var ye=(0,l.XA)(this.instancesDeferred.entries()),fe=ye.next();!fe.done;fe=ye.next()){var Se=(0,l.CR)(fe.value,2),tt=Se[1];re===this.normalizeInstanceIdentifier(Se[0])&&tt.resolve(te)}}catch(Ot){F={error:Ot}}finally{try{fe&&!fe.done&&(V=ye.return)&&V.call(ye)}finally{if(F)throw F.error}}return te},H.prototype.onInit=function(k,F){var V,ee=this.normalizeInstanceIdentifier(F),z=null!==(V=this.onInitCallbacks.get(ee))&&void 0!==V?V:new Set;z.add(k),this.onInitCallbacks.set(ee,z);var re=this.instances.get(ee);return re&&k(re,ee),function(){z.delete(k)}},H.prototype.invokeOnInitCallbacks=function(k,F){var V,ee,z=this.onInitCallbacks.get(F);if(z)try{for(var re=(0,l.XA)(z),te=re.next();!te.done;te=re.next()){var ye=te.value;try{ye(k,F)}catch(fe){}}}catch(fe){V={error:fe}}finally{try{te&&!te.done&&(ee=re.return)&&ee.call(re)}finally{if(V)throw V.error}}},H.prototype.getOrInitializeService=function(k){var F=k.instanceIdentifier,V=k.options,ee=void 0===V?{}:V,z=this.instances.get(F);if(!z&&this.component&&(z=this.component.instanceFactory(this.container,{instanceIdentifier:q(F),options:ee}),this.instances.set(F,z),this.instancesOptions.set(F,ee),this.invokeOnInitCallbacks(z,F),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,F,z)}catch(re){}return z||null},H.prototype.normalizeInstanceIdentifier=function(k){return void 0===k&&(k=he),this.component?this.component.multipleInstances?k:he:k},H.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},H}();function q(H){return H===he?void 0:H}var Z=function(){function H(k){this.name=k,this.providers=new Map}return H.prototype.addComponent=function(k){var F=this.getProvider(k.name);if(F.isComponentSet())throw new Error("Component "+k.name+" has already been registered with "+this.name);F.setComponent(k)},H.prototype.addOrOverwriteComponent=function(k){this.getProvider(k.name).isComponentSet()&&this.providers.delete(k.name),this.addComponent(k)},H.prototype.getProvider=function(k){if(this.providers.has(k))return this.providers.get(k);var F=new de(k,this);return this.providers.set(k,F),F},H.prototype.getProviders=function(){return Array.from(this.providers.values())},H}()},5601:(Me,me,x)=>{"use strict";x.d(me,{in:()=>Q,Yd:()=>X,Ub:()=>Z,Am:()=>H});const l=[];var Q=(()=>{return(k=Q||(Q={}))[k.DEBUG=0]="DEBUG",k[k.VERBOSE=1]="VERBOSE",k[k.INFO=2]="INFO",k[k.WARN=3]="WARN",k[k.ERROR=4]="ERROR",k[k.SILENT=5]="SILENT",Q;var k})();const B={debug:Q.DEBUG,verbose:Q.VERBOSE,info:Q.INFO,warn:Q.WARN,error:Q.ERROR,silent:Q.SILENT},he=Q.INFO,de={[Q.DEBUG]:"log",[Q.VERBOSE]:"log",[Q.INFO]:"info",[Q.WARN]:"warn",[Q.ERROR]:"error"},q=(k,F,...V)=>{if(F<k.logLevel)return;const ee=(new Date).toISOString(),z=de[F];if(!z)throw new Error(`Attempted to log a message with an invalid logType (value: ${F})`);console[z](`[${ee}]  ${k.name}:`,...V)};class X{constructor(F){this.name=F,this._logLevel=he,this._logHandler=q,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(F){if(!(F in Q))throw new TypeError(`Invalid value "${F}" assigned to \`logLevel\``);this._logLevel=F}setLogLevel(F){this._logLevel="string"==typeof F?B[F]:F}get logHandler(){return this._logHandler}set logHandler(F){if("function"!=typeof F)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=F}get userLogHandler(){return this._userLogHandler}set userLogHandler(F){this._userLogHandler=F}debug(...F){this._userLogHandler&&this._userLogHandler(this,Q.DEBUG,...F),this._logHandler(this,Q.DEBUG,...F)}log(...F){this._userLogHandler&&this._userLogHandler(this,Q.VERBOSE,...F),this._logHandler(this,Q.VERBOSE,...F)}info(...F){this._userLogHandler&&this._userLogHandler(this,Q.INFO,...F),this._logHandler(this,Q.INFO,...F)}warn(...F){this._userLogHandler&&this._userLogHandler(this,Q.WARN,...F),this._logHandler(this,Q.WARN,...F)}error(...F){this._userLogHandler&&this._userLogHandler(this,Q.ERROR,...F),this._logHandler(this,Q.ERROR,...F)}}function Z(k){l.forEach(F=>{F.setLogLevel(k)})}function H(k,F){for(const V of l){let ee=null;F&&F.level&&(ee=B[F.level]),V.userLogHandler=null===k?null:(z,re,...te)=>{const ye=te.map(fe=>{if(null==fe)return null;if("string"==typeof fe)return fe;if("number"==typeof fe||"boolean"==typeof fe)return fe.toString();if(fe instanceof Error)return fe.message;try{return JSON.stringify(fe)}catch(Se){return null}}).filter(fe=>fe).join(" ");re>=(null!=ee?ee:z.logLevel)&&k({level:Q[re].toLowerCase(),message:ye,args:te,type:z.name})}}}},3854:(Me,me,x)=>{"use strict";x.d(me,{BH:()=>ee,LL:()=>J,ZR:()=>ce,gQ:()=>Ds,hu:()=>Q,g5:()=>B,US:()=>q,tV:()=>H,h$:()=>X,r3:()=>Bt,Sg:()=>z,ne:()=>Br,p$:()=>k,vZ:()=>$i,ZB:()=>F,gK:()=>Ke,pd:()=>Vr,m9:()=>$o,z$:()=>re,GJ:()=>li,jU:()=>fe,ru:()=>Se,xb:()=>_t,w1:()=>Xe,hl:()=>ve,uI:()=>te,UG:()=>ye,Yr:()=>pt,b$:()=>$e,w9:()=>Ti,cI:()=>ct,UI:()=>In,xO:()=>Ii,zd:()=>ws,DV:()=>$t,ug:()=>xt,dS:()=>xn,Pz:()=>Ue,Dv:()=>Ai,Wj:()=>It,lb:()=>Ct});const Q=function(j,U){if(!j)throw B(U)},B=function(j){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+j)},he=function(j){const U=[];let $=0;for(let _e=0;_e<j.length;_e++){let ie=j.charCodeAt(_e);ie<128?U[$++]=ie:ie<2048?(U[$++]=ie>>6|192,U[$++]=63&ie|128):55296==(64512&ie)&&_e+1<j.length&&56320==(64512&j.charCodeAt(_e+1))?(ie=65536+((1023&ie)<<10)+(1023&j.charCodeAt(++_e)),U[$++]=ie>>18|240,U[$++]=ie>>12&63|128,U[$++]=ie>>6&63|128,U[$++]=63&ie|128):(U[$++]=ie>>12|224,U[$++]=ie>>6&63|128,U[$++]=63&ie|128)}return U},q={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(j,U){if(!Array.isArray(j))throw Error("encodeByteArray takes an array as a parameter");this.init_();const $=U?this.byteToCharMapWebSafe_:this.byteToCharMap_,_e=[];for(let ie=0;ie<j.length;ie+=3){const Oe=j[ie],nt=ie+1<j.length,Et=nt?j[ie+1]:0,zt=ie+2<j.length,Jt=zt?j[ie+2]:0;let wn=(15&Et)<<2|Jt>>6,ui=63&Jt;zt||(ui=64,nt||(wn=64)),_e.push($[Oe>>2],$[(3&Oe)<<4|Et>>4],$[wn],$[ui])}return _e.join("")},encodeString(j,U){return this.HAS_NATIVE_SUPPORT&&!U?btoa(j):this.encodeByteArray(he(j),U)},decodeString(j,U){return this.HAS_NATIVE_SUPPORT&&!U?atob(j):function(j){const U=[];let $=0,_e=0;for(;$<j.length;){const ie=j[$++];if(ie<128)U[_e++]=String.fromCharCode(ie);else if(ie>191&&ie<224){const Oe=j[$++];U[_e++]=String.fromCharCode((31&ie)<<6|63&Oe)}else if(ie>239&&ie<365){const zt=((7&ie)<<18|(63&j[$++])<<12|(63&j[$++])<<6|63&j[$++])-65536;U[_e++]=String.fromCharCode(55296+(zt>>10)),U[_e++]=String.fromCharCode(56320+(1023&zt))}else{const Oe=j[$++],nt=j[$++];U[_e++]=String.fromCharCode((15&ie)<<12|(63&Oe)<<6|63&nt)}}return U.join("")}(this.decodeStringToByteArray(j,U))},decodeStringToByteArray(j,U){this.init_();const $=U?this.charToByteMapWebSafe_:this.charToByteMap_,_e=[];for(let ie=0;ie<j.length;){const Oe=$[j.charAt(ie++)],Et=ie<j.length?$[j.charAt(ie)]:0;++ie;const Jt=ie<j.length?$[j.charAt(ie)]:64;++ie;const bt=ie<j.length?$[j.charAt(ie)]:64;if(++ie,null==Oe||null==Et||null==Jt||null==bt)throw Error();_e.push(Oe<<2|Et>>4),64!==Jt&&(_e.push(Et<<4&240|Jt>>2),64!==bt&&_e.push(Jt<<6&192|bt))}return _e},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let j=0;j<this.ENCODED_VALS.length;j++)this.byteToCharMap_[j]=this.ENCODED_VALS.charAt(j),this.charToByteMap_[this.byteToCharMap_[j]]=j,this.byteToCharMapWebSafe_[j]=this.ENCODED_VALS_WEBSAFE.charAt(j),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[j]]=j,j>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(j)]=j,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(j)]=j)}}},X=function(j){const U=he(j);return q.encodeByteArray(U,!0)},Z=function(j){return X(j).replace(/\./g,"")},H=function(j){try{return q.decodeString(j,!0)}catch(U){console.error("base64Decode failed: ",U)}return null};function k(j){return F(void 0,j)}function F(j,U){if(!(U instanceof Object))return U;switch(U.constructor){case Date:return new Date(U.getTime());case Object:void 0===j&&(j={});break;case Array:j=[];break;default:return U}for(const $ in U)!U.hasOwnProperty($)||!V($)||(j[$]=F(j[$],U[$]));return j}function V(j){return"__proto__"!==j}class ee{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((U,$)=>{this.resolve=U,this.reject=$})}wrapCallback(U){return($,_e)=>{$?this.reject($):this.resolve(_e),"function"==typeof U&&(this.promise.catch(()=>{}),1===U.length?U($):U($,_e))}}}function z(j,U){if(j.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const _e=U||"demo-project",ie=j.iat||0,Oe=j.sub||j.user_id;if(!Oe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const nt=Object.assign({iss:`https://securetoken.google.com/${_e}`,aud:_e,iat:ie,exp:ie+3600,auth_time:ie,sub:Oe,user_id:Oe,firebase:{sign_in_provider:"custom",identities:{}}},j);return[Z(JSON.stringify({alg:"none",type:"JWT"})),Z(JSON.stringify(nt)),""].join(".")}function re(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function te(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(re())}function ye(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(j){return!1}}function fe(){return"object"==typeof self&&self.self===self}function Se(){const j="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof j&&void 0!==j.id}function $e(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Xe(){const j=re();return j.indexOf("MSIE ")>=0||j.indexOf("Trident/")>=0}function pt(){return!1}function ve(){return"object"==typeof indexedDB}class ce extends Error{constructor(U,$,_e){super($),this.code=U,this.customData=_e,this.name="FirebaseError",Object.setPrototypeOf(this,ce.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,J.prototype.create)}}class J{constructor(U,$,_e){this.service=U,this.serviceName=$,this.errors=_e}create(U,...$){const _e=$[0]||{},ie=`${this.service}/${U}`,Oe=this.errors[U],nt=Oe?function(j,U){return j.replace(ke,($,_e)=>{const ie=U[_e];return null!=ie?String(ie):`<${_e}?>`})}(Oe,_e):"Error";return new ce(ie,`${this.serviceName}: ${nt} (${ie}).`,_e)}}const ke=/\{\$([^}]+)}/g;function ct(j){return JSON.parse(j)}function Ue(j){return JSON.stringify(j)}const Le=function(j){let U={},$={},_e={},ie="";try{const Oe=j.split(".");U=ct(H(Oe[0])||""),$=ct(H(Oe[1])||""),ie=Oe[2],_e=$.d||{},delete $.d}catch(Oe){}return{header:U,claims:$,data:_e,signature:ie}},Ti=function(j){const $=Le(j).claims;return!!$&&"object"==typeof $&&$.hasOwnProperty("iat")},li=function(j){const U=Le(j).claims;return"object"==typeof U&&!0===U.admin};function Bt(j,U){return Object.prototype.hasOwnProperty.call(j,U)}function $t(j,U){if(Object.prototype.hasOwnProperty.call(j,U))return j[U]}function _t(j){for(const U in j)if(Object.prototype.hasOwnProperty.call(j,U))return!1;return!0}function In(j,U,$){const _e={};for(const ie in j)Object.prototype.hasOwnProperty.call(j,ie)&&(_e[ie]=U.call($,j[ie],ie,j));return _e}function $i(j,U){if(j===U)return!0;const $=Object.keys(j),_e=Object.keys(U);for(const ie of $){if(!_e.includes(ie))return!1;const Oe=j[ie],nt=U[ie];if(so(Oe)&&so(nt)){if(!$i(Oe,nt))return!1}else if(Oe!==nt)return!1}for(const ie of _e)if(!$.includes(ie))return!1;return!0}function so(j){return null!==j&&"object"==typeof j}function Ii(j){const U=[];for(const[$,_e]of Object.entries(j))Array.isArray(_e)?_e.forEach(ie=>{U.push(encodeURIComponent($)+"="+encodeURIComponent(ie))}):U.push(encodeURIComponent($)+"="+encodeURIComponent(_e));return U.length?"&"+U.join("&"):""}function ws(j){const U={};return j.replace(/^\?/,"").split("&").forEach(_e=>{if(_e){const[ie,Oe]=_e.split("=");U[decodeURIComponent(ie)]=decodeURIComponent(Oe)}}),U}function Vr(j){const U=j.indexOf("?");if(!U)return"";const $=j.indexOf("#",U);return j.substring(U,$>0?$:void 0)}class Ds{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let U=1;U<this.blockSize;++U)this.pad_[U]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(U,$){$||($=0);const _e=this.W_;if("string"==typeof U)for(let bt=0;bt<16;bt++)_e[bt]=U.charCodeAt($)<<24|U.charCodeAt($+1)<<16|U.charCodeAt($+2)<<8|U.charCodeAt($+3),$+=4;else for(let bt=0;bt<16;bt++)_e[bt]=U[$]<<24|U[$+1]<<16|U[$+2]<<8|U[$+3],$+=4;for(let bt=16;bt<80;bt++){const wn=_e[bt-3]^_e[bt-8]^_e[bt-14]^_e[bt-16];_e[bt]=4294967295&(wn<<1|wn>>>31)}let Jt,qn,ie=this.chain_[0],Oe=this.chain_[1],nt=this.chain_[2],Et=this.chain_[3],zt=this.chain_[4];for(let bt=0;bt<80;bt++){bt<40?bt<20?(Jt=Et^Oe&(nt^Et),qn=1518500249):(Jt=Oe^nt^Et,qn=1859775393):bt<60?(Jt=Oe&nt|Et&(Oe|nt),qn=2400959708):(Jt=Oe^nt^Et,qn=3395469782);const wn=(ie<<5|ie>>>27)+Jt+zt+qn+_e[bt]&4294967295;zt=Et,Et=nt,nt=4294967295&(Oe<<30|Oe>>>2),Oe=ie,ie=wn}this.chain_[0]=this.chain_[0]+ie&4294967295,this.chain_[1]=this.chain_[1]+Oe&4294967295,this.chain_[2]=this.chain_[2]+nt&4294967295,this.chain_[3]=this.chain_[3]+Et&4294967295,this.chain_[4]=this.chain_[4]+zt&4294967295}update(U,$){if(null==U)return;void 0===$&&($=U.length);const _e=$-this.blockSize;let ie=0;const Oe=this.buf_;let nt=this.inbuf_;for(;ie<$;){if(0===nt)for(;ie<=_e;)this.compress_(U,ie),ie+=this.blockSize;if("string"==typeof U){for(;ie<$;)if(Oe[nt]=U.charCodeAt(ie),++nt,++ie,nt===this.blockSize){this.compress_(Oe),nt=0;break}}else for(;ie<$;)if(Oe[nt]=U[ie],++nt,++ie,nt===this.blockSize){this.compress_(Oe),nt=0;break}}this.inbuf_=nt,this.total_+=$}digest(){const U=[];let $=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let ie=this.blockSize-1;ie>=56;ie--)this.buf_[ie]=255&$,$/=256;this.compress_(this.buf_);let _e=0;for(let ie=0;ie<5;ie++)for(let Oe=24;Oe>=0;Oe-=8)U[_e]=this.chain_[ie]>>Oe&255,++_e;return U}}function Br(j,U){const $=new oo(j,U);return $.subscribe.bind($)}class oo{constructor(U,$){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=$,this.task.then(()=>{U(this)}).catch(_e=>{this.error(_e)})}next(U){this.forEachObserver($=>{$.next(U)})}error(U){this.forEachObserver($=>{$.error(U)}),this.close(U)}complete(){this.forEachObserver(U=>{U.complete()}),this.close()}subscribe(U,$,_e){let ie;if(void 0===U&&void 0===$&&void 0===_e)throw new Error("Missing Observer.");ie=function(j,U){if("object"!=typeof j||null===j)return!1;for(const $ of["next","error","complete"])if($ in j&&"function"==typeof j[$])return!0;return!1}(U)?U:{next:U,error:$,complete:_e},void 0===ie.next&&(ie.next=zi),void 0===ie.error&&(ie.error=zi),void 0===ie.complete&&(ie.complete=zi);const Oe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ie.error(this.finalError):ie.complete()}catch(nt){}}),this.observers.push(ie),Oe}unsubscribeOne(U){void 0===this.observers||void 0===this.observers[U]||(delete this.observers[U],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(U){if(!this.finalized)for(let $=0;$<this.observers.length;$++)this.sendOne($,U)}sendOne(U,$){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[U])try{$(this.observers[U])}catch(_e){"undefined"!=typeof console&&console.error&&console.error(_e)}})}close(U){this.finalized||(this.finalized=!0,void 0!==U&&(this.finalError=U),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zi(){}const Ai=function(j,U,$,_e){let ie;if(_e<U?ie="at least "+U:_e>$&&(ie=0===$?"none":"no more than "+$),ie)throw new Error(j+" failed: Was called with "+_e+(1===_e?" argument.":" arguments.")+" Expects "+ie+".")};function Ke(j,U){return`${j} failed: ${U} argument `}function It(j,U,$,_e){if((!_e||$)&&"function"!=typeof $)throw new Error(Ke(j,U)+"must be a valid function.")}function Ct(j,U,$,_e){if((!_e||$)&&("object"!=typeof $||null===$))throw new Error(Ke(j,U)+"must be a valid context object.")}const xn=function(j){const U=[];let $=0;for(let _e=0;_e<j.length;_e++){let ie=j.charCodeAt(_e);if(ie>=55296&&ie<=56319){const Oe=ie-55296;_e++,Q(_e<j.length,"Surrogate pair missing trail surrogate."),ie=65536+(Oe<<10)+(j.charCodeAt(_e)-56320)}ie<128?U[$++]=ie:ie<2048?(U[$++]=ie>>6|192,U[$++]=63&ie|128):ie<65536?(U[$++]=ie>>12|224,U[$++]=ie>>6&63|128,U[$++]=63&ie|128):(U[$++]=ie>>18|240,U[$++]=ie>>12&63|128,U[$++]=ie>>6&63|128,U[$++]=63&ie|128)}return U},xt=function(j){let U=0;for(let $=0;$<j.length;$++){const _e=j.charCodeAt($);_e<128?U++:_e<2048?U+=2:_e>=55296&&_e<=56319?(U+=4,$++):U+=3}return U};function $o(j){return j&&j._delegate?j._delegate:j}},7841:(Me,me,x)=>{"use strict";x.d(me,{Z:()=>l.Z});var l=x(4486);l.Z.registerVersion("firebase","9.1.0","app-compat")},670:(Me,me,x)=>{"use strict";x.r(me);var l=x(8239),Q=x(4486),B=x(3854),he=x(5452),de=x(4762),q=x(5601),X=x(6034);const re=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},te=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ye=new B.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Se=new q.Yd("@firebase/auth");function $e(v,...p){Se.logLevel<=q.in.ERROR&&Se.error(`Auth (${he.SDK_VERSION}): ${v}`,...p)}function tt(v,...p){throw Mt(v,...p)}function Xe(v,...p){return Mt(v,...p)}function Ot(v,p,g){const C=Object.assign(Object.assign({},te()),{[p]:g});return new B.LL("auth","Firebase",C).create(p,{appName:v.name})}function pt(v,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&tt(v,"argument-error"),Ot(v,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Mt(v,...p){if("string"!=typeof v){const g=p[0],C=[...p.slice(1)];return C[0]&&(C[0].appName=v.name),v._errorFactory.create(g,...C)}return ye.create(v,...p)}function ve(v,p,...g){if(!v)throw Mt(p,...g)}function se(v){const p="INTERNAL ASSERTION FAILED: "+v;throw $e(p),new Error(p)}function oe(v,p){v||se(p)}const pe=new Map;function le(v){oe(v instanceof Function,"Expected a class definition");let p=pe.get(v);return p?(oe(p instanceof v,"Instance stored in cache mismatched with class"),p):(p=new v,pe.set(v,p),p)}function Te(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function ke(){return"http:"===ct()||"https:"===ct()}function ct(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class qe{constructor(p,g){this.shortDelay=p,this.longDelay=g,oe(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,B.uI)()||(0,B.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ke()||(0,B.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Xt(v,p){oe(v.emulator,"Emulator should always be set here");const{url:g}=v.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class Ti{static initialize(p,g,C){this.fetchImpl=p,g&&(this.headersImpl=g),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void se("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void se("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void se("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const li={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Bt=new qe(3e4,6e4);function $t(v,p){return v.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:v.tenantId}):p}function _t(v,p,g,C){return In.apply(this,arguments)}function In(){return(In=(0,l.Z)(function*(v,p,g,C,T={}){return $i(v,T,()=>{let R={},W={};C&&("GET"===p?W=C:R={body:JSON.stringify(C)});const ue=(0,B.xO)(Object.assign({key:v.config.apiKey},W)).slice(1),De=new(Ti.headers());return De.set("Content-Type","application/json"),De.set("X-Client-Version",v._getSdkClientVersion()),v.languageCode&&De.set("X-Firebase-Locale",v.languageCode),Ti.fetch()(Vr(v,v.config.apiHost,g,ue),Object.assign({method:p,headers:De,referrerPolicy:"no-referrer"},R))})})).apply(this,arguments)}function $i(v,p,g){return so.apply(this,arguments)}function so(){return(so=(0,l.Z)(function*(v,p,g){v._canInitEmulator=!1;const C=Object.assign(Object.assign({},li),p);try{const T=new Ds(v),R=yield Promise.race([g(),T.promise]);T.clearNetworkTimeout();const W=yield R.json();if("needConfirmation"in W)throw Br(v,"account-exists-with-different-credential",W);if(R.ok&&!("errorMessage"in W))return W;{const ue=R.ok?W.errorMessage:W.error.message,[De,Re]=ue.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===De)throw Br(v,"credential-already-in-use",W);if("EMAIL_EXISTS"===De)throw Br(v,"email-already-in-use",W);const ze=C[De]||De.toLowerCase().replace(/[_\s]+/g,"-");if(Re)throw Ot(v,ze,Re);tt(v,ze)}}catch(T){if(T instanceof B.ZR)throw T;tt(v,"network-request-failed")}})).apply(this,arguments)}function Ii(v,p,g,C){return ws.apply(this,arguments)}function ws(){return(ws=(0,l.Z)(function*(v,p,g,C,T={}){const R=yield _t(v,p,g,C,T);return"mfaPendingCredential"in R&&tt(v,"multi-factor-auth-required",{serverResponse:R}),R})).apply(this,arguments)}function Vr(v,p,g,C){const T=`${p}${g}?${C}`;return v.config.emulator?Xt(v.config,T):`${v.config.apiScheme}://${T}`}class Ds{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,C)=>{this.timer=setTimeout(()=>C(Xe(this.auth,"timeout")),Bt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Br(v,p,g){const C={appName:v.name};g.email&&(C.email=g.email),g.phoneNumber&&(C.phoneNumber=g.phoneNumber);const T=Xe(v,p,C);return T.customData._tokenResponse=g,T}function Pe(){return(Pe=(0,l.Z)(function*(v,p){return _t(v,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function En(v,p){return zi.apply(this,arguments)}function zi(){return(zi=(0,l.Z)(function*(v,p){return _t(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ai(v,p){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,l.Z)(function*(v,p){return _t(v,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function je(v){if(v)try{const p=new Date(Number(v));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function xn(){return(xn=(0,l.Z)(function*(v,p=!1){const g=(0,B.m9)(v),C=yield g.getIdToken(p),T=Ie(C);ve(T&&T.exp&&T.auth_time&&T.iat,g.auth,"internal-error");const R="object"==typeof T.firebase?T.firebase:void 0,W=null==R?void 0:R.sign_in_provider;return{claims:T,token:C,authTime:je(xt(T.auth_time)),issuedAtTime:je(xt(T.iat)),expirationTime:je(xt(T.exp)),signInProvider:W||null,signInSecondFactor:(null==R?void 0:R.sign_in_second_factor)||null}})).apply(this,arguments)}function xt(v){return 1e3*Number(v)}function Ie(v){const[p,g,C]=v.split(".");if(void 0===p||void 0===g||void 0===C)return $e("JWT malformed, contained fewer than 3 sections"),null;try{const T=(0,B.tV)(g);return T?JSON.parse(T):($e("Failed to decode base64 JWT payload"),null)}catch(T){return $e("Caught error parsing JWT payload as JSON",T),null}}function Hn(v,p){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,l.Z)(function*(v,p,g=!1){if(g)return p;try{return yield p}catch(C){throw C instanceof B.ZR&&_r(C)&&v.auth.currentUser===v&&(yield v.auth.signOut()),C}})).apply(this,arguments)}function _r({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class jt{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const T=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const C=this.getInterval(p);this.timerId=setTimeout((0,l.Z)(function*(){yield g.iteration()}),C)}iteration(){var p=this;return(0,l.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&p.schedule(!0))}p.schedule()})()}}class ci{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=je(this.lastLoginAt),this.creationTime=je(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function $o(v){return j.apply(this,arguments)}function j(){return(j=(0,l.Z)(function*(v){var p;const g=v.auth,C=yield v.getIdToken(),T=yield Hn(v,Ai(g,{idToken:C}));ve(null==T?void 0:T.users.length,g,"internal-error");const R=T.users[0];v._notifyReloadListener(R);const W=(null===(p=R.providerUserInfo)||void 0===p?void 0:p.length)?ie(R.providerUserInfo):[],ue=_e(v.providerData,W),ze=!!v.isAnonymous&&!(v.email&&R.passwordHash||(null==ue?void 0:ue.length)),Be={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:ue,metadata:new ci(R.createdAt,R.lastLoginAt),isAnonymous:ze};Object.assign(v,Be)})).apply(this,arguments)}function $(){return($=(0,l.Z)(function*(v){const p=(0,B.m9)(v);yield $o(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function _e(v,p){return[...v.filter(C=>!p.some(T=>T.providerId===C.providerId)),...p]}function ie(v){return v.map(p=>{var{providerId:g}=p,C=(0,de._T)(p,["providerId"]);return{providerId:g,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function nt(){return(nt=(0,l.Z)(function*(v,p){const g=yield $i(v,{},()=>{const C=(0,B.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:T,apiKey:R}=v.config,W=Vr(v,T,"/v1/token",`key=${R}`);return Ti.fetch()(W,{method:"POST",headers:{"X-Client-Version":v._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:C})});return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Et{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){ve(p.idToken,"internal-error"),ve(void 0!==p.idToken,"internal-error"),ve(void 0!==p.refreshToken,"internal-error");const g="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function(v){const p=Ie(v);return ve(p,"internal-error"),ve(void 0!==p.exp,"internal-error"),ve(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}getToken(p,g=!1){var C=this;return(0,l.Z)(function*(){return ve(!C.accessToken||C.refreshToken,p,"user-token-expired"),g||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(p,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var C=this;return(0,l.Z)(function*(){const{accessToken:T,refreshToken:R,expiresIn:W}=yield function(v,p){return nt.apply(this,arguments)}(p,g);C.updateTokensAndExpiration(T,R,Number(W))})()}updateTokensAndExpiration(p,g,C){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(p,g){const{refreshToken:C,accessToken:T,expirationTime:R}=g,W=new Et;return C&&(ve("string"==typeof C,"internal-error",{appName:p}),W.refreshToken=C),T&&(ve("string"==typeof T,"internal-error",{appName:p}),W.accessToken=T),R&&(ve("number"==typeof R,"internal-error",{appName:p}),W.expirationTime=R),W}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Et,this.toJSON())}_performRefresh(){return se("not implemented")}}function zt(v,p){ve("string"==typeof v||void 0===v,"internal-error",{appName:p})}class Jt{constructor(p){var{uid:g,auth:C,stsTokenManager:T}=p,R=(0,de._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new jt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=C,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.metadata=new ci(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,l.Z)(function*(){const C=yield Hn(g,g.stsTokenManager.getToken(g.auth,p));return ve(C,g.auth,"internal-error"),g.accessToken!==C&&(g.accessToken=C,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),C})()}getIdTokenResult(p){return function(v){return xn.apply(this,arguments)}(this,p)}reload(){return function(v){return $.apply(this,arguments)}(this)}_assign(p){this!==p&&(ve(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new Jt(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,g=!1){var C=this;return(0,l.Z)(function*(){let T=!1;p.idToken&&p.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(p),T=!0),g&&(yield $o(C)),yield C.auth._persistUserIfCurrent(C),T&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var p=this;return(0,l.Z)(function*(){const g=yield p.getIdToken();return yield Hn(p,function(v,p){return Pe.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var C,T,R,W,ue,De,Re,ze;const Be=null!==(C=g.displayName)&&void 0!==C?C:void 0,cn=null!==(T=g.email)&&void 0!==T?T:void 0,Wn=null!==(R=g.phoneNumber)&&void 0!==R?R:void 0,es=null!==(W=g.photoURL)&&void 0!==W?W:void 0,ba=null!==(ue=g.tenantId)&&void 0!==ue?ue:void 0,ch=null!==(De=g._redirectEventId)&&void 0!==De?De:void 0,cu=null!==(Re=g.createdAt)&&void 0!==Re?Re:void 0,ar=null!==(ze=g.lastLoginAt)&&void 0!==ze?ze:void 0,{uid:Li,emailVerified:uu,isAnonymous:Q_,providerData:du,stsTokenManager:J_}=g;ve(Li&&J_,p,"internal-error");const Vi=Et.fromJSON(this.name,J_);ve("string"==typeof Li,p,"internal-error"),zt(Be,p.name),zt(cn,p.name),ve("boolean"==typeof uu,p,"internal-error"),ve("boolean"==typeof Q_,p,"internal-error"),zt(Wn,p.name),zt(es,p.name),zt(ba,p.name),zt(ch,p.name),zt(cu,p.name),zt(ar,p.name);const xl=new Jt({uid:Li,auth:p,email:cn,emailVerified:uu,displayName:Be,isAnonymous:Q_,photoURL:es,phoneNumber:Wn,tenantId:ba,stsTokenManager:Vi,createdAt:cu,lastLoginAt:ar});return du&&Array.isArray(du)&&(xl.providerData=du.map(Pl=>Object.assign({},Pl))),ch&&(xl._redirectEventId=ch),xl}static _fromIdTokenResponse(p,g,C=!1){return(0,l.Z)(function*(){const T=new Et;T.updateFromServerResponse(g);const R=new Jt({uid:g.localId,auth:p,stsTokenManager:T,isAnonymous:C});return yield $o(R),R})()}}const bt=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(g,C){var T=this;return(0,l.Z)(function*(){T.storage[g]=C})()}_get(g){var C=this;return(0,l.Z)(function*(){const T=C.storage[g];return void 0===T?null:T})()}_remove(g){var C=this;return(0,l.Z)(function*(){delete C.storage[g]})()}_addListener(g,C){}_removeListener(g,C){}}return v.type="NONE",v})();function wn(v,p,g){return`firebase:${v}:${p}:${g}`}class ui{constructor(p,g,C){this.persistence=p,this.auth=g,this.userKey=C;const{config:T,name:R}=this.auth;this.fullUserKey=wn(this.userKey,T.apiKey,R),this.fullPersistenceKey=wn("persistence",T.apiKey,R),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,l.Z)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?Jt._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,l.Z)(function*(){if(g.persistence===p)return;const C=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,C?g.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g,C="authUser"){return(0,l.Z)(function*(){if(!g.length)return new ui(le(bt),p,C);const T=(yield Promise.all(g.map(function(){var Re=(0,l.Z)(function*(ze){if(yield ze._isAvailable())return ze});return function(ze){return Re.apply(this,arguments)}}()))).filter(Re=>Re);let R=T[0]||le(bt);const W=wn(C,p.config.apiKey,p.name);let ue=null;for(const Re of g)try{const ze=yield Re._get(W);if(ze){const Be=Jt._fromJSON(p,ze);Re!==R&&(ue=Be),R=Re;break}}catch(ze){}const De=T.filter(Re=>Re._shouldAllowMigration);return R._shouldAllowMigration&&De.length?(R=De[0],ue&&(yield R._set(W,ue.toJSON())),yield Promise.all(g.map(function(){var Re=(0,l.Z)(function*(ze){if(ze!==R)try{yield ze._remove(W)}catch(Be){}});return function(ze){return Re.apply(this,arguments)}}())),new ui(R,p,C)):new ui(R,p,C)})()}}function el(v){const p=v.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(yc(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(mc(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(An(p))return"Blackberry";if(Mi(p))return"Webos";if(_c(p))return"Safari";if((p.includes("chrome/")||bd(p))&&!p.includes("edge/"))return"Chrome";if(zo(p))return"Android";{const C=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==C?void 0:C.length))return C[1]}return"Other"}function mc(v=(0,B.z$)()){return/firefox\//i.test(v)}function _c(v=(0,B.z$)()){const p=v.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function bd(v=(0,B.z$)()){return/crios\//i.test(v)}function yc(v=(0,B.z$)()){return/iemobile/i.test(v)}function zo(v=(0,B.z$)()){return/android/i.test(v)}function An(v=(0,B.z$)()){return/blackberry/i.test(v)}function Mi(v=(0,B.z$)()){return/webos/i.test(v)}function Pn(v=(0,B.z$)()){return/iphone|ipad|ipod/i.test(v)}function Ae(v=(0,B.z$)()){return Pn(v)||zo(v)||Mi(v)||An(v)||/windows phone/i.test(v)||yc(v)}function Ut(v,p=[]){let g;switch(v){case"Browser":g=el((0,B.z$)());break;case"Worker":g=`${el((0,B.z$)())}-${v}`;break;default:g=v}const C=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${he.SDK_VERSION}/${C}`}class di{constructor(p,g){this.app=p,this.config=g,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yn(this),this.idTokenSubscription=new yn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ye,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=g.sdkClientVersion}_initializeWithPersistence(p,g){var C=this;return g&&(this._popupRedirectResolver=le(g)),this._initializationPromise=this.queue((0,l.Z)(function*(){var T;C._deleted||(C.persistenceManager=yield ui.create(C,p),!C._deleted&&((null===(T=C._popupRedirectResolver)||void 0===T?void 0:T._shouldInitProactively)&&(yield C._popupRedirectResolver._initialize(C)),yield C.initializeCurrentUser(g),!C._deleted&&(C._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,l.Z)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g)}})()}initializeCurrentUser(p){var g=this;return(0,l.Z)(function*(){var C;let T=yield g.assertedPersistence.getCurrentUser();if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const R=null===(C=g.redirectUser)||void 0===C?void 0:C._redirectEventId,W=null==T?void 0:T._redirectEventId,ue=yield g.tryRedirectSignIn(p);(!R||R===W)&&(null==ue?void 0:ue.user)&&(T=ue.user)}return T?T._redirectEventId?(ve(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===T._redirectEventId?g.directlySetCurrentUser(T):g.reloadAndSetCurrentUserOrClear(T)):g.reloadAndSetCurrentUserOrClear(T):g.directlySetCurrentUser(null)})()}tryRedirectSignIn(p){var g=this;return(0,l.Z)(function*(){let C=null;try{C=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch(T){yield g._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,l.Z)(function*(){try{yield $o(p)}catch(C){if("auth/network-request-failed"!==C.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var p=this;return(0,l.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,l.Z)(function*(){const C=p?(0,B.m9)(p):null;return C&&ve(C.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(C&&C._clone(g))})()}_updateCurrentUser(p){var g=this;return(0,l.Z)(function*(){if(!g._deleted)return p&&ve(g.tenantId===p.tenantId,g,"tenant-id-mismatch"),g.queue((0,l.Z)(function*(){yield g.directlySetCurrentUser(p),g.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,l.Z)(function*(){return(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null)})()}setPersistence(p){var g=this;return this.queue((0,l.Z)(function*(){yield g.assertedPersistence.setPersistence(le(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new B.LL("auth","Firebase",p())}onAuthStateChanged(p,g,C){return this.registerStateListener(this.authStateSubscription,p,g,C)}onIdTokenChanged(p,g,C){return this.registerStateListener(this.idTokenSubscription,p,g,C)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var C=this;return(0,l.Z)(function*(){const T=yield C.getOrInitRedirectPersistenceManager(g);return null===p?T.removeCurrentUser():T.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,l.Z)(function*(){if(!g.redirectPersistenceManager){const C=p&&le(p)||g._popupRedirectResolver;ve(C,g,"argument-error"),g.redirectPersistenceManager=yield ui.create(g,[le(C._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,l.Z)(function*(){var C,T;return g._isInitialized&&(yield g.queue((0,l.Z)(function*(){}))),(null===(C=g._currentUser)||void 0===C?void 0:C._redirectEventId)===p?g._currentUser:(null===(T=g.redirectUser)||void 0===T?void 0:T._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,l.Z)(function*(){if(p===g.currentUser)return g.queue((0,l.Z)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,C,T){if(this._deleted)return()=>{};const R="function"==typeof g?g:g.next.bind(g),W=this._isInitialized?Promise.resolve():this._initializationPromise;return ve(W,this,"internal-error"),W.then(()=>R(this.currentUser)),"function"==typeof g?p.addObserver(g,C,T):p.addObserver(g)}directlySetCurrentUser(p){var g=this;return(0,l.Z)(function*(){g.currentUser&&g.currentUser!==p&&(g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh()),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Ut(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function qt(v){return(0,B.m9)(v)}class yn{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,B.ne)(g=>this.observer=g)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function en(v){const p=v.indexOf(":");return p<0?"":v.substr(0,p+1)}function ao(v){if(!v)return null;const p=Number(v);return isNaN(p)?null:p}class Oi{constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return se("not implemented")}_getIdTokenResponse(p){return se("not implemented")}_linkToIdToken(p,g){return se("not implemented")}_getReauthenticationResolver(p){return se("not implemented")}}function Ts(v,p){return nl.apply(this,arguments)}function nl(){return(nl=(0,l.Z)(function*(v,p){return _t(v,"POST","/v1/accounts:resetPassword",$t(v,p))})).apply(this,arguments)}function Wo(v,p){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,l.Z)(function*(v,p){return _t(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function lo(v,p){return Is.apply(this,arguments)}function Is(){return(Is=(0,l.Z)(function*(v,p){return _t(v,"POST","/v1/accounts:update",$t(v,p))})).apply(this,arguments)}function Rt(){return(Rt=(0,l.Z)(function*(v,p){return Ii(v,"POST","/v1/accounts:signInWithPassword",$t(v,p))})).apply(this,arguments)}function il(v,p){return Cd.apply(this,arguments)}function Cd(){return(Cd=(0,l.Z)(function*(v,p){return _t(v,"POST","/v1/accounts:sendOobCode",$t(v,p))})).apply(this,arguments)}function yr(v,p){return rl.apply(this,arguments)}function rl(){return(rl=(0,l.Z)(function*(v,p){return il(v,p)})).apply(this,arguments)}function Zo(v,p){return As.apply(this,arguments)}function As(){return(As=(0,l.Z)(function*(v,p){return il(v,p)})).apply(this,arguments)}function Zi(v,p){return dn.apply(this,arguments)}function dn(){return(dn=(0,l.Z)(function*(v,p){return il(v,p)})).apply(this,arguments)}function ip(v,p){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,l.Z)(function*(v,p){return il(v,p)})).apply(this,arguments)}function sl(){return(sl=(0,l.Z)(function*(v,p){return Ii(v,"POST","/v1/accounts:signInWithEmailLink",$t(v,p))})).apply(this,arguments)}function Yo(){return(Yo=(0,l.Z)(function*(v,p){return Ii(v,"POST","/v1/accounts:signInWithEmailLink",$t(v,p))})).apply(this,arguments)}class Qn extends Oi{constructor(p,g,C,T=null){super("password",C),this._email=p,this._password=g,this._tenantId=T}static _fromEmailAndPassword(p,g){return new Qn(p,g,"password")}static _fromEmailAndCode(p,g,C=null){return new Qn(p,g,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,l.Z)(function*(){switch(g.signInMethod){case"password":return function(v,p){return Rt.apply(this,arguments)}(p,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function(v,p){return sl.apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:tt(p,"internal-error")}})()}_linkToIdToken(p,g){var C=this;return(0,l.Z)(function*(){switch(C.signInMethod){case"password":return Wo(p,{idToken:g,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function(v,p){return Yo.apply(this,arguments)}(p,{idToken:g,email:C._email,oobCode:C._password});default:tt(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function vn(v,p){return rp.apply(this,arguments)}function rp(){return(rp=(0,l.Z)(function*(v,p){return Ii(v,"POST","/v1/accounts:signInWithIdp",$t(v,p))})).apply(this,arguments)}class vr extends Oi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new vr(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):tt("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:C,signInMethod:T}=g,R=(0,de._T)(g,["providerId","signInMethod"]);if(!C||!T)return null;const W=new vr(C,T);return Object.assign(W,R),W}_getIdTokenResponse(p){return vn(p,this.buildRequest())}_linkToIdToken(p,g){const C=this.buildRequest();return C.idToken=g,vn(p,C)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,vn(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,B.xO)(g)}return p}}function OC(v,p){return Ed.apply(this,arguments)}function Ed(){return(Ed=(0,l.Z)(function*(v,p){return _t(v,"POST","/v1/accounts:sendVerificationCode",$t(v,p))})).apply(this,arguments)}function sp(){return(sp=(0,l.Z)(function*(v,p){return Ii(v,"POST","/v1/accounts:signInWithPhoneNumber",$t(v,p))})).apply(this,arguments)}function op(){return(op=(0,l.Z)(function*(v,p){const g=yield Ii(v,"POST","/v1/accounts:signInWithPhoneNumber",$t(v,p));if(g.temporaryProof)throw Br(v,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const PC={USER_NOT_FOUND:"user-not-found"};function ap(){return(ap=(0,l.Z)(function*(v,p){return Ii(v,"POST","/v1/accounts:signInWithPhoneNumber",$t(v,Object.assign(Object.assign({},p),{operation:"REAUTH"})),PC)})).apply(this,arguments)}class qo extends Oi{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new qo({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new qo({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function(v,p){return sp.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function(v,p){return op.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function(v,p){return ap.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:C,verificationCode:T}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:C,code:T}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:C,phoneNumber:T,temporaryProof:R}=p;return C||g||T||R?new qo({verificationId:g,verificationCode:C,phoneNumber:T,temporaryProof:R}):null}}class bc{constructor(p){var g,C,T,R,W,ue;const De=(0,B.zd)((0,B.pd)(p)),Re=null!==(g=De.apiKey)&&void 0!==g?g:null,ze=null!==(C=De.oobCode)&&void 0!==C?C:null,Be=function(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=De.mode)&&void 0!==T?T:null);ve(Re&&ze&&Be,"argument-error"),this.apiKey=Re,this.operation=Be,this.code=ze,this.continueUrl=null!==(R=De.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==(W=De.languageCode)&&void 0!==W?W:null,this.tenantId=null!==(ue=De.tenantId)&&void 0!==ue?ue:null}static parseLink(p){const g=function(v){const p=(0,B.zd)((0,B.pd)(v)).link,g=p?(0,B.zd)((0,B.pd)(p)).deep_link_id:null,C=(0,B.zd)((0,B.pd)(v)).deep_link_id;return(C?(0,B.zd)((0,B.pd)(C)).link:null)||C||g||p||v}(p);try{return new bc(g)}catch(C){return null}}}let Cc=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(g,C){return Qn._fromEmailAndPassword(g,C)}static credentialWithLink(g,C){const T=bc.parseLink(C);return ve(T,"argument-error"),Qn._fromEmailAndCode(g,T.code,T.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class br{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class ol extends br{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class co extends ol{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return ve("providerId"in g&&"signInMethod"in g,"argument-error"),vr._fromParams(g)}credential(p){return this._credential(p)}_credential(p){return ve(p.idToken||p.accessToken,"argument-error"),vr._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return co.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return co.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:C,oauthTokenSecret:T,pendingToken:R,nonce:W,providerId:ue}=p;if(!C&&!T&&!g&&!R||!ue)return null;try{return new co(ue)._credential({idToken:g,accessToken:C,rawNonce:W,pendingToken:R})}catch(De){return null}}}let wd=(()=>{class v extends ol{constructor(){super("facebook.com")}static credential(g){return vr._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch(C){return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),Ms=(()=>{class v extends ol{constructor(){super("google.com"),this.addScope("profile")}static credential(g,C){return vr._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:C})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:C,oauthAccessToken:T}=g;if(!C&&!T)return null;try{return v.credential(C,T)}catch(R){return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),lp=(()=>{class v extends ol{constructor(){super("github.com")}static credential(g){return vr._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch(C){return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class Os extends Oi{constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return vn(p,this.buildRequest())}_linkToIdToken(p,g){const C=this.buildRequest();return C.idToken=g,vn(p,C)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,vn(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:C,signInMethod:T,pendingToken:R}=g;return C&&T&&R&&C===T?new Os(C,R):null}static _create(p,g){return new Os(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let Sd=(()=>{class v extends ol{constructor(){super("twitter.com")}static credential(g,C){return vr._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:C})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:C,oauthTokenSecret:T}=g;if(!C||!T)return null;try{return v.credential(C,T)}catch(R){return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function Td(v,p){return Id.apply(this,arguments)}function Id(){return(Id=(0,l.Z)(function*(v,p){return Ii(v,"POST","/v1/accounts:signUp",$t(v,p))})).apply(this,arguments)}class hi{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,C,T=!1){return(0,l.Z)(function*(){const R=yield Jt._fromIdTokenResponse(p,C,T),W=v_(C);return new hi({user:R,providerId:W,_tokenResponse:C,operationType:g})})()}static _forOperation(p,g,C){return(0,l.Z)(function*(){yield p._updateTokensIfNecessary(C,!0);const T=v_(C);return new hi({user:p,providerId:T,_tokenResponse:C,operationType:g})})()}}function v_(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function al(){return(al=(0,l.Z)(function*(v){var p;const g=qt(v);if(yield g._initializationPromise,null===(p=g.currentUser)||void 0===p?void 0:p.isAnonymous)return new hi({user:g.currentUser,providerId:null,operationType:"signIn"});const C=yield Td(g,{returnSecureToken:!0}),T=yield hi._fromIdTokenResponse(g,"signIn",C,!0);return yield g._updateCurrentUser(T.user),T})).apply(this,arguments)}class ll extends B.ZR{constructor(p,g,C,T){var R;super(g.code,g.message),this.operationType=C,this.user=T,this.name="FirebaseError",Object.setPrototypeOf(this,ll.prototype),this.appName=p.name,this.code=g.code,this.tenantId=null!==(R=p.tenantId)&&void 0!==R?R:void 0,this.serverResponse=g.customData.serverResponse}static _fromErrorAndOperation(p,g,C,T){return new ll(p,g,C,T)}}function cl(v,p,g,C){return("reauthenticate"===p?g._getReauthenticationResolver(v):g._getIdTokenResponse(v)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?ll._fromErrorAndOperation(v,R,p,C):R})}function cp(v){return new Set(v.map(({providerId:p})=>p).filter(p=>!!p))}function dp(){return(dp=(0,l.Z)(function*(v,p){const g=(0,B.m9)(v);yield Hr(!0,g,p);const{providerUserInfo:C}=yield En(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),T=cp(C||[]);return g.providerData=g.providerData.filter(R=>T.has(R.providerId)),T.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function Kt(v,p){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,l.Z)(function*(v,p,g=!1){const C=yield Hn(v,p._linkToIdToken(v.auth,yield v.getIdToken()),g);return hi._forOperation(v,"link",C)})).apply(this,arguments)}function Hr(v,p,g){return Ad.apply(this,arguments)}function Ad(){return(Ad=(0,l.Z)(function*(v,p,g){yield $o(p);const T=!1===v?"provider-already-linked":"no-such-provider";ve(cp(p.providerData).has(g)===v,p.auth,T)})).apply(this,arguments)}function Qt(v,p){return Md.apply(this,arguments)}function Md(){return(Md=(0,l.Z)(function*(v,p,g=!1){const{auth:C}=v,T="reauthenticate";try{const R=yield Hn(v,cl(C,T,p,v),g);ve(R.idToken,C,"internal-error");const W=Ie(R.idToken);ve(W,C,"internal-error");const{sub:ue}=W;return ve(v.uid===ue,C,"user-mismatch"),hi._forOperation(v,T,R)}catch(R){throw"auth/user-not-found"===(null==R?void 0:R.code)&&tt(C,"user-mismatch"),R}})).apply(this,arguments)}function hp(v,p){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,l.Z)(function*(v,p,g=!1){const C="signIn",T=yield cl(v,C,p),R=yield hi._fromIdTokenResponse(v,C,T);return g||(yield v._updateCurrentUser(R.user)),R})).apply(this,arguments)}function jn(v,p){return ul.apply(this,arguments)}function ul(){return(ul=(0,l.Z)(function*(v,p){return hp(qt(v),p)})).apply(this,arguments)}function wc(v,p){return ks.apply(this,arguments)}function ks(){return(ks=(0,l.Z)(function*(v,p){const g=(0,B.m9)(v);return yield Hr(!1,g,p.providerId),Kt(g,p)})).apply(this,arguments)}function Jn(v,p){return Rd.apply(this,arguments)}function Rd(){return(Rd=(0,l.Z)(function*(v,p){return Qt((0,B.m9)(v),p)})).apply(this,arguments)}function fp(v,p){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,l.Z)(function*(v,p){return Ii(v,"POST","/v1/accounts:signInWithCustomToken",$t(v,p))})).apply(this,arguments)}function Dc(){return(Dc=(0,l.Z)(function*(v,p){const g=qt(v),C=yield fp(g,{token:p,returnSecureToken:!0}),T=yield hi._fromIdTokenResponse(g,"signIn",C);return yield g._updateCurrentUser(T.user),T})).apply(this,arguments)}class Jo{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?Qe._fromServerResponse(p,g):tt(p,"internal-error")}}class Qe extends Jo{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new Qe(g)}}function Sc(v,p,g){var C;ve((null===(C=g.url)||void 0===C?void 0:C.length)>0,v,"invalid-continue-uri"),ve(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(ve(g.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),p.iosBundleId=g.iOS.bundleId),g.android&&(ve(g.android.packageName.length>0,v,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function Od(){return(Od=(0,l.Z)(function*(v,p,g){const C=(0,B.m9)(v),T={requestType:"PASSWORD_RESET",email:p};g&&Sc(C,T,g),yield Zo(C,T)})).apply(this,arguments)}function kd(){return(kd=(0,l.Z)(function*(v,p,g){yield Ts((0,B.m9)(v),{oobCode:p,newPassword:g})})).apply(this,arguments)}function ho(){return(ho=(0,l.Z)(function*(v,p){yield lo((0,B.m9)(v),{oobCode:p})})).apply(this,arguments)}function Ce(v,p){return mt.apply(this,arguments)}function mt(){return(mt=(0,l.Z)(function*(v,p){const g=(0,B.m9)(v),C=yield Ts(g,{oobCode:p}),T=C.requestType;switch(ve(T,g,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ve(C.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ve(C.mfaInfo,g,"internal-error");default:ve(C.email,g,"internal-error")}let R=null;return C.mfaInfo&&(R=Jo._fromServerResponse(qt(g),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:R},operation:T}})).apply(this,arguments)}function Wt(){return(Wt=(0,l.Z)(function*(v,p){const{data:g}=yield Ce((0,B.m9)(v),p);return g.email})).apply(this,arguments)}function jr(){return(jr=(0,l.Z)(function*(v,p,g){const C=qt(v),T=yield Td(C,{returnSecureToken:!0,email:p,password:g}),R=yield hi._fromIdTokenResponse(C,"signIn",T);return yield C._updateCurrentUser(R.user),R})).apply(this,arguments)}function Xo(){return(Xo=(0,l.Z)(function*(v,p,g){const C=(0,B.m9)(v),T={requestType:"EMAIL_SIGNIN",email:p};ve(g.handleCodeInApp,C,"argument-error"),g&&Sc(C,T,g),yield Zi(C,T)})).apply(this,arguments)}function ea(){return(ea=(0,l.Z)(function*(v,p,g){const C=(0,B.m9)(v),T=Cc.credentialWithLink(p,g||Te());return ve(T._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),jn(C,T)})).apply(this,arguments)}function Ic(v,p){return hn.apply(this,arguments)}function hn(){return(hn=(0,l.Z)(function*(v,p){return _t(v,"POST","/v1/accounts:createAuthUri",$t(v,p))})).apply(this,arguments)}function Nd(){return(Nd=(0,l.Z)(function*(v,p){const C={identifier:p,continueUri:ke()?Te():"http://localhost"},{signinMethods:T}=yield Ic((0,B.m9)(v),C);return T||[]})).apply(this,arguments)}function fi(){return(fi=(0,l.Z)(function*(v,p){const g=(0,B.m9)(v),T={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};p&&Sc(g.auth,T,p);const{email:R}=yield yr(g.auth,T);R!==v.email&&(yield v.reload())})).apply(this,arguments)}function Ac(){return(Ac=(0,l.Z)(function*(v,p,g){const C=(0,B.m9)(v),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:p};g&&Sc(C.auth,R,g);const{email:W}=yield ip(C.auth,R);W!==v.email&&(yield v.reload())})).apply(this,arguments)}function pp(v,p){return Fd.apply(this,arguments)}function Fd(){return(Fd=(0,l.Z)(function*(v,p){return _t(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function dl(){return(dl=(0,l.Z)(function*(v,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const C=(0,B.m9)(v),R={idToken:yield C.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},W=yield Hn(C,pp(C.auth,R));C.displayName=W.displayName||null,C.photoURL=W.photoUrl||null;const ue=C.providerData.find(({providerId:De})=>"password"===De);ue&&(ue.displayName=C.displayName,ue.photoURL=C.photoURL),yield C._updateTokensIfNecessary(W)})).apply(this,arguments)}function Vd(v,p,g){return Mc.apply(this,arguments)}function Mc(){return(Mc=(0,l.Z)(function*(v,p,g){const{auth:C}=v,R={idToken:yield v.getIdToken(),returnSecureToken:!0};p&&(R.email=p),g&&(R.password=g);const W=yield Hn(v,Wo(C,R));yield v._updateTokensIfNecessary(W,!0)})).apply(this,arguments)}class fo{constructor(p,g,C={}){this.isNewUser=p,this.providerId=g,this.profile=C}}class mp extends fo{constructor(p,g,C,T){super(p,g,C),this.username=T}}class _p extends fo{constructor(p,g){super(p,"facebook.com",g)}}class D_ extends mp{constructor(p,g){super(p,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class fl extends fo{constructor(p,g){super(p,"google.com",g)}}class S_ extends mp{constructor(p,g,C){super(p,"twitter.com",g,C)}}function T_(v){const{user:p,_tokenResponse:g}=v;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function(v){var p,g;if(!v)return null;const{providerId:C}=v,T=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},R=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!C&&(null==v?void 0:v.idToken)){const W=null===(g=null===(p=Ie(v.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if(W)return new fo(R,"anonymous"!==W&&"custom"!==W?W:null)}if(!C)return null;switch(C){case"facebook.com":return new _p(R,T);case"github.com":return new D_(R,T);case"google.com":return new fl(R,T);case"twitter.com":return new S_(R,T,v.screenName||null);case"custom":case"anonymous":return new fo(R,null);default:return new fo(R,C,T)}}(g)}class $r{constructor(p,g){this.type=p,this.credential=g}static _fromIdtoken(p){return new $r("enroll",p)}static _fromMfaPendingCredential(p){return new $r("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,C;if(null==p?void 0:p.multiFactorSession){if(null===(g=p.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return $r._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(C=p.multiFactorSession)||void 0===C?void 0:C.idToken)return $r._fromIdtoken(p.multiFactorSession.idToken)}return null}}class na{constructor(p,g,C){this.session=p,this.hints=g,this.signInResolver=C}static _fromError(p,g){const C=qt(p),T=(g.serverResponse.mfaInfo||[]).map(W=>Jo._fromServerResponse(C,W));ve(g.serverResponse.mfaPendingCredential,C,"internal-error");const R=$r._fromMfaPendingCredential(g.serverResponse.mfaPendingCredential);return new na(R,T,function(){var W=(0,l.Z)(function*(ue){const De=yield ue._process(C,R);delete g.serverResponse.mfaInfo,delete g.serverResponse.mfaPendingCredential;const Re=Object.assign(Object.assign({},g.serverResponse),{idToken:De.idToken,refreshToken:De.refreshToken});switch(g.operationType){case"signIn":const ze=yield hi._fromIdTokenResponse(C,g.operationType,Re);return yield C._updateCurrentUser(ze.user),ze;case"reauthenticate":return ve(g.user,C,"internal-error"),hi._forOperation(g.user,g.operationType,Re);default:tt(C,"internal-error")}});return function(ue){return W.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,l.Z)(function*(){return g.signInResolver(p)})()}}function Oc(v,p){return _t(v,"POST","/v2/accounts/mfaEnrollment:start",$t(v,p))}class Hd{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(C=>Jo._fromServerResponse(p.auth,C)))})}static _fromUser(p){return new Hd(p)}getSession(){var p=this;return(0,l.Z)(function*(){return $r._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,g){var C=this;return(0,l.Z)(function*(){const T=p,R=yield C.getSession(),W=yield Hn(C.user,T._process(C.user.auth,R,g));return yield C.user._updateTokensIfNecessary(W),C.user.reload()})()}unenroll(p){var g=this;return(0,l.Z)(function*(){const C="string"==typeof p?p:p.uid,T=yield g.user.getIdToken(),R=yield Hn(g.user,function(v,p){return _t(v,"POST","/v2/accounts/mfaEnrollment:withdraw",$t(v,p))}(g.user.auth,{idToken:T,mfaEnrollmentId:C}));g.enrolledFactors=g.enrolledFactors.filter(({uid:W})=>W!==C),yield g.user._updateTokensIfNecessary(R);try{yield g.user.reload()}catch(W){if("auth/user-token-expired"!==W.code)throw W}})()}}const Cr=new WeakMap,jd="__sak";class vp{constructor(p,g){this.storage=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(jd,"1"),this.storage.removeItem(jd),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}}const zd=(()=>{class v extends vp{constructor(){super(window.localStorage,"LOCAL"),this.boundEventHandler=(g,C)=>this.onStorageEvent(g,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const v=(0,B.z$)();return _c(v)||Pn(v)}()&&function(){try{return!(!window||window===window.top)}catch(v){return!1}}(),this.fallbackToPolling=Ae(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const C of Object.keys(this.listeners)){const T=this.storage.getItem(C),R=this.localCache[C];T!==R&&g(C,R,T)}}onStorageEvent(g,C=!1){if(!g.key)return void this.forAllChangedKeys((ue,De,Re)=>{this.notifyListeners(ue,Re)});const T=g.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ue=this.storage.getItem(T);if(g.newValue!==ue)null!==g.newValue?this.storage.setItem(T,g.newValue):this.storage.removeItem(T);else if(this.localCache[T]===g.newValue&&!C)return}const R=()=>{const ue=this.storage.getItem(T);!C&&this.localCache[T]===ue||this.notifyListeners(T,ue)},W=this.storage.getItem(T);(0,B.w1)()&&10===document.documentMode&&W!==g.newValue&&g.newValue!==g.oldValue?setTimeout(R,10):R()}notifyListeners(g,C){this.localCache[g]=C;const T=this.listeners[g];if(T)for(const R of Array.from(T))R(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,C,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:C,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(C)}_removeListener(g,C){this.listeners[g]&&(this.listeners[g].delete(C),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,C){var T=()=>super._set,R=this;return(0,l.Z)(function*(){yield T().call(R,g,C),R.localCache[g]=JSON.stringify(C)})()}_get(g){var C=()=>super._get,T=this;return(0,l.Z)(function*(){const R=yield C().call(T,g);return T.localCache[g]=JSON.stringify(R),R})()}_remove(g){var C=()=>super._remove,T=this;return(0,l.Z)(function*(){yield C().call(T,g),delete T.localCache[g]})()}}return v.type="LOCAL",v})(),Er=(()=>{class v extends vp{constructor(){super(window.sessionStorage,"SESSION")}_addListener(g,C){}_removeListener(g,C){}}return v.type="SESSION",v})();let wr=(()=>{class v{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const C=this.receivers.find(R=>R.isListeningto(g));if(C)return C;const T=new v(g);return this.receivers.push(T),T}isListeningto(g){return this.eventTarget===g}handleEvent(g){var C=this;return(0,l.Z)(function*(){const T=g,{eventId:R,eventType:W,data:ue}=T.data,De=C.handlersMap[W];if(!(null==De?void 0:De.size))return;T.ports[0].postMessage({status:"ack",eventId:R,eventType:W});const Re=Array.from(De).map(function(){var Be=(0,l.Z)(function*(cn){return cn(T.origin,ue)});return function(cn){return Be.apply(this,arguments)}}()),ze=yield function(v){return Promise.all(v.map(function(){var p=(0,l.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(C){return{fulfilled:!1,reason:C}}});return function(g){return p.apply(this,arguments)}}()))}(Re);T.ports[0].postMessage({status:"done",eventId:R,eventType:W,response:ze})})()}_subscribe(g,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(C)}_unsubscribe(g,C){this.handlersMap[g]&&C&&this.handlersMap[g].delete(C),(!C||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function xs(v="",p=10){let g="";for(let C=0;C<p;C++)g+=Math.floor(10*Math.random());return v+g}class Cp{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g,C=50){var T=this;return(0,l.Z)(function*(){const R="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let W,ue;return new Promise((De,Re)=>{const ze=xs("",20);R.port1.start();const Be=setTimeout(()=>{Re(new Error("unsupported_event"))},C);ue={messageChannel:R,onMessage(cn){const Wn=cn;if(Wn.data.eventId===ze)switch(Wn.data.status){case"ack":clearTimeout(Be),W=setTimeout(()=>{Re(new Error("timeout"))},3e3);break;case"done":clearTimeout(W),De(Wn.data.response);break;default:clearTimeout(Be),clearTimeout(W),Re(new Error("invalid_response"))}}},T.handlers.add(ue),R.port1.addEventListener("message",ue.onMessage),T.target.postMessage({eventType:p,eventId:ze,data:g},[R.port2])}).finally(()=>{ue&&T.removeMessageHandler(ue)})})()}}function tn(){return window}function Ep(){return void 0!==tn().WorkerGlobalScope&&"function"==typeof tn().importScripts}function xc(){return(xc=(0,l.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(v){return null}})).apply(this,arguments)}const Wd="firebaseLocalStorageDb",Zd="firebaseLocalStorage",M_="fbase_key";class zr{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function ml(v,p){return v.transaction([Zd],p?"readwrite":"readonly").objectStore(Zd)}function $n(){const v=indexedDB.open(Wd,1);return new Promise((p,g)=>{v.addEventListener("error",()=>{g(v.error)}),v.addEventListener("upgradeneeded",()=>{const C=v.result;try{C.createObjectStore(Zd,{keyPath:M_})}catch(T){g(T)}}),v.addEventListener("success",(0,l.Z)(function*(){const C=v.result;C.objectStoreNames.contains(Zd)?p(C):(C.close(),yield function(){const v=indexedDB.deleteDatabase(Wd);return new zr(v).toPromise()}(),p(yield $n()))}))})}function Ps(v,p,g){return nn.apply(this,arguments)}function nn(){return(nn=(0,l.Z)(function*(v,p,g){const C=ml(v,!0).put({[M_]:p,value:g});return new zr(C).toPromise()})).apply(this,arguments)}function Qi(){return(Qi=(0,l.Z)(function*(v,p){const g=ml(v,!1).get(p),C=yield new zr(g).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function it(v,p){const g=ml(v,!0).delete(p);return new zr(g).toPromise()}const Ht=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,l.Z)(function*(){return g.db||(g.db=yield $n()),g.db})()}_withRetries(g){var C=this;return(0,l.Z)(function*(){let T=0;for(;;)try{const R=yield C._openDb();return yield g(R)}catch(R){if(T++>3)throw R;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,l.Z)(function*(){return Ep()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,l.Z)(function*(){g.receiver=wr._getInstance(Ep()?self:null),g.receiver._subscribe("keyChanged",function(){var C=(0,l.Z)(function*(T,R){return{keyProcessed:(yield g._poll()).includes(R.key)}});return function(T,R){return C.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var C=(0,l.Z)(function*(T,R){return["keyChanged"]});return function(T,R){return C.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,l.Z)(function*(){var C,T;if(g.activeServiceWorker=yield function(){return xc.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Cp(g.activeServiceWorker);const R=yield g.sender._send("ping",{},800);!R||(null===(C=R[0])||void 0===C?void 0:C.fulfilled)&&(null===(T=R[0])||void 0===T?void 0:T.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var C=this;return(0,l.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function(){var v;return(null===(v=null==navigator?void 0:navigator.serviceWorker)||void 0===v?void 0:v.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:g},C.serviceWorkerReceiverAvailable?800:50)}catch(T){}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const g=yield $n();return yield Ps(g,jd,"1"),yield it(g,jd),!0}catch(g){}return!1})()}_withPendingWrite(g){var C=this;return(0,l.Z)(function*(){C.pendingWrites++;try{yield g()}finally{C.pendingWrites--}})()}_set(g,C){var T=this;return(0,l.Z)(function*(){return T._withPendingWrite((0,l.Z)(function*(){return yield T._withRetries(R=>Ps(R,g,C)),T.localCache[g]=C,T.notifyServiceWorker(g)}))})()}_get(g){var C=this;return(0,l.Z)(function*(){const T=yield C._withRetries(R=>function(v,p){return Qi.apply(this,arguments)}(R,g));return C.localCache[g]=T,T})()}_remove(g){var C=this;return(0,l.Z)(function*(){return C._withPendingWrite((0,l.Z)(function*(){return yield C._withRetries(T=>it(T,g)),delete C.localCache[g],C.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,l.Z)(function*(){const C=yield g._withRetries(W=>{const ue=ml(W,!1).getAll();return new zr(ue).toPromise()});if(!C)return[];if(0!==g.pendingWrites)return[];const T=[],R=new Set;for(const{fbase_key:W,value:ue}of C)R.add(W),JSON.stringify(g.localCache[W])!==JSON.stringify(ue)&&(g.notifyListeners(W,ue),T.push(W));for(const W of Object.keys(g.localCache))g.localCache[W]&&!R.has(W)&&(g.notifyListeners(W,null),T.push(W));return T})()}notifyListeners(g,C){this.localCache[g]=C;const T=this.listeners[g];if(T)for(const R of Array.from(T))R(C)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(C)}_removeListener(g,C){this.listeners[g]&&(this.listeners[g].delete(C),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function _l(v,p){return _t(v,"POST","/v2/accounts/mfaSignIn:start",$t(v,p))}function go(){return(go=(0,l.Z)(function*(v){return(yield _t(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Yd(v){return new Promise((p,g)=>{const C=document.createElement("script");C.setAttribute("src",v),C.onload=p,C.onerror=T=>{const R=Xe("internal-error");R.customData=T,g(R)},C.type="text/javascript",C.charset="UTF-8",function(){var v,p;return null!==(p=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==p?p:document}().appendChild(C)})}function mo(v){return`__${v}${Math.floor(1e6*Math.random())}`}const Dr=1e12;class oa{constructor(p){this.auth=p,this.counter=Dr,this._widgets=new Map}render(p,g){const C=this.counter;return this._widgets.set(C,new yl(p,this.auth.name,g||{})),this.counter++,C}reset(p){var g;const C=p||Dr;null===(g=this._widgets.get(C))||void 0===g||g.delete(),this._widgets.delete(C)}getResponse(p){var g;return(null===(g=this._widgets.get(p||Dr))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,l.Z)(function*(){var C;return null===(C=g._widgets.get(p||Dr))||void 0===C||C.execute(),""})()}}class yl{constructor(p,g,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof p?document.getElementById(p):p;ve(T,"argument-error",{appName:g}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(v){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<50;C++)p.push(g.charAt(Math.floor(Math.random()*g.length)));return p.join("")}();const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch(C){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(C){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Wr=mo("rcb"),GC=new qe(3e4,6e4);class O_{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!tn().grecaptcha}load(p,g=""){return ve((v=g).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v),p,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(tn().grecaptcha):new Promise((C,T)=>{const R=tn().setTimeout(()=>{T(Xe(p,"network-request-failed"))},GC.get());tn()[Wr]=()=>{tn().clearTimeout(R),delete tn()[Wr];const ue=tn().grecaptcha;if(!ue)return void T(Xe(p,"internal-error"));const De=ue.render;ue.render=(Re,ze)=>{const Be=De(Re,ze);return this.counter++,Be},this.hostLanguage=g,C(ue)},Yd(`https://www.google.com/recaptcha/api.js??${(0,B.xO)({onload:Wr,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(R),T(Xe(p,"internal-error"))})});var v}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){return!!tn().grecaptcha&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class k_{load(p){return(0,l.Z)(function*(){return new oa(p)})()}clearedOneInstance(){}}const Dt="recaptcha",WC={theme:"light",type:"image"};class Dp{constructor(p,g=Object.assign({},WC),C){this.parameters=g,this.type=Dt,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=qt(C),this.isInvisible="invisible"===this.parameters.size,ve("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof p?document.getElementById(p):p;ve(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new k_:new O_,this.validateStartingState()}verify(){var p=this;return(0,l.Z)(function*(){p.assertNotDestroyed();const g=yield p.render(),C=p.getAssertedRecaptcha();return C.getResponse(g)||new Promise(R=>{const W=ue=>{!ue||(p.tokenChangeListeners.delete(W),R(ue))};p.tokenChangeListeners.add(W),p.isInvisible&&C.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){ve(!this.parameters.sitekey,this.auth,"argument-error"),ve(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ve("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(C=>C(g)),"function"==typeof p)p(g);else if("string"==typeof p){const C=tn()[p];"function"==typeof C&&C(g)}}}assertNotDestroyed(){ve(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,l.Z)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const C=document.createElement("div");g.appendChild(C),g=C}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,l.Z)(function*(){ve(ke()&&!Ep(),p.auth,"internal-error"),yield function(){let v=null;return new Promise(p=>{"complete"!==document.readyState?(v=()=>p(),window.addEventListener("load",v)):p()}).catch(p=>{throw v&&window.removeEventListener("load",v),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function(v){return go.apply(this,arguments)}(p.auth);ve(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return ve(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Sp{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=qo._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function P(){return(P=(0,l.Z)(function*(v,p,g){const C=qt(v),T=yield Bc(C,p,(0,B.m9)(g));return new Sp(T,R=>jn(C,R))})).apply(this,arguments)}function Ap(){return(Ap=(0,l.Z)(function*(v,p,g){const C=(0,B.m9)(v);yield Hr(!1,C,"phone");const T=yield Bc(C.auth,p,(0,B.m9)(g));return new Sp(T,R=>wc(C,R))})).apply(this,arguments)}function Vc(){return(Vc=(0,l.Z)(function*(v,p,g){const C=(0,B.m9)(v),T=yield Bc(C.auth,p,(0,B.m9)(g));return new Sp(T,R=>Jn(C,R))})).apply(this,arguments)}function Bc(v,p,g){return _o.apply(this,arguments)}function _o(){return(_o=(0,l.Z)(function*(v,p,g){var C;const T=yield g.verify();try{let R;if(ve("string"==typeof T,v,"argument-error"),ve(g.type===Dt,v,"argument-error"),R="string"==typeof p?{phoneNumber:p}:p,"session"in R){const W=R.session;if("phoneNumber"in R)return ve("enroll"===W.type,v,"internal-error"),(yield Oc(v,{idToken:W.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{ve("signin"===W.type,v,"internal-error");const ue=(null===(C=R.multiFactorHint)||void 0===C?void 0:C.uid)||R.multiFactorUid;return ve(ue,v,"missing-multi-factor-info"),(yield _l(v,{mfaPendingCredential:W.credential,mfaEnrollmentId:ue,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:W}=yield OC(v,{phoneNumber:R.phoneNumber,recaptchaToken:T});return W}}finally{g._reset()}})).apply(this,arguments)}function rn(){return(rn=(0,l.Z)(function*(v,p){yield Kt((0,B.m9)(v),p)})).apply(this,arguments)}let Xn=(()=>{class v{constructor(g){this.providerId=v.PROVIDER_ID,this.auth=qt(g)}verifyPhoneNumber(g,C){return Bc(this.auth,g,(0,B.m9)(C))}static credential(g,C){return qo._fromVerification(g,C)}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:C,temporaryProof:T}=g;return C&&T?qo._fromTokenResponse(C,T):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function Pi(v,p){return p?le(p):(ve(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class yo extends Oi{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return vn(p,this._buildIdpRequest())}_linkToIdToken(p,g){return vn(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return vn(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function Mp(v){return hp(v.auth,new yo(v),v.bypassAuthState)}function pi(v){const{auth:p,user:g}=v;return ve(g,p,"internal-error"),Qt(g,new yo(v),v.bypassAuthState)}function ei(v){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,l.Z)(function*(v){const{auth:p,user:g}=v;return ve(g,p,"internal-error"),Kt(g,new yo(v),v.bypassAuthState)})).apply(this,arguments)}class Zr{constructor(p,g,C,T,R=!1){this.auth=p,this.resolver=C,this.user=T,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,l.Z)(function*(C,T){p.pendingPromise={resolve:C,reject:T};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(R){p.reject(R)}});return function(C,T){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,l.Z)(function*(){const{urlResponse:C,sessionId:T,postBody:R,tenantId:W,error:ue,type:De}=p;if(ue)return void g.reject(ue);const Re={auth:g.auth,requestUri:C,sessionId:T,tenantId:W||void 0,postBody:R||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(De)(Re))}catch(ze){g.reject(ze)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Mp;case"linkViaPopup":case"linkViaRedirect":return ei;case"reauthViaPopup":case"reauthViaRedirect":return pi;default:tt(this.auth,"internal-error")}}resolve(p){oe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){oe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Yr=new qe(2e3,1e4);function vo(){return(vo=(0,l.Z)(function*(v,p,g){const C=qt(v);pt(v,p,br);const T=Pi(C,g);return new Dn(C,"signInViaPopup",p,T).executeNotNull()})).apply(this,arguments)}function Xi(){return(Xi=(0,l.Z)(function*(v,p,g){const C=(0,B.m9)(v);pt(C.auth,p,br);const T=Pi(C.auth,g);return new Dn(C.auth,"reauthViaPopup",p,T,C).executeNotNull()})).apply(this,arguments)}function Uc(){return(Uc=(0,l.Z)(function*(v,p,g){const C=(0,B.m9)(v);pt(C.auth,p,br);const T=Pi(C.auth,g);return new Dn(C.auth,"linkViaPopup",p,T,C).executeNotNull()})).apply(this,arguments)}let Dn=(()=>{class v extends Zr{constructor(g,C,T,R,W){super(g,C,R,W),this.provider=T,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var g=this;return(0,l.Z)(function*(){const C=yield g.execute();return ve(C,g.auth,"internal-error"),C})()}onExecution(){var g=this;return(0,l.Z)(function*(){oe(1===g.filter.length,"Popup operations only handle one event");const C=xs();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],C),g.authWindow.associatedEvent=C,g.resolver._originValidation(g.auth).catch(T=>{g.reject(T)}),g.resolver._isIframeWebStorageSupported(g.auth,T=>{T||g.reject(Xe(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(Xe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const g=()=>{var C,T;this.pollId=(null===(T=null===(C=this.authWindow)||void 0===C?void 0:C.window)||void 0===T?void 0:T.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Xe(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,Yr.get())};g()}}return v.currentPopupAction=null,v})();const Ln=new Map;class qr extends Zr{constructor(p,g,C=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,C),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,l.Z)(function*(){let C=Ln.get(g.auth._key());if(!C){try{const R=(yield function(v,p){return Jd.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;C=()=>Promise.resolve(R)}catch(T){C=()=>Promise.reject(T)}Ln.set(g.auth._key(),C)}return C()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,C=this;return(0,l.Z)(function*(){if("signInViaRedirect"===p.type)return g().call(C,p);if("unknown"!==p.type){if(p.eventId){const T=yield C.auth._redirectUserForId(p.eventId);if(T)return C.user=T,g().call(C,p);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function Jd(){return(Jd=(0,l.Z)(function*(v,p){const g=Co(p),C="true"===(yield pn(v)._get(g));return yield pn(v)._remove(g),C})).apply(this,arguments)}function bo(v,p){return vl.apply(this,arguments)}function vl(){return(vl=(0,l.Z)(function*(v,p){return pn(v)._set(Co(p),"true")})).apply(this,arguments)}function pn(v){return le(v._redirectPersistence)}function Co(v){return wn("pendingRedirect",v.config.apiKey,v.name)}function Op(){return(Op=(0,l.Z)(function*(v,p,g){const C=qt(v);pt(v,p,br);const T=Pi(C,g);return yield bo(T,C),T._openRedirect(C,p,"signInViaRedirect")})).apply(this,arguments)}function Sr(){return(Sr=(0,l.Z)(function*(v,p,g){const C=(0,B.m9)(v);pt(C.auth,p,br);const T=Pi(C.auth,g);yield bo(T,C.auth);const R=yield Tr(C);return T._openRedirect(C.auth,p,"reauthViaRedirect",R)})).apply(this,arguments)}function eh(){return(eh=(0,l.Z)(function*(v,p,g){const C=(0,B.m9)(v);pt(C.auth,p,br);const T=Pi(C.auth,g);yield Hr(!1,C,p.providerId),yield bo(T,C.auth);const R=yield Tr(C);return T._openRedirect(C.auth,p,"linkViaRedirect",R)})).apply(this,arguments)}function kp(){return(kp=(0,l.Z)(function*(v,p){return yield qt(v)._initializationPromise,la(v,p,!1)})).apply(this,arguments)}function la(v,p){return er.apply(this,arguments)}function er(){return(er=(0,l.Z)(function*(v,p,g=!1){const C=qt(v),T=Pi(C,p),W=yield new qr(C,T,g).execute();return W&&!g&&(delete W.user._redirectEventId,yield C._persistUserIfCurrent(W.user),yield C._setRedirectUser(null,p)),W})).apply(this,arguments)}function Tr(v){return $c.apply(this,arguments)}function $c(){return($c=(0,l.Z)(function*(v){const p=xs(`${v.uid}:::`);return v._redirectEventId=p,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),p})).apply(this,arguments)}class zc{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(p,C)&&(g=!0,this.sendToConsumer(p,C),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Kr(v);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var C;if(p.error&&!Kr(p)){const T=(null===(C=p.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";g.onError(Xe(this.auth,T))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const C=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&C}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(th(p))}saveEventToCache(p){this.cachedEventUids.add(th(p)),this.lastProcessedEventTime=Date.now()}}function th(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(p=>p).join("-")}function Kr({type:v,error:p}){return"unknown"===v&&"auth/no-auth-event"===(null==p?void 0:p.code)}function xp(v){return ua.apply(this,arguments)}function ua(){return(ua=(0,l.Z)(function*(v,p={}){return _t(v,"GET","/v1/projects",p)})).apply(this,arguments)}const nh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,x_=/^https?/;function tr(){return(tr=(0,l.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:p}=yield xp(v);for(const g of p)try{if(Cl(g))return}catch(C){}tt(v,"unauthorized-domain")})).apply(this,arguments)}function Cl(v){const p=Te(),{protocol:g,hostname:C}=new URL(p);if(v.startsWith("chrome-extension://")){const W=new URL(v);return""===W.hostname&&""===C?"chrome-extension:"===g&&v.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&W.hostname===C}if(!x_.test(g))return!1;if(nh.test(v))return C===v;const T=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(C)}const Ls=new qe(3e4,6e4);function Wc(){const v=tn().___jsl;if(null==v?void 0:v.H)for(const p of Object.keys(v.H))if(v.H[p].r=v.H[p].r||[],v.H[p].L=v.H[p].L||[],v.H[p].r=[...v.H[p].L],v.CP)for(let g=0;g<v.CP.length;g++)v.CP[g]=null}let Vs=null;function Yc(v){return Vs=Vs||function(v){return new Promise((p,g)=>{var C,T,R;function W(){Wc(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Wc(),g(Xe(v,"network-request-failed"))},timeout:Ls.get()})}if(null===(T=null===(C=tn().gapi)||void 0===C?void 0:C.iframes)||void 0===T?void 0:T.Iframe)p(gapi.iframes.getContext());else{if(!(null===(R=tn().gapi)||void 0===R?void 0:R.load)){const ue=mo("iframefcb");return tn()[ue]=()=>{gapi.load?W():g(Xe(v,"network-request-failed"))},Yd(`https://apis.google.com/js/api.js?onload=${ue}`)}W()}}).catch(p=>{throw Vs=null,p})}(v),Vs}const Pp=new qe(5e3,15e3),da={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},El=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Fp(v){const p=v.config;ve(p.authDomain,v,"auth-domain-config-required");const g=p.emulator?Xt(p,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,C={apiKey:p.apiKey,appName:v.name,v:he.SDK_VERSION},T=El.get(v.config.apiHost);T&&(C.eid=T);const R=v._getFrameworks();return R.length&&(C.fw=R.join(",")),`${g}?${(0,B.xO)(C).slice(1)}`}function wl(){return(wl=(0,l.Z)(function*(v){const p=yield Yc(v),g=tn().gapi;return ve(g,v,"internal-error"),p.open({where:document.body,url:Fp(v),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:da,dontclear:!0},C=>new Promise(function(){var T=(0,l.Z)(function*(R,W){yield C.restyle({setHideOnLeave:!1});const ue=Xe(v,"network-request-failed"),De=tn().setTimeout(()=>{W(ue)},Pp.get());function Re(){tn().clearTimeout(De),R(C)}C.ping(Re).then(Re,()=>{W(ue)})});return function(R,W){return T.apply(this,arguments)}}()))})).apply(this,arguments)}const F_={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ha{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function wo(v,p,g,C,T,R){ve(v.config.authDomain,v,"auth-domain-config-required"),ve(v.config.apiKey,v,"invalid-api-key");const W={apiKey:v.config.apiKey,appName:v.name,authType:g,redirectUrl:C,v:he.SDK_VERSION,eventId:T};if(p instanceof br){p.setDefaultLanguage(v.languageCode),W.providerId=p.providerId||"",(0,B.xb)(p.getCustomParameters())||(W.customParameters=JSON.stringify(p.getCustomParameters()));for(const[De,Re]of Object.entries(R||{}))W[De]=Re}if(p instanceof ol){const De=p.getScopes().filter(Re=>""!==Re);De.length>0&&(W.scopes=De.join(","))}v.tenantId&&(W.tid=v.tenantId);const ue=W;for(const De of Object.keys(ue))void 0===ue[De]&&delete ue[De];return`${function({config:v}){return v.emulator?Xt(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,B.xO)(ue).slice(1)}`}const Dl="webStorageSupport";class nr extends class{constructor(p){this.factorId=p}_process(p,g,C){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,C);case"signin":return this._finalizeSignIn(p,g.credential);default:return se("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new nr(p)}_finalizeEnroll(p,g,C){return function(v,p){return _t(v,"POST","/v2/accounts/mfaEnrollment:finalize",$t(v,p))}(p,{idToken:g,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function(v,p){return _t(v,"POST","/v2/accounts/mfaSignIn:finalize",$t(v,p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let j_=(()=>{class v{constructor(){}static assertion(g){return nr._fromCredential(g)}}return v.FACTOR_ID="phone",v})();var v;class z_{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,l.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(C=>{var T;p((null===(T=C)||void 0===T?void 0:T.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);!g||(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Qr(){return window}function Kc(){return(Kc=(0,l.Z)(function*(v,p,g){var C;const{BuildInfo:T}=Qr();oe(p.sessionId,"AuthEvent did not contain a session ID");const R=yield Xc(p.sessionId),W={};return Pn()?W.ibi=T.packageName:zo()?W.apn=T.packageName:tt(v,"operation-not-supported-in-this-environment"),T.displayName&&(W.appDisplayName=T.displayName),W.sessionId=R,wo(v,g,p.type,void 0,null!==(C=p.eventId)&&void 0!==C?C:void 0,W)})).apply(this,arguments)}function Qc(){return(Qc=(0,l.Z)(function*(v){const{BuildInfo:p}=Qr(),g={};Pn()?g.iosBundleId=p.packageName:zo()?g.androidPackageName=p.packageName:tt(v,"operation-not-supported-in-this-environment"),yield xp(v,g)})).apply(this,arguments)}function Jc(){return(Jc=(0,l.Z)(function*(v,p,g){const{cordova:C}=Qr();let T=()=>{};try{yield new Promise((R,W)=>{let ue=null;function De(){var Be;R();const cn=null===(Be=C.plugins.browsertab)||void 0===Be?void 0:Be.close;"function"==typeof cn&&cn(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function Re(){ue||(ue=window.setTimeout(()=>{W(Xe(v,"redirect-cancelled-by-user"))},2e3))}function ze(){"visible"===(null==document?void 0:document.visibilityState)&&Re()}p.addPassiveListener(De),document.addEventListener("resume",Re,!1),zo()&&document.addEventListener("visibilitychange",ze,!1),T=()=>{p.removePassiveListener(De),document.removeEventListener("resume",Re,!1),document.removeEventListener("visibilitychange",ze,!1),ue&&window.clearTimeout(ue)}})}finally{T()}})).apply(this,arguments)}function Xc(v){return rh.apply(this,arguments)}function rh(){return(rh=(0,l.Z)(function*(v){const p=Gp(v),g=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(g)).map(T=>T.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Gp(v){if(oe(/[0-9a-zA-Z]+/.test(v),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(v);const p=new ArrayBuffer(v.length),g=new Uint8Array(p);for(let C=0;C<v.length;C++)g[C]=v.charCodeAt(C);return g}v="Browser",(0,he._registerComponent)(new X.wA("auth",(p,{options:g})=>{const C=p.getProvider("app").getImmediate(),{apiKey:T,authDomain:R}=C.options;return(W=>{ve(T&&!T.includes(":"),"invalid-api-key",{appName:W.name}),ve(!(null==R?void 0:R.includes(":")),"argument-error",{appName:W.name});const ue={apiKey:T,authDomain:R,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ut(v)},De=new di(W,ue);return function(v,p){const g=(null==p?void 0:p.persistence)||[],C=(Array.isArray(g)?g:[g]).map(le);(null==p?void 0:p.errorMap)&&v._updateErrorMap(p.errorMap),v._initializeWithPersistence(C,null==p?void 0:p.popupRedirectResolver)}(De,g),De})(C)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,C)=>{p.getProvider("auth-internal").initialize()})),(0,he._registerComponent)(new X.wA("auth-internal",p=>{const g=qt(p.getProvider("auth").getImmediate());return new z_(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,he.registerVersion)("@firebase/auth","0.18.0",void 0);class At extends zc{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(p)),super.onEvent(p)}initialized(){var p=this;return(0,l.Z)(function*(){yield p.initPromise})()}}function Pt(v){return ma.apply(this,arguments)}function ma(){return(ma=(0,l.Z)(function*(v){const p=yield sh()._get(Zt(v));return p&&(yield sh()._remove(Zt(v))),p})).apply(this,arguments)}function eu(){const v=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const C=Math.floor(Math.random()*p.length);v.push(p.charAt(C))}return v.join("")}function sh(){return le(zd)}function Zt(v){return wn("authEvent",v.config.apiKey,v.name)}function _a(v){if(!(null==v?void 0:v.includes("?")))return{};const[p,...g]=v.split("?");return(0,B.zd)(g.join("?"))}function Zp(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Xe("no-auth-event")}}function rr(){var v;return(null===(v=null==self?void 0:self.location)||void 0===v?void 0:v.protocol)||null}function nu(v=(0,B.z$)()){return!("file:"!==rr()&&"ionic:"!==rr()||!v.toLowerCase().match(/iphone|ipad|ipod|android/))}function Tl(){try{const v=self.localStorage,p=xs();if(v)return v.setItem(p,"1"),v.removeItem(p),!function(v=(0,B.z$)()){return(0,B.w1)()&&11===(null==document?void 0:document.documentMode)||function(v=(0,B.z$)()){return/Edge\/\d+/.test(v)}(v)}()||(0,B.hl)()}catch(v){return Ar()&&(0,B.hl)()}return!1}function Ar(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function ht(){return("http:"===rr()||"https:"===rr()||(0,B.ru)()||nu())&&!((0,B.b$)()||(0,B.UG)())&&Tl()&&!Ar()}function Il(){return nu()&&"undefined"!=typeof document}function ru(){return(ru=(0,l.Z)(function*(){return!!Il()&&new Promise(v=>{const p=setTimeout(()=>{v(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),v(!0)})})})).apply(this,arguments)}const an={LOCAL:"local",NONE:"none",SESSION:"session"},To=ve,sr="persistence";function kt(v){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,l.Z)(function*(v){yield v._initializationPromise;const p=Rl(),g=wn(sr,v.config.apiKey,v.name);(null==p?void 0:p.sessionStorage)&&p.sessionStorage.setItem(g,v._getPersistence())})).apply(this,arguments)}function Rl(){return"undefined"!=typeof window?window:null}const Vn=ve;class gi{constructor(){this.browserResolver=le(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Er,this._completeRedirectFn=la}_openPopup(p,g,C,T){var R=this;return(0,l.Z)(function*(){var W;oe(null===(W=R.eventManagers[p._key()])||void 0===W?void 0:W.manager,"_initialize() not called before _openPopup()");const ue=wo(p,g,C,Te(),T);return function(v,p,g,C=500,T=600){const R=Math.max((window.screen.availHeight-T)/2,0).toString(),W=Math.max((window.screen.availWidth-C)/2,0).toString();let ue="";const De=Object.assign(Object.assign({},F_),{width:C.toString(),height:T.toString(),top:R,left:W}),Re=(0,B.z$)().toLowerCase();g&&(ue=bd(Re)?"_blank":g),mc(Re)&&(p=p||"http://localhost",De.scrollbars="yes");const ze=Object.entries(De).reduce((cn,[Wn,es])=>`${cn}${Wn}=${es},`,"");if(function(v=(0,B.z$)()){var p;return Pn(v)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(Re)&&"_self"!==ue)return function(v,p){const g=document.createElement("a");g.href=v,g.target=p;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(C)}(p||"",ue),new ha(null);const Be=window.open(p||"",ue,ze);ve(Be,v,"popup-blocked");try{Be.focus()}catch(cn){}return new ha(Be)}(p,ue,xs())})()}_openRedirect(p,g,C,T){var R=this;return(0,l.Z)(function*(){return yield R._originValidation(p),v=wo(p,g,C,Te(),T),tn().location.href=v,new Promise(()=>{});var v})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:T,promise:R}=this.eventManagers[g];return T?Promise.resolve(T):(oe(R,"If manager is not set, promise should be"),R)}const C=this.initAndGetManager(p);return this.eventManagers[g]={promise:C},C}initAndGetManager(p){var g=this;return(0,l.Z)(function*(){const C=yield function(v){return wl.apply(this,arguments)}(p),T=new zc(p);return C.register("authEvent",R=>(ve(null==R?void 0:R.authEvent,p,"invalid-auth-event"),{status:T.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:T},g.iframes[p._key()]=C,T})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(Dl,{type:Dl},T=>{var R;const W=null===(R=null==T?void 0:T[0])||void 0===R?void 0:R[Dl];void 0!==W&&g(!!W),tt(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function(v){return tr.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return Ae()||_c()||Pn()}}),this.cordovaResolver=le(class{constructor(){this._redirectPersistence=Er,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=la}_initialize(p){var g=this;return(0,l.Z)(function*(){const C=p._key();let T=g.eventManagers.get(C);return T||(T=new At(p),g.eventManagers.set(C,T),g.attachCallbackListeners(p,T)),T})()}_openPopup(p){tt(p,"operation-not-supported-in-this-environment")}_openRedirect(p,g,C,T){var R=this;return(0,l.Z)(function*(){!function(v){var p,g,C,T,R,W,ue,De,Re,ze;const Be=Qr();ve("function"==typeof(null===(p=null==Be?void 0:Be.universalLinks)||void 0===p?void 0:p.subscribe),v,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ve(void 0!==(null===(g=null==Be?void 0:Be.BuildInfo)||void 0===g?void 0:g.packageName),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ve("function"==typeof(null===(R=null===(T=null===(C=null==Be?void 0:Be.cordova)||void 0===C?void 0:C.plugins)||void 0===T?void 0:T.browsertab)||void 0===R?void 0:R.openUrl),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ve("function"==typeof(null===(De=null===(ue=null===(W=null==Be?void 0:Be.cordova)||void 0===W?void 0:W.plugins)||void 0===ue?void 0:ue.browsertab)||void 0===De?void 0:De.isAvailable),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ve("function"==typeof(null===(ze=null===(Re=null==Be?void 0:Be.cordova)||void 0===Re?void 0:Re.InAppBrowser)||void 0===ze?void 0:ze.open),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const W=yield R._initialize(p);yield W.initialized(),W.resetRedirect(),Ln.clear(),yield R._originValidation(p);const ue=function(v,p,g=null){return{type:p,eventId:g,urlResponse:null,sessionId:eu(),postBody:null,tenantId:v.tenantId,error:Xe(v,"no-auth-event")}}(p,C,T);yield function(v,p){return sh()._set(Zt(v),p)}(p,ue);const De=yield function(v,p,g){return Kc.apply(this,arguments)}(p,ue,g),Re=yield function(v){const{cordova:p}=Qr();return new Promise(g=>{p.plugins.browsertab.isAvailable(C=>{let T=null;C?p.plugins.browsertab.openUrl(v):T=p.InAppBrowser.open(v,function(v=(0,B.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}()?"_blank":"_system","location=yes"),g(T)})})}(De);return function(v,p,g){return Jc.apply(this,arguments)}(p,W,Re)})()}_isIframeWebStorageSupported(p,g){throw new Error("Method not implemented.")}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function(v){return Qc.apply(this,arguments)}(p)),this.originValidationPromises[g]}attachCallbackListeners(p,g){const{universalLinks:C,handleOpenURL:T,BuildInfo:R}=Qr(),W=setTimeout((0,l.Z)(function*(){yield Pt(p),g.onEvent(Zp())}),500),ue=function(){var ze=(0,l.Z)(function*(Be){clearTimeout(W);const cn=yield Pt(p);let Wn=null;cn&&(null==Be?void 0:Be.url)&&(Wn=function(v,p){var g,C;const T=function(v){const p=_a(v),g=p.link?decodeURIComponent(p.link):void 0,C=_a(g).link,T=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return _a(T).link||T||C||g||v}(p);if(T.includes("/__/auth/callback")){const R=_a(T),W=R.firebaseError?function(v){try{return JSON.parse(v)}catch(p){return null}}(decodeURIComponent(R.firebaseError)):null,ue=null===(C=null===(g=null==W?void 0:W.code)||void 0===g?void 0:g.split("auth/"))||void 0===C?void 0:C[1],De=ue?Xe(ue):null;return De?{type:v.type,eventId:v.eventId,tenantId:v.tenantId,error:De,urlResponse:null,sessionId:null,postBody:null}:{type:v.type,eventId:v.eventId,tenantId:v.tenantId,sessionId:v.sessionId,urlResponse:T,postBody:null}}return null}(cn,Be.url)),g.onEvent(Wn||Zp())});return function(cn){return ze.apply(this,arguments)}}();void 0!==C&&"function"==typeof C.subscribe&&C.subscribe(null,ue);const De=T,Re=`${R.packageName.toLowerCase()}://`;Qr().handleOpenURL=function(){var ze=(0,l.Z)(function*(Be){if(Be.toLowerCase().startsWith(Re)&&ue({url:Be}),"function"==typeof De)try{De(Be)}catch(cn){console.error(cn)}});return function(Be){return ze.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Er,this._completeRedirectFn=la}_initialize(p){var g=this;return(0,l.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,g,C,T){var R=this;return(0,l.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openPopup(p,g,C,T)})()}_openRedirect(p,g,C,T){var R=this;return(0,l.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openRedirect(p,g,C,T)})()}_isIframeWebStorageSupported(p,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,g)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return Il()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Vn(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,l.Z)(function*(){if(p.underlyingResolver)return;const g=yield function(){return ru.apply(this,arguments)}();p.underlyingResolver=g?p.cordovaResolver:p.browserResolver})()}}function Ol(v){return v.unwrap()}function ya(v){return ah(v)}function oh(v,p){var g;const C=null===(g=p.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===p.code)p.resolver=new K_(v,function(v,p){var g;const C=(0,B.m9)(v),T=p;return ve(p.operationType,C,"argument-error"),ve(null===(g=T.serverResponse)||void 0===g?void 0:g.mfaPendingCredential,C,"argument-error"),na._fromError(C,T)}(v,p));else if(C){const T=ah(p),R=p;T&&(R.credential=T,R.tenantId=C.tenantId||void 0,R.email=C.email||void 0,R.phoneNumber=C.phoneNumber||void 0)}}function ah(v){const{_tokenResponse:p}=v instanceof B.ZR?v.customData:v;if(!p)return null;if(!(v instanceof B.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return Xn.credentialFromResult(v);const g=p.providerId;if(!g||"password"===g)return null;let C;switch(g){case"google.com":C=Ms;break;case"facebook.com":C=wd;break;case"github.com":C=lp;break;case"twitter.com":C=Sd;break;default:const{oauthIdToken:T,oauthAccessToken:R,oauthTokenSecret:W,pendingToken:ue,nonce:De}=p;return R||W||T||ue?ue?g.startsWith("saml.")?Os._create(g,ue):vr._fromParams({providerId:g,signInMethod:g,pendingToken:ue,idToken:T,accessToken:R}):new co(g).credential({idToken:T,accessToken:R,rawNonce:De}):null}return v instanceof B.ZR?C.credentialFromError(v):C.credentialFromResult(v)}function zn(v,p){return lh.apply(this,arguments)}function lh(){return(lh=(0,l.Z)(function*(v,p){let g;try{g=yield p}catch(R){throw R instanceof B.ZR&&oh(v,R),R}const{operationType:C,user:T}=g;return{operationType:C,credential:ya(g),additionalUserInfo:T_(g),user:Jr.getOrCreate(T)}})).apply(this,arguments)}function ou(v,p){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,l.Z)(function*(v,p){const g=yield p;return{verificationId:g.verificationId,confirm:C=>zn(v,g.confirm(C))}})).apply(this,arguments)}class K_{constructor(p,g){this.resolver=g,this.auth=function(v){return v.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return zn(Ol(this.auth),this.resolver.resolveSignIn(p))}}class Jr{constructor(p){this._delegate=p,this.multiFactor=function(v){const p=(0,B.m9)(v);return Cr.has(p)||Cr.set(p,Hd._fromUser(p)),Cr.get(p)}(p)}static getOrCreate(p){return Jr.USER_MAP.has(p)||Jr.USER_MAP.set(p,new Jr(p)),Jr.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var g=this;return(0,l.Z)(function*(){return zn(g.auth,wc(g._delegate,p))})()}linkWithPhoneNumber(p,g){var C=this;return(0,l.Z)(function*(){return ou(C.auth,function(v,p,g){return Ap.apply(this,arguments)}(C._delegate,p,g))})()}linkWithPopup(p){var g=this;return(0,l.Z)(function*(){return zn(g.auth,function(v,p,g){return Uc.apply(this,arguments)}(g._delegate,p,gi))})()}linkWithRedirect(p){var g=this;return(0,l.Z)(function*(){return yield kt(qt(g.auth)),function(v,p,g){return function(v,p,g){return eh.apply(this,arguments)}(v,p,g)}(g._delegate,p,gi)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var g=this;return(0,l.Z)(function*(){return zn(g.auth,Jn(g._delegate,p))})()}reauthenticateWithPhoneNumber(p,g){return ou(this.auth,function(v,p,g){return Vc.apply(this,arguments)}(this._delegate,p,g))}reauthenticateWithPopup(p){return zn(this.auth,function(v,p,g){return Xi.apply(this,arguments)}(this._delegate,p,gi))}reauthenticateWithRedirect(p){var g=this;return(0,l.Z)(function*(){return yield kt(qt(g.auth)),function(v,p,g){return function(v,p,g){return Sr.apply(this,arguments)}(v,p,g)}(g._delegate,p,gi)})()}sendEmailVerification(p){return function(v,p){return fi.apply(this,arguments)}(this._delegate,p)}unlink(p){var g=this;return(0,l.Z)(function*(){return yield function(v,p){return dp.apply(this,arguments)}(g._delegate,p),g})()}updateEmail(p){return function(v,p){return Vd((0,B.m9)(v),p,null)}(this._delegate,p)}updatePassword(p){return function(v,p){return Vd((0,B.m9)(v),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function(v,p){return rn.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function(v,p){return dl.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,g){return function(v,p,g){return Ac.apply(this,arguments)}(this._delegate,p,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Jr.USER_MAP=new WeakMap;const Xr=ve;let va=(()=>{class v{constructor(g,C){if(this.app=g,C.isInitialized())return this._delegate=C.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:T}=g.options;Xr(T,"invalid-api-key",{appName:g.name});let R=[bt];if("undefined"!=typeof window){R=function(v,p){const g=Rl();if(!(null==g?void 0:g.sessionStorage))return[];const C=wn(sr,v,p);switch(g.sessionStorage.getItem(C)){case an.NONE:return[bt];case an.LOCAL:return[Ht,Er];case an.SESSION:return[Er];default:return[]}}(T,g.name);for(const ue of[Ht,zd,Er])R.includes(ue)||R.push(ue)}Xr(T,"invalid-api-key",{appName:g.name});const W="undefined"!=typeof window?gi:void 0;this._delegate=C.initialize({options:{persistence:R,popupRedirectResolver:W}}),this._delegate._updateErrorMap(re),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Jr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,C){!function(v,p,g){const C=qt(v);ve(C._canInitEmulator,C,"emulator-config-failed"),ve(/^https?:\/\//.test(p),C,"invalid-emulator-scheme");const T=!!(null==g?void 0:g.disableWarnings),R=en(p),{host:W,port:ue}=function(v){const p=en(v),g=/(\/\/)?([^?#/]+)/.exec(v.substr(p.length));if(!g)return{host:"",port:null};const C=g[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(C);if(T){const R=T[1];return{host:R,port:ao(C.substr(R.length+1))}}{const[R,W]=C.split(":");return{host:R,port:ao(W)}}}(p);C.config.emulator={url:`${R}//${W}${null===ue?"":`:${ue}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:W,port:ue,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:T})}),function(v){function p(){const g=document.createElement("p"),C=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",C.position="fixed",C.width="100%",C.backgroundColor="#ffffff",C.border=".1em solid #000000",C.color="#b50000",C.bottom="0px",C.left="0px",C.margin="0px",C.zIndex="10000",C.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&!v&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",p):p())}(T)}(this._delegate,g,C)}applyActionCode(g){return function(v,p){return ho.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return Ce(this._delegate,g)}confirmPasswordReset(g,C){return function(v,p,g){return kd.apply(this,arguments)}(this._delegate,g,C)}createUserWithEmailAndPassword(g,C){var T=this;return(0,l.Z)(function*(){return zn(T._delegate,function(v,p,g){return jr.apply(this,arguments)}(T._delegate,g,C))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function(v,p){return Nd.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function(v,p){const g=bc.parseLink(p);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,l.Z)(function*(){Xr(ht(),g._delegate,"operation-not-supported-in-this-environment");const C=yield function(v,p){return kp.apply(this,arguments)}(g._delegate,gi);return C?zn(g._delegate,Promise.resolve(C)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function(v,p){qt(v)._logFramework(p)}(this._delegate,g)}onAuthStateChanged(g,C,T){const{next:R,error:W,complete:ue}=Bs(g,C,T);return this._delegate.onAuthStateChanged(R,W,ue)}onIdTokenChanged(g,C,T){const{next:R,error:W,complete:ue}=Bs(g,C,T);return this._delegate.onIdTokenChanged(R,W,ue)}sendSignInLinkToEmail(g,C){return function(v,p,g){return Xo.apply(this,arguments)}(this._delegate,g,C)}sendPasswordResetEmail(g,C){return function(v,p,g){return Od.apply(this,arguments)}(this._delegate,g,C||void 0)}setPersistence(g){var C=this;return(0,l.Z)(function*(){let T;switch(function(v,p){To(Object.values(an).includes(p),v,"invalid-persistence-type"),(0,B.b$)()?To(p!==an.SESSION,v,"unsupported-persistence-type"):(0,B.UG)()?To(p===an.NONE,v,"unsupported-persistence-type"):Ar()?To(p===an.NONE||p===an.LOCAL&&(0,B.hl)(),v,"unsupported-persistence-type"):To(p===an.NONE||Tl(),v,"unsupported-persistence-type")}(C._delegate,g),g){case an.SESSION:T=Er;break;case an.LOCAL:T=(yield le(Ht)._isAvailable())?Ht:zd;break;case an.NONE:T=bt;break;default:return tt("argument-error",{appName:C._delegate.name})}return C._delegate.setPersistence(T)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return zn(this._delegate,function(v){return al.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return zn(this._delegate,jn(this._delegate,g))}signInWithCustomToken(g){return zn(this._delegate,function(v,p){return Dc.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,C){return zn(this._delegate,function(v,p,g){return jn((0,B.m9)(v),Cc.credential(p,g))}(this._delegate,g,C))}signInWithEmailLink(g,C){return zn(this._delegate,function(v,p,g){return ea.apply(this,arguments)}(this._delegate,g,C))}signInWithPhoneNumber(g,C){return ou(this._delegate,function(v,p,g){return P.apply(this,arguments)}(this._delegate,g,C))}signInWithPopup(g){var C=this;return(0,l.Z)(function*(){return Xr(ht(),C._delegate,"operation-not-supported-in-this-environment"),zn(C._delegate,function(v,p,g){return vo.apply(this,arguments)}(C._delegate,g,gi))})()}signInWithRedirect(g){var C=this;return(0,l.Z)(function*(){return Xr(ht(),C._delegate,"operation-not-supported-in-this-environment"),yield kt(C._delegate),function(v,p,g){return function(v,p,g){return Op.apply(this,arguments)}(v,p,g)}(C._delegate,g,gi)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function(v,p){return Wt.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return v.Persistence=an,v})();function Bs(v,p,g){let C=v;"function"!=typeof v&&({next:C,error:p,complete:g}=v);const T=C;return{next:W=>T(W&&Jr.getOrCreate(W)),error:p,complete:g}}class or{constructor(){this.providerId="phone",this._delegate=new Xn(Ol(Q.Z.auth()))}static credential(p,g){return Xn.credential(p,g)}verifyPhoneNumber(p,g){return this._delegate.verifyPhoneNumber(p,g)}unwrap(){return this._delegate}}or.PHONE_SIGN_IN_METHOD=Xn.PHONE_SIGN_IN_METHOD,or.PROVIDER_ID=Xn.PROVIDER_ID;const au=ve;class st{constructor(p,g,C=Q.Z.app()){var T;au(null===(T=C.options)||void 0===T?void 0:T.apiKey,"invalid-api-key",{appName:C.name}),this._delegate=new Dp(p,g,C.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(v){v.INTERNAL.registerComponent(new X.wA("auth-compat",p=>{const g=p.getProvider("app-compat").getImmediate(),C=p.getProvider("auth");return new va(g,C)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Cc,FacebookAuthProvider:wd,GithubAuthProvider:lp,GoogleAuthProvider:Ms,OAuthProvider:co,PhoneAuthProvider:or,PhoneMultiFactorGenerator:j_,RecaptchaVerifier:st,TwitterAuthProvider:Sd,Auth:va,AuthCredential:Oi,Error:B.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),v.registerVersion("@firebase/auth-compat","0.1.3")}(Q.Z)},7574:(Me,me,x)=>{"use strict";x.d(me,{y:()=>F});var l=x(7393),B=x(9181),he=x(6490),q=x(6554),X=x(4487);var k=x(2494);let F=(()=>{class ee{constructor(re){this._isScalar=!1,re&&(this._subscribe=re)}lift(re){const te=new ee;return te.source=this,te.operator=re,te}subscribe(re,te,ye){const{operator:fe}=this,Se=function(ee,z,re){if(ee){if(ee instanceof l.L)return ee;if(ee[B.b])return ee[B.b]()}return ee||z||re?new l.L(ee,z,re):new l.L(he.c)}(re,te,ye);if(Se.add(fe?fe.call(Se,this.source):this.source||k.v.useDeprecatedSynchronousErrorHandling&&!Se.syncErrorThrowable?this._subscribe(Se):this._trySubscribe(Se)),k.v.useDeprecatedSynchronousErrorHandling&&Se.syncErrorThrowable&&(Se.syncErrorThrowable=!1,Se.syncErrorThrown))throw Se.syncErrorValue;return Se}_trySubscribe(re){try{return this._subscribe(re)}catch(te){k.v.useDeprecatedSynchronousErrorHandling&&(re.syncErrorThrown=!0,re.syncErrorValue=te),function(ee){for(;ee;){const{closed:z,destination:re,isStopped:te}=ee;if(z||te)return!1;ee=re&&re instanceof l.L?re:null}return!0}(re)?re.error(te):console.warn(te)}}forEach(re,te){return new(te=V(te))((ye,fe)=>{let Se;Se=this.subscribe($e=>{try{re($e)}catch(tt){fe(tt),Se&&Se.unsubscribe()}},fe,ye)})}_subscribe(re){const{source:te}=this;return te&&te.subscribe(re)}[q.L](){return this}pipe(...re){return 0===re.length?this:function(ee){return 0===ee.length?X.y:1===ee.length?ee[0]:function(re){return ee.reduce((te,ye)=>ye(te),re)}}(re)(this)}toPromise(re){return new(re=V(re))((te,ye)=>{let fe;this.subscribe(Se=>fe=Se,Se=>ye(Se),()=>te(fe))})}}return ee.create=z=>new ee(z),ee})();function V(ee){if(ee||(ee=k.v.Promise||Promise),!ee)throw new Error("no Promise impl found");return ee}},6490:(Me,me,x)=>{"use strict";x.d(me,{c:()=>B});var l=x(2494),Q=x(4449);const B={closed:!0,next(he){},error(he){if(l.v.useDeprecatedSynchronousErrorHandling)throw he;(0,Q.z)(he)},complete(){}}},9765:(Me,me,x)=>{"use strict";x.d(me,{Yc:()=>X,xQ:()=>Z});var l=x(7574),Q=x(7393),B=x(5319),he=x(7971),de=x(8858),q=x(9181);class X extends Q.L{constructor(F){super(F),this.destination=F}}let Z=(()=>{class k extends l.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[q.b](){return new X(this)}lift(V){const ee=new H(this,this);return ee.operator=V,ee}next(V){if(this.closed)throw new he.N;if(!this.isStopped){const{observers:ee}=this,z=ee.length,re=ee.slice();for(let te=0;te<z;te++)re[te].next(V)}}error(V){if(this.closed)throw new he.N;this.hasError=!0,this.thrownError=V,this.isStopped=!0;const{observers:ee}=this,z=ee.length,re=ee.slice();for(let te=0;te<z;te++)re[te].error(V);this.observers.length=0}complete(){if(this.closed)throw new he.N;this.isStopped=!0;const{observers:V}=this,ee=V.length,z=V.slice();for(let re=0;re<ee;re++)z[re].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(V){if(this.closed)throw new he.N;return super._trySubscribe(V)}_subscribe(V){if(this.closed)throw new he.N;return this.hasError?(V.error(this.thrownError),B.w.EMPTY):this.isStopped?(V.complete(),B.w.EMPTY):(this.observers.push(V),new de.W(this,V))}asObservable(){const V=new l.y;return V.source=this,V}}return k.create=(F,V)=>new H(F,V),k})();class H extends Z{constructor(F,V){super(),this.destination=F,this.source=V}next(F){const{destination:V}=this;V&&V.next&&V.next(F)}error(F){const{destination:V}=this;V&&V.error&&this.destination.error(F)}complete(){const{destination:F}=this;F&&F.complete&&this.destination.complete()}_subscribe(F){const{source:V}=this;return V?this.source.subscribe(F):B.w.EMPTY}}},8858:(Me,me,x)=>{"use strict";x.d(me,{W:()=>Q});var l=x(5319);class Q extends l.w{constructor(he,de){super(),this.subject=he,this.subscriber=de,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const he=this.subject,de=he.observers;if(this.subject=null,!de||0===de.length||he.isStopped||he.closed)return;const q=de.indexOf(this.subscriber);-1!==q&&de.splice(q,1)}}},7393:(Me,me,x)=>{"use strict";x.d(me,{L:()=>X});var l=x(9105),Q=x(6490),B=x(5319),he=x(9181),de=x(2494),q=x(4449);class X extends B.w{constructor(k,F,V){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=Q.c;break;case 1:if(!k){this.destination=Q.c;break}if("object"==typeof k){k instanceof X?(this.syncErrorThrowable=k.syncErrorThrowable,this.destination=k,k.add(this)):(this.syncErrorThrowable=!0,this.destination=new Z(this,k));break}default:this.syncErrorThrowable=!0,this.destination=new Z(this,k,F,V)}}[he.b](){return this}static create(k,F,V){const ee=new X(k,F,V);return ee.syncErrorThrowable=!1,ee}next(k){this.isStopped||this._next(k)}error(k){this.isStopped||(this.isStopped=!0,this._error(k))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(k){this.destination.next(k)}_error(k){this.destination.error(k),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:k}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=k,this}}class Z extends X{constructor(k,F,V,ee){super(),this._parentSubscriber=k;let z,re=this;(0,l.m)(F)?z=F:F&&(z=F.next,V=F.error,ee=F.complete,F!==Q.c&&(re=Object.create(F),(0,l.m)(re.unsubscribe)&&this.add(re.unsubscribe.bind(re)),re.unsubscribe=this.unsubscribe.bind(this))),this._context=re,this._next=z,this._error=V,this._complete=ee}next(k){if(!this.isStopped&&this._next){const{_parentSubscriber:F}=this;de.v.useDeprecatedSynchronousErrorHandling&&F.syncErrorThrowable?this.__tryOrSetError(F,this._next,k)&&this.unsubscribe():this.__tryOrUnsub(this._next,k)}}error(k){if(!this.isStopped){const{_parentSubscriber:F}=this,{useDeprecatedSynchronousErrorHandling:V}=de.v;if(this._error)V&&F.syncErrorThrowable?(this.__tryOrSetError(F,this._error,k),this.unsubscribe()):(this.__tryOrUnsub(this._error,k),this.unsubscribe());else if(F.syncErrorThrowable)V?(F.syncErrorValue=k,F.syncErrorThrown=!0):(0,q.z)(k),this.unsubscribe();else{if(this.unsubscribe(),V)throw k;(0,q.z)(k)}}}complete(){if(!this.isStopped){const{_parentSubscriber:k}=this;if(this._complete){const F=()=>this._complete.call(this._context);de.v.useDeprecatedSynchronousErrorHandling&&k.syncErrorThrowable?(this.__tryOrSetError(k,F),this.unsubscribe()):(this.__tryOrUnsub(F),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(k,F){try{k.call(this._context,F)}catch(V){if(this.unsubscribe(),de.v.useDeprecatedSynchronousErrorHandling)throw V;(0,q.z)(V)}}__tryOrSetError(k,F,V){if(!de.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{F.call(this._context,V)}catch(ee){return de.v.useDeprecatedSynchronousErrorHandling?(k.syncErrorValue=ee,k.syncErrorThrown=!0,!0):((0,q.z)(ee),!0)}return!1}_unsubscribe(){const{_parentSubscriber:k}=this;this._context=null,this._parentSubscriber=null,k.unsubscribe()}}},5319:(Me,me,x)=>{"use strict";x.d(me,{w:()=>q});var l=x(9796),Q=x(1555),B=x(9105);const de=(()=>{function Z(H){return Error.call(this),this.message=H?`${H.length} errors occurred during unsubscription:\n${H.map((k,F)=>`${F+1}) ${k.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=H,this}return Z.prototype=Object.create(Error.prototype),Z})();class q{constructor(H){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,H&&(this._ctorUnsubscribe=!0,this._unsubscribe=H)}unsubscribe(){let H;if(this.closed)return;let{_parentOrParents:k,_ctorUnsubscribe:F,_unsubscribe:V,_subscriptions:ee}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,k instanceof q)k.remove(this);else if(null!==k)for(let z=0;z<k.length;++z)k[z].remove(this);if((0,B.m)(V)){F&&(this._unsubscribe=void 0);try{V.call(this)}catch(z){H=z instanceof de?X(z.errors):[z]}}if((0,l.k)(ee)){let z=-1,re=ee.length;for(;++z<re;){const te=ee[z];if((0,Q.K)(te))try{te.unsubscribe()}catch(ye){H=H||[],ye instanceof de?H=H.concat(X(ye.errors)):H.push(ye)}}}if(H)throw new de(H)}add(H){let k=H;if(!H)return q.EMPTY;switch(typeof H){case"function":k=new q(H);case"object":if(k===this||k.closed||"function"!=typeof k.unsubscribe)return k;if(this.closed)return k.unsubscribe(),k;if(!(k instanceof q)){const ee=k;k=new q,k._subscriptions=[ee]}break;default:throw new Error("unrecognized teardown "+H+" added to Subscription.")}let{_parentOrParents:F}=k;if(null===F)k._parentOrParents=this;else if(F instanceof q){if(F===this)return k;k._parentOrParents=[F,this]}else{if(-1!==F.indexOf(this))return k;F.push(this)}const V=this._subscriptions;return null===V?this._subscriptions=[k]:V.push(k),k}remove(H){const k=this._subscriptions;if(k){const F=k.indexOf(H);-1!==F&&k.splice(F,1)}}}var Z;function X(Z){return Z.reduce((H,k)=>H.concat(k instanceof de?k.errors:k),[])}q.EMPTY=((Z=new q).closed=!0,Z)},2494:(Me,me,x)=>{"use strict";x.d(me,{v:()=>Q});let l=!1;const Q={Promise:void 0,set useDeprecatedSynchronousErrorHandling(B){if(B){const he=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+he.stack)}else l&&console.log("RxJS: Back to a better error behavior. Thank you. <3");l=B},get useDeprecatedSynchronousErrorHandling(){return l}}},5345:(Me,me,x)=>{"use strict";x.d(me,{IY:()=>he,Ds:()=>q,ft:()=>Z});var l=x(7393),Q=x(7574),B=x(7444);class he extends l.L{constructor(k){super(),this.parent=k}_next(k){this.parent.notifyNext(k)}_error(k){this.parent.notifyError(k),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class q extends l.L{notifyNext(k){this.destination.next(k)}notifyError(k){this.destination.error(k)}notifyComplete(){this.destination.complete()}}function Z(H,k){if(k.closed)return;if(H instanceof Q.y)return H.subscribe(k);let F;try{F=(0,B.s)(H)(k)}catch(V){k.error(V)}return F}},2441:(Me,me,x)=>{"use strict";x.d(me,{c:()=>de,N:()=>q});var l=x(9765),Q=x(7574),B=x(5319),he=x(1307);class de extends Q.y{constructor(F,V){super(),this.source=F,this.subjectFactory=V,this._refCount=0,this._isComplete=!1}_subscribe(F){return this.getSubject().subscribe(F)}getSubject(){const F=this._subject;return(!F||F.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let F=this._connection;return F||(this._isComplete=!1,F=this._connection=new B.w,F.add(this.source.subscribe(new X(this.getSubject(),this))),F.closed&&(this._connection=null,F=B.w.EMPTY)),F}refCount(){return(0,he.x)()(this)}}const q=(()=>{const k=de.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:k._subscribe},_isComplete:{value:k._isComplete,writable:!0},getSubject:{value:k.getSubject},connect:{value:k.connect},refCount:{value:k.refCount}}})();class X extends l.Yc{constructor(F,V){super(F),this.connectable=V}_error(F){this._unsubscribe(),super._error(F)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const F=this.connectable;if(F){this.connectable=null;const V=F._connection;F._refCount=0,F._subject=null,F._connection=null,V&&V.unsubscribe()}}}},9193:(Me,me,x)=>{"use strict";x.d(me,{E:()=>Q,c:()=>B});var l=x(7574);const Q=new l.y(de=>de.complete());function B(de){return de?function(de){return new l.y(q=>de.schedule(()=>q.complete()))}(de):Q}},4402:(Me,me,x)=>{"use strict";x.d(me,{D:()=>re});var l=x(7574),Q=x(7444),B=x(5319),he=x(6554),X=x(4087),Z=x(377),F=x(4072),V=x(9489);function re(te,ye){return ye?function(te,ye){if(null!=te){if(function(te){return te&&"function"==typeof te[he.L]}(te))return function(te,ye){return new l.y(fe=>{const Se=new B.w;return Se.add(ye.schedule(()=>{const $e=te[he.L]();Se.add($e.subscribe({next(tt){Se.add(ye.schedule(()=>fe.next(tt)))},error(tt){Se.add(ye.schedule(()=>fe.error(tt)))},complete(){Se.add(ye.schedule(()=>fe.complete()))}}))})),Se})}(te,ye);if((0,F.t)(te))return function(te,ye){return new l.y(fe=>{const Se=new B.w;return Se.add(ye.schedule(()=>te.then($e=>{Se.add(ye.schedule(()=>{fe.next($e),Se.add(ye.schedule(()=>fe.complete()))}))},$e=>{Se.add(ye.schedule(()=>fe.error($e)))}))),Se})}(te,ye);if((0,V.z)(te))return(0,X.r)(te,ye);if(function(te){return te&&"function"==typeof te[Z.hZ]}(te)||"string"==typeof te)return function(te,ye){if(!te)throw new Error("Iterable cannot be null");return new l.y(fe=>{const Se=new B.w;let $e;return Se.add(()=>{$e&&"function"==typeof $e.return&&$e.return()}),Se.add(ye.schedule(()=>{$e=te[Z.hZ](),Se.add(ye.schedule(function(){if(fe.closed)return;let tt,Xe;try{const Ot=$e.next();tt=Ot.value,Xe=Ot.done}catch(Ot){return void fe.error(Ot)}Xe?fe.complete():(fe.next(tt),this.schedule())}))})),Se})}(te,ye)}throw new TypeError((null!==te&&typeof te||te)+" is not observable")}(te,ye):te instanceof l.y?te:new l.y((0,Q.s)(te))}},6693:(Me,me,x)=>{"use strict";x.d(me,{n:()=>he});var l=x(7574),Q=x(5015),B=x(4087);function he(de,q){return q?(0,B.r)(de,q):new l.y((0,Q.V)(de))}},6682:(Me,me,x)=>{"use strict";x.d(me,{T:()=>de});var l=x(7574),Q=x(4869),B=x(3282),he=x(6693);function de(...q){let X=Number.POSITIVE_INFINITY,Z=null,H=q[q.length-1];return(0,Q.K)(H)?(Z=q.pop(),q.length>1&&"number"==typeof q[q.length-1]&&(X=q.pop())):"number"==typeof H&&(X=q.pop()),null===Z&&1===q.length&&q[0]instanceof l.y?q[0]:(0,B.J)(X)((0,he.n)(q,Z))}},5917:(Me,me,x)=>{"use strict";x.d(me,{of:()=>he});var l=x(4869),Q=x(6693),B=x(4087);function he(...de){let q=de[de.length-1];return(0,l.K)(q)?(de.pop(),(0,B.r)(de,q)):(0,Q.n)(de)}},8002:(Me,me,x)=>{"use strict";x.d(me,{U:()=>Q});var l=x(7393);function Q(de,q){return function(Z){if("function"!=typeof de)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return Z.lift(new B(de,q))}}class B{constructor(q,X){this.project=q,this.thisArg=X}call(q,X){return X.subscribe(new he(q,this.project,this.thisArg))}}class he extends l.L{constructor(q,X,Z){super(q),this.project=X,this.count=0,this.thisArg=Z||this}_next(q){let X;try{X=this.project.call(this.thisArg,q,this.count++)}catch(Z){return void this.destination.error(Z)}this.destination.next(X)}}},3282:(Me,me,x)=>{"use strict";x.d(me,{J:()=>B});var l=x(9773),Q=x(4487);function B(he=Number.POSITIVE_INFINITY){return(0,l.zg)(Q.y,he)}},9773:(Me,me,x)=>{"use strict";x.d(me,{zg:()=>he});var l=x(8002),Q=x(4402),B=x(5345);function he(Z,H,k=Number.POSITIVE_INFINITY){return"function"==typeof H?F=>F.pipe(he((V,ee)=>(0,Q.D)(Z(V,ee)).pipe((0,l.U)((z,re)=>H(V,z,ee,re))),k)):("number"==typeof H&&(k=H),F=>F.lift(new de(Z,k)))}class de{constructor(H,k=Number.POSITIVE_INFINITY){this.project=H,this.concurrent=k}call(H,k){return k.subscribe(new q(H,this.project,this.concurrent))}}class q extends B.Ds{constructor(H,k,F=Number.POSITIVE_INFINITY){super(H),this.project=k,this.concurrent=F,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(H){this.active<this.concurrent?this._tryNext(H):this.buffer.push(H)}_tryNext(H){let k;const F=this.index++;try{k=this.project(H,F)}catch(V){return void this.destination.error(V)}this.active++,this._innerSub(k)}_innerSub(H){const k=new B.IY(this),F=this.destination;F.add(k);const V=(0,B.ft)(H,k);V!==k&&F.add(V)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(H){this.destination.next(H)}notifyComplete(){const H=this.buffer;this.active--,H.length>0?this._next(H.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(Me,me,x)=>{"use strict";x.d(me,{ht:()=>F,QV:()=>H});var l=x(7393),Q=x(9193),B=x(5917),he=x(7574);class Z{constructor(z,re,te){this.kind=z,this.value=re,this.error=te,this.hasValue="N"===z}observe(z){switch(this.kind){case"N":return z.next&&z.next(this.value);case"E":return z.error&&z.error(this.error);case"C":return z.complete&&z.complete()}}do(z,re,te){switch(this.kind){case"N":return z&&z(this.value);case"E":return re&&re(this.error);case"C":return te&&te()}}accept(z,re,te){return z&&"function"==typeof z.next?this.observe(z):this.do(z,re,te)}toObservable(){switch(this.kind){case"N":return(0,B.of)(this.value);case"E":return ee=this.error,new he.y(re=>re.error(ee));case"C":return(0,Q.c)()}var ee;throw new Error("unexpected notification kind value")}static createNext(z){return void 0!==z?new Z("N",z):Z.undefinedValueNotification}static createError(z){return new Z("E",void 0,z)}static createComplete(){return Z.completeNotification}}function H(ee,z=0){return function(te){return te.lift(new k(ee,z))}}Z.completeNotification=new Z("C"),Z.undefinedValueNotification=new Z("N",void 0);class k{constructor(z,re=0){this.scheduler=z,this.delay=re}call(z,re){return re.subscribe(new F(z,this.scheduler,this.delay))}}class F extends l.L{constructor(z,re,te=0){super(z),this.scheduler=re,this.delay=te}static dispatch(z){const{notification:re,destination:te}=z;re.observe(te),this.unsubscribe()}scheduleMessage(z){this.destination.add(this.scheduler.schedule(F.dispatch,this.delay,new V(z,this.destination)))}_next(z){this.scheduleMessage(Z.createNext(z))}_error(z){this.scheduleMessage(Z.createError(z)),this.unsubscribe()}_complete(){this.scheduleMessage(Z.createComplete()),this.unsubscribe()}}class V{constructor(z,re){this.notification=z,this.destination=re}}},1307:(Me,me,x)=>{"use strict";x.d(me,{x:()=>Q});var l=x(7393);function Q(){return function(q){return q.lift(new B(q))}}class B{constructor(q){this.connectable=q}call(q,X){const{connectable:Z}=this;Z._refCount++;const H=new he(q,Z),k=X.subscribe(H);return H.closed||(H.connection=Z.connect()),k}}class he extends l.L{constructor(q,X){super(q),this.connectable=X}_unsubscribe(){const{connectable:q}=this;if(!q)return void(this.connection=null);this.connectable=null;const X=q._refCount;if(X<=0)return void(this.connection=null);if(q._refCount=X-1,X>1)return void(this.connection=null);const{connection:Z}=this,H=q._connection;this.connection=null,H&&(!Z||H===Z)&&H.unsubscribe()}}},8819:(Me,me,x)=>{"use strict";x.d(me,{B:()=>X});var l=x(2441);var he=x(1307),de=x(9765);function q(){return new de.xQ}function X(){return Z=>(0,he.x)()(function(Z,H){return function(F){let V;V="function"==typeof Z?Z:function(){return Z};const ee=Object.create(F,l.N);return ee.source=F,ee.subjectFactory=V,ee}}(q)(Z))}},9673:(Me,me,x)=>{"use strict";x.d(me,{R:()=>de});var l=x(7574),Q=x(4581),B=x(6561);class he extends l.y{constructor(Z,H=0,k=Q.e){super(),this.source=Z,this.delayTime=H,this.scheduler=k,(!(0,B.k)(H)||H<0)&&(this.delayTime=0),(!k||"function"!=typeof k.schedule)&&(this.scheduler=Q.e)}static create(Z,H=0,k=Q.e){return new he(Z,H,k)}static dispatch(Z){const{source:H,subscriber:k}=Z;return this.add(H.subscribe(k))}_subscribe(Z){return this.scheduler.schedule(he.dispatch,this.delayTime,{source:this.source,subscriber:Z})}}function de(X,Z=0){return function(k){return k.lift(new q(X,Z))}}class q{constructor(Z,H){this.scheduler=Z,this.delay=H}call(Z,H){return new he(H,this.delay,this.scheduler).subscribe(Z)}}},3342:(Me,me,x)=>{"use strict";x.d(me,{b:()=>he});var l=x(7393);function Q(){}var B=x(9105);function he(X,Z,H){return function(F){return F.lift(new de(X,Z,H))}}class de{constructor(Z,H,k){this.nextOrObserver=Z,this.error=H,this.complete=k}call(Z,H){return H.subscribe(new q(Z,this.nextOrObserver,this.error,this.complete))}}class q extends l.L{constructor(Z,H,k,F){super(Z),this._tapNext=Q,this._tapError=Q,this._tapComplete=Q,this._tapError=k||Q,this._tapComplete=F||Q,(0,B.m)(H)?(this._context=this,this._tapNext=H):H&&(this._context=H,this._tapNext=H.next||Q,this._tapError=H.error||Q,this._tapComplete=H.complete||Q)}_next(Z){try{this._tapNext.call(this._context,Z)}catch(H){return void this.destination.error(H)}this.destination.next(Z)}_error(Z){try{this._tapError.call(this._context,Z)}catch(H){return void this.destination.error(H)}this.destination.error(Z)}_complete(){try{this._tapComplete.call(this._context)}catch(Z){return void this.destination.error(Z)}return this.destination.complete()}}},4087:(Me,me,x)=>{"use strict";x.d(me,{r:()=>B});var l=x(7574),Q=x(5319);function B(he,de){return new l.y(q=>{const X=new Q.w;let Z=0;return X.add(de.schedule(function(){Z!==he.length?(q.next(he[Z++]),q.closed||X.add(this.schedule())):q.complete()})),X})}},6465:(Me,me,x)=>{"use strict";x.d(me,{o:()=>B});var l=x(5319);class Q extends l.w{constructor(de,q){super()}schedule(de,q=0){return this}}class B extends Q{constructor(de,q){super(de,q),this.scheduler=de,this.work=q,this.pending=!1}schedule(de,q=0){if(this.closed)return this;this.state=de;const X=this.id,Z=this.scheduler;return null!=X&&(this.id=this.recycleAsyncId(Z,X,q)),this.pending=!0,this.delay=q,this.id=this.id||this.requestAsyncId(Z,this.id,q),this}requestAsyncId(de,q,X=0){return setInterval(de.flush.bind(de,this),X)}recycleAsyncId(de,q,X=0){if(null!==X&&this.delay===X&&!1===this.pending)return q;clearInterval(q)}execute(de,q){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const X=this._execute(de,q);if(X)return X;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(de,q){let Z,X=!1;try{this.work(de)}catch(H){X=!0,Z=!!H&&H||new Error(H)}if(X)return this.unsubscribe(),Z}_unsubscribe(){const de=this.id,q=this.scheduler,X=q.actions,Z=X.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==Z&&X.splice(Z,1),null!=de&&(this.id=this.recycleAsyncId(q,de,null)),this.delay=null}}},6102:(Me,me,x)=>{"use strict";x.d(me,{v:()=>Q});let l=(()=>{class B{constructor(de,q=B.now){this.SchedulerAction=de,this.now=q}schedule(de,q=0,X){return new this.SchedulerAction(this,de).schedule(X,q)}}return B.now=()=>Date.now(),B})();class Q extends l{constructor(he,de=l.now){super(he,()=>Q.delegate&&Q.delegate!==this?Q.delegate.now():de()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(he,de=0,q){return Q.delegate&&Q.delegate!==this?Q.delegate.schedule(he,de,q):super.schedule(he,de,q)}flush(he){const{actions:de}=this;if(this.active)return void de.push(he);let q;this.active=!0;do{if(q=he.execute(he.state,he.delay))break}while(he=de.shift());if(this.active=!1,q){for(;he=de.shift();)he.unsubscribe();throw q}}}},4581:(Me,me,x)=>{"use strict";x.d(me,{e:()=>V,E:()=>F});let l=1;const Q=Promise.resolve(),B={};function he(ee){return ee in B&&(delete B[ee],!0)}const de={setImmediate(ee){const z=l++;return B[z]=!0,Q.then(()=>he(z)&&ee()),z},clearImmediate(ee){he(ee)}};var X=x(6465),H=x(6102);const F=new class extends H.v{flush(z){this.active=!0,this.scheduled=void 0;const{actions:re}=this;let te,ye=-1,fe=re.length;z=z||re.shift();do{if(te=z.execute(z.state,z.delay))break}while(++ye<fe&&(z=re.shift()));if(this.active=!1,te){for(;++ye<fe&&(z=re.shift());)z.unsubscribe();throw te}}}(class extends X.o{constructor(z,re){super(z,re),this.scheduler=z,this.work=re}requestAsyncId(z,re,te=0){return null!==te&&te>0?super.requestAsyncId(z,re,te):(z.actions.push(this),z.scheduled||(z.scheduled=de.setImmediate(z.flush.bind(z,null))))}recycleAsyncId(z,re,te=0){if(null!==te&&te>0||null===te&&this.delay>0)return super.recycleAsyncId(z,re,te);0===z.actions.length&&(de.clearImmediate(re),z.scheduled=void 0)}}),V=F},3637:(Me,me,x)=>{"use strict";x.d(me,{z:()=>B,P:()=>he});var l=x(6465);const B=new(x(6102).v)(l.o),he=B},7771:(Me,me,x)=>{"use strict";x.d(me,{c:()=>q,N:()=>de});var l=x(6465),B=x(6102);const de=new class extends B.v{}(class extends l.o{constructor(Z,H){super(Z,H),this.scheduler=Z,this.work=H}schedule(Z,H=0){return H>0?super.schedule(Z,H):(this.delay=H,this.state=Z,this.scheduler.flush(this),this)}execute(Z,H){return H>0||this.closed?super.execute(Z,H):this._execute(Z,H)}requestAsyncId(Z,H,k=0){return null!==k&&k>0||null===k&&this.delay>0?super.requestAsyncId(Z,H,k):Z.flush(this)}}),q=de},377:(Me,me,x)=>{"use strict";x.d(me,{hZ:()=>Q});const Q="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Me,me,x)=>{"use strict";x.d(me,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Me,me,x)=>{"use strict";x.d(me,{b:()=>l});const l="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(Me,me,x)=>{"use strict";x.d(me,{N:()=>Q});const Q=(()=>{function B(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return B.prototype=Object.create(Error.prototype),B})()},4449:(Me,me,x)=>{"use strict";function l(Q){setTimeout(()=>{throw Q},0)}x.d(me,{z:()=>l})},4487:(Me,me,x)=>{"use strict";function l(Q){return Q}x.d(me,{y:()=>l})},9796:(Me,me,x)=>{"use strict";x.d(me,{k:()=>l});const l=Array.isArray||(Q=>Q&&"number"==typeof Q.length)},9489:(Me,me,x)=>{"use strict";x.d(me,{z:()=>l});const l=Q=>Q&&"number"==typeof Q.length&&"function"!=typeof Q},9105:(Me,me,x)=>{"use strict";function l(Q){return"function"==typeof Q}x.d(me,{m:()=>l})},6561:(Me,me,x)=>{"use strict";x.d(me,{k:()=>Q});var l=x(9796);function Q(B){return!(0,l.k)(B)&&B-parseFloat(B)+1>=0}},1555:(Me,me,x)=>{"use strict";function l(Q){return null!==Q&&"object"==typeof Q}x.d(me,{K:()=>l})},4072:(Me,me,x)=>{"use strict";function l(Q){return!!Q&&"function"!=typeof Q.subscribe&&"function"==typeof Q.then}x.d(me,{t:()=>l})},4869:(Me,me,x)=>{"use strict";function l(Q){return Q&&"function"==typeof Q.schedule}x.d(me,{K:()=>l})},7444:(Me,me,x)=>{"use strict";x.d(me,{s:()=>F});var l=x(5015),Q=x(4449),he=x(377),q=x(6554),Z=x(9489),H=x(4072),k=x(1555);const F=V=>{if(V&&"function"==typeof V[q.L])return(V=>ee=>{const z=V[q.L]();if("function"!=typeof z.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return z.subscribe(ee)})(V);if((0,Z.z)(V))return(0,l.V)(V);if((0,H.t)(V))return(V=>ee=>(V.then(z=>{ee.closed||(ee.next(z),ee.complete())},z=>ee.error(z)).then(null,Q.z),ee))(V);if(V&&"function"==typeof V[he.hZ])return(V=>ee=>{const z=V[he.hZ]();for(;;){let re;try{re=z.next()}catch(te){return ee.error(te),ee}if(re.done){ee.complete();break}if(ee.next(re.value),ee.closed)break}return"function"==typeof z.return&&ee.add(()=>{z.return&&z.return()}),ee})(V);{const z=`You provided ${(0,k.K)(V)?"an invalid object":`'${V}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(z)}}},5015:(Me,me,x)=>{"use strict";x.d(me,{V:()=>l});const l=Q=>B=>{for(let he=0,de=Q.length;he<de&&!B.closed;he++)B.next(Q[he]);B.complete()}},4786:(Me,me,x)=>{"use strict";var l=x(7716);let Q=null;function B(){return Q}const X=new l.OlP("DocumentToken");let Z=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=(0,l.Yz7)({factory:H,token:n,providedIn:"platform"}),n})();function H(){return(0,l.LFG)(F)}const k=new l.OlP("Location Initialized");let F=(()=>{class n extends Z{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return B().getBaseHref(this._doc)}onPopState(e){const i=B().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=B().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,a){V()?this._history.pushState(e,i,a):this.location.hash=a}replaceState(e,i,a){V()?this._history.replaceState(e,i,a):this.location.hash=a}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(X))},n.\u0275prov=(0,l.Yz7)({factory:ee,token:n,providedIn:"platform"}),n})();function V(){return!!window.history.pushState}function ee(){return new F((0,l.LFG)(X))}function z(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function re(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function te(n){return n&&"?"!==n[0]?"?"+n:n}let ye=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=(0,l.Yz7)({factory:fe,token:n,providedIn:"root"}),n})();function fe(n){const t=(0,l.LFG)(X).location;return new $e((0,l.LFG)(Z),t&&t.origin||"")}const Se=new l.OlP("appBaseHref");let $e=(()=>{class n extends ye{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return z(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+te(this._platformLocation.search),a=this._platformLocation.hash;return a&&e?`${i}${a}`:i}pushState(e,i,a,u){const f=this.prepareExternalUrl(a+te(u));this._platformLocation.pushState(e,i,f)}replaceState(e,i,a,u){const f=this.prepareExternalUrl(a+te(u));this._platformLocation.replaceState(e,i,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,a;null===(a=(i=this._platformLocation).historyGo)||void 0===a||a.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Z),l.LFG(Se,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),tt=(()=>{class n extends ye{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=z(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,a,u){let f=this.prepareExternalUrl(a+te(u));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.pushState(e,i,f)}replaceState(e,i,a,u){let f=this.prepareExternalUrl(a+te(u));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,a;null===(a=(i=this._platformLocation).historyGo)||void 0===a||a.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Z),l.LFG(Se,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Xe=(()=>{class n{constructor(e,i){this._subject=new l.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const a=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=re(Mt(a)),this._platformStrategy.onPopState(u=>{this._subject.emit({url:this.path(!0),pop:!0,state:u.state,type:u.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+te(i))}normalize(e){return n.stripTrailingSlash(function(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,Mt(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",a=null){this._platformStrategy.pushState(a,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+te(i)),a)}replaceState(e,i="",a=null){this._platformStrategy.replaceState(a,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+te(i)),a)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,a;null===(a=(i=this._platformStrategy).historyGo)||void 0===a||a.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(a=>a(e,i))}subscribe(e,i,a){return this._subject.subscribe({next:e,error:i,complete:a})}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ye),l.LFG(Z))},n.normalizeQueryParams=te,n.joinWithSlash=z,n.stripTrailingSlash=re,n.\u0275prov=(0,l.Yz7)({factory:Ot,token:n,providedIn:"root"}),n})();function Ot(){return new Xe((0,l.LFG)(ye),(0,l.LFG)(Z))}function Mt(n){return n.replace(/\/index.html$/,"")}var oe=(()=>((oe=oe||{})[oe.Zero=0]="Zero",oe[oe.One=1]="One",oe[oe.Two=2]="Two",oe[oe.Few=3]="Few",oe[oe.Many=4]="Many",oe[oe.Other=5]="Other",oe))(),pe=(()=>((pe=pe||{})[pe.Format=0]="Format",pe[pe.Standalone=1]="Standalone",pe))(),le=(()=>((le=le||{})[le.Narrow=0]="Narrow",le[le.Abbreviated=1]="Abbreviated",le[le.Wide=2]="Wide",le[le.Short=3]="Short",le))(),ce=(()=>((ce=ce||{})[ce.Short=0]="Short",ce[ce.Medium=1]="Medium",ce[ce.Long=2]="Long",ce[ce.Full=3]="Full",ce))(),J=(()=>((J=J||{})[J.Decimal=0]="Decimal",J[J.Group=1]="Group",J[J.List=2]="List",J[J.PercentSign=3]="PercentSign",J[J.PlusSign=4]="PlusSign",J[J.MinusSign=5]="MinusSign",J[J.Exponential=6]="Exponential",J[J.SuperscriptingExponent=7]="SuperscriptingExponent",J[J.PerMille=8]="PerMille",J[J.Infinity=9]="Infinity",J[J.NaN=10]="NaN",J[J.TimeSeparator=11]="TimeSeparator",J[J.CurrencyDecimal=12]="CurrencyDecimal",J[J.CurrencyGroup=13]="CurrencyGroup",J))();function li(n,t){return En((0,l.cg1)(n)[l.wAp.DateFormat],t)}function Bt(n,t){return En((0,l.cg1)(n)[l.wAp.TimeFormat],t)}function $t(n,t){return En((0,l.cg1)(n)[l.wAp.DateTimeFormat],t)}function _t(n,t){const e=(0,l.cg1)(n),i=e[l.wAp.NumberSymbols][t];if(void 0===i){if(t===J.CurrencyDecimal)return e[l.wAp.NumberSymbols][J.Decimal];if(t===J.CurrencyGroup)return e[l.wAp.NumberSymbols][J.Group]}return i}const Vr=l.kL8;function Ds(n){if(!n[l.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[l.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function En(n,t){for(let e=t;e>-1;e--)if(void 0!==n[e])return n[e];throw new Error("Locale data API: locale data undefined")}function zi(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const It=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ct={},xn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var xt=(()=>((xt=xt||{})[xt.Short=0]="Short",xt[xt.ShortGMT=1]="ShortGMT",xt[xt.Long=2]="Long",xt[xt.Extended=3]="Extended",xt))(),Ie=(()=>((Ie=Ie||{})[Ie.FullYear=0]="FullYear",Ie[Ie.Month=1]="Month",Ie[Ie.Date=2]="Date",Ie[Ie.Hours=3]="Hours",Ie[Ie.Minutes=4]="Minutes",Ie[Ie.Seconds=5]="Seconds",Ie[Ie.FractionalSeconds=6]="FractionalSeconds",Ie[Ie.Day=7]="Day",Ie))(),Ge=(()=>((Ge=Ge||{})[Ge.DayPeriods=0]="DayPeriods",Ge[Ge.Days=1]="Days",Ge[Ge.Months=2]="Months",Ge[Ge.Eras=3]="Eras",Ge))();function Hn(n,t,e,i){let a=function(n){if(yc(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[a,u=1,f=1]=n.split("-").map(_=>+_);return Ss(a,u-1,f)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(It))return function(n){const t=new Date(0);let e=0,i=0;const a=n[8]?t.setUTCFullYear:t.setFullYear,u=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),a.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const f=Number(n[4]||0)-e,_=Number(n[5]||0)-i,b=Number(n[6]||0),D=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return u.call(t,f,_,b,D),t}(i)}const t=new Date(n);if(!yc(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=_r(e,t)||t;let _,f=[];for(;t;){if(_=xn.exec(t),!_){f.push(t);break}{f=f.concat(_.slice(1));const I=f.pop();if(!I)break;t=I}}let b=a.getTimezoneOffset();i&&(b=ui(i,b),a=function(n,t,e){const a=n.getTimezoneOffset();return function(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,-1*(ui(t,a)-a))}(a,i));let D="";return f.forEach(I=>{const A=function(n){if(bt[n])return bt[n];let t;switch(n){case"G":case"GG":case"GGG":t=$(Ge.Eras,le.Abbreviated);break;case"GGGG":t=$(Ge.Eras,le.Wide);break;case"GGGGG":t=$(Ge.Eras,le.Narrow);break;case"y":t=j(Ie.FullYear,1,0,!1,!0);break;case"yy":t=j(Ie.FullYear,2,0,!0,!0);break;case"yyy":t=j(Ie.FullYear,3,0,!1,!0);break;case"yyyy":t=j(Ie.FullYear,4,0,!1,!0);break;case"Y":t=qn(1);break;case"YY":t=qn(2,!0);break;case"YYY":t=qn(3);break;case"YYYY":t=qn(4);break;case"M":case"L":t=j(Ie.Month,1,1);break;case"MM":case"LL":t=j(Ie.Month,2,1);break;case"MMM":t=$(Ge.Months,le.Abbreviated);break;case"MMMM":t=$(Ge.Months,le.Wide);break;case"MMMMM":t=$(Ge.Months,le.Narrow);break;case"LLL":t=$(Ge.Months,le.Abbreviated,pe.Standalone);break;case"LLLL":t=$(Ge.Months,le.Wide,pe.Standalone);break;case"LLLLL":t=$(Ge.Months,le.Narrow,pe.Standalone);break;case"w":t=Jt(1);break;case"ww":t=Jt(2);break;case"W":t=Jt(1,!0);break;case"d":t=j(Ie.Date,1);break;case"dd":t=j(Ie.Date,2);break;case"c":case"cc":t=j(Ie.Day,1);break;case"ccc":t=$(Ge.Days,le.Abbreviated,pe.Standalone);break;case"cccc":t=$(Ge.Days,le.Wide,pe.Standalone);break;case"ccccc":t=$(Ge.Days,le.Narrow,pe.Standalone);break;case"cccccc":t=$(Ge.Days,le.Short,pe.Standalone);break;case"E":case"EE":case"EEE":t=$(Ge.Days,le.Abbreviated);break;case"EEEE":t=$(Ge.Days,le.Wide);break;case"EEEEE":t=$(Ge.Days,le.Narrow);break;case"EEEEEE":t=$(Ge.Days,le.Short);break;case"a":case"aa":case"aaa":t=$(Ge.DayPeriods,le.Abbreviated);break;case"aaaa":t=$(Ge.DayPeriods,le.Wide);break;case"aaaaa":t=$(Ge.DayPeriods,le.Narrow);break;case"b":case"bb":case"bbb":t=$(Ge.DayPeriods,le.Abbreviated,pe.Standalone,!0);break;case"bbbb":t=$(Ge.DayPeriods,le.Wide,pe.Standalone,!0);break;case"bbbbb":t=$(Ge.DayPeriods,le.Narrow,pe.Standalone,!0);break;case"B":case"BB":case"BBB":t=$(Ge.DayPeriods,le.Abbreviated,pe.Format,!0);break;case"BBBB":t=$(Ge.DayPeriods,le.Wide,pe.Format,!0);break;case"BBBBB":t=$(Ge.DayPeriods,le.Narrow,pe.Format,!0);break;case"h":t=j(Ie.Hours,1,-12);break;case"hh":t=j(Ie.Hours,2,-12);break;case"H":t=j(Ie.Hours,1);break;case"HH":t=j(Ie.Hours,2);break;case"m":t=j(Ie.Minutes,1);break;case"mm":t=j(Ie.Minutes,2);break;case"s":t=j(Ie.Seconds,1);break;case"ss":t=j(Ie.Seconds,2);break;case"S":t=j(Ie.FractionalSeconds,1);break;case"SS":t=j(Ie.FractionalSeconds,2);break;case"SSS":t=j(Ie.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=ie(xt.Short);break;case"ZZZZZ":t=ie(xt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=ie(xt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=ie(xt.Long);break;default:return null}return bt[n]=t,t}(I);D+=A?A(a,e,b):"''"===I?"'":I.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),D}function Ss(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function _r(n,t){const e=function(n){return(0,l.cg1)(n)[l.wAp.LocaleId]}(n);if(Ct[e]=Ct[e]||{},Ct[e][t])return Ct[e][t];let i="";switch(t){case"shortDate":i=li(n,ce.Short);break;case"mediumDate":i=li(n,ce.Medium);break;case"longDate":i=li(n,ce.Long);break;case"fullDate":i=li(n,ce.Full);break;case"shortTime":i=Bt(n,ce.Short);break;case"mediumTime":i=Bt(n,ce.Medium);break;case"longTime":i=Bt(n,ce.Long);break;case"fullTime":i=Bt(n,ce.Full);break;case"short":const a=_r(n,"shortTime"),u=_r(n,"shortDate");i=jt($t(n,ce.Short),[a,u]);break;case"medium":const f=_r(n,"mediumTime"),_=_r(n,"mediumDate");i=jt($t(n,ce.Medium),[f,_]);break;case"long":const b=_r(n,"longTime"),D=_r(n,"longDate");i=jt($t(n,ce.Long),[b,D]);break;case"full":const I=_r(n,"fullTime"),A=_r(n,"fullDate");i=jt($t(n,ce.Full),[I,A])}return i&&(Ct[e][t]=i),i}function jt(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function ci(n,t,e="-",i,a){let u="";(n<0||a&&n<=0)&&(a?n=1-n:(n=-n,u=e));let f=String(n);for(;f.length<t;)f="0"+f;return i&&(f=f.substr(f.length-t)),u+f}function j(n,t,e=0,i=!1,a=!1){return function(u,f){let _=function(n,t){switch(n){case Ie.FullYear:return t.getFullYear();case Ie.Month:return t.getMonth();case Ie.Date:return t.getDate();case Ie.Hours:return t.getHours();case Ie.Minutes:return t.getMinutes();case Ie.Seconds:return t.getSeconds();case Ie.FractionalSeconds:return t.getMilliseconds();case Ie.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,u);if((e>0||_>-e)&&(_+=e),n===Ie.Hours)0===_&&-12===e&&(_=12);else if(n===Ie.FractionalSeconds)return function(n,t){return ci(n,3).substr(0,t)}(_,t);const b=_t(f,J.MinusSign);return ci(_,t,b,i,a)}}function $(n,t,e=pe.Format,i=!1){return function(a,u){return function(n,t,e,i,a,u){switch(e){case Ge.Months:return function(n,t,e){const i=(0,l.cg1)(n),u=En([i[l.wAp.MonthsFormat],i[l.wAp.MonthsStandalone]],t);return En(u,e)}(t,a,i)[n.getMonth()];case Ge.Days:return function(n,t,e){const i=(0,l.cg1)(n),u=En([i[l.wAp.DaysFormat],i[l.wAp.DaysStandalone]],t);return En(u,e)}(t,a,i)[n.getDay()];case Ge.DayPeriods:const f=n.getHours(),_=n.getMinutes();if(u){const D=function(n){const t=(0,l.cg1)(n);return Ds(t),(t[l.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?zi(i):[zi(i[0]),zi(i[1])])}(t),I=function(n,t,e){const i=(0,l.cg1)(n);Ds(i);const u=En([i[l.wAp.ExtraData][0],i[l.wAp.ExtraData][1]],t)||[];return En(u,e)||[]}(t,a,i),A=D.findIndex(N=>{if(Array.isArray(N)){const[Y,ne]=N,be=f>=Y.hours&&_>=Y.minutes,we=f<ne.hours||f===ne.hours&&_<ne.minutes;if(Y.hours<ne.hours){if(be&&we)return!0}else if(be||we)return!0}else if(N.hours===f&&N.minutes===_)return!0;return!1});if(-1!==A)return I[A]}return function(n,t,e){const i=(0,l.cg1)(n),u=En([i[l.wAp.DayPeriodsFormat],i[l.wAp.DayPeriodsStandalone]],t);return En(u,e)}(t,a,i)[f<12?0:1];case Ge.Eras:return function(n,t){return En((0,l.cg1)(n)[l.wAp.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(a,u,n,t,e,i)}}function ie(n){return function(t,e,i){const a=-1*i,u=_t(e,J.MinusSign),f=a>0?Math.floor(a/60):Math.ceil(a/60);switch(n){case xt.Short:return(a>=0?"+":"")+ci(f,2,u)+ci(Math.abs(a%60),2,u);case xt.ShortGMT:return"GMT"+(a>=0?"+":"")+ci(f,1,u);case xt.Long:return"GMT"+(a>=0?"+":"")+ci(f,2,u)+":"+ci(Math.abs(a%60),2,u);case xt.Extended:return 0===i?"Z":(a>=0?"+":"")+ci(f,2,u)+":"+ci(Math.abs(a%60),2,u);default:throw new Error(`Unknown zone width "${n}"`)}}}function zt(n){return Ss(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function Jt(n,t=!1){return function(e,i){let a;if(t){const u=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,f=e.getDate();a=1+Math.floor((f+u)/7)}else{const u=zt(e),f=function(n){const t=Ss(n,0,1).getDay();return Ss(n,0,1+(t<=4?4:11)-t)}(u.getFullYear()),_=u.getTime()-f.getTime();a=1+Math.round(_/6048e5)}return ci(a,n,_t(i,J.MinusSign))}}function qn(n,t=!1){return function(e,i){return ci(zt(e).getFullYear(),n,_t(i,J.MinusSign),t)}}const bt={};function ui(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function yc(n){return n instanceof Date&&!isNaN(n.valueOf())}class Oi{}let nl=(()=>{class n extends Oi{constructor(e){super(),this.locale=e}getPluralCategory(e,i){switch(Vr(i||this.locale)(e)){case oe.Zero:return"zero";case oe.One:return"one";case oe.Two:return"two";case oe.Few:return"few";case oe.Many:return"many";default:return"other"}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.soG))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class Wi{constructor(t,e,i,a){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=a}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Rt=(()=>{class n{constructor(e,i,a){this._viewContainer=e,this._template=i,this._differs=a,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(i){throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(n){return n.name||typeof n}(e)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=[];e.forEachOperation((a,u,f)=>{if(null==a.previousIndex){const _=this._viewContainer.createEmbeddedView(this._template,new Wi(null,this._ngForOf,-1,-1),null===f?void 0:f),b=new il(a,_);i.push(b)}else if(null==f)this._viewContainer.remove(null===u?void 0:u);else if(null!==u){const _=this._viewContainer.get(u);this._viewContainer.move(_,f);const b=new il(a,_);i.push(b)}});for(let a=0;a<i.length;a++)this._perViewChange(i[a].view,i[a].record);for(let a=0,u=this._viewContainer.length;a<u;a++){const f=this._viewContainer.get(a);f.context.index=a,f.context.count=u,f.context.ngForOf=this._ngForOf}e.forEachIdentityChange(a=>{this._viewContainer.get(a.currentIndex).context.$implicit=a.item})}_perViewChange(e,i){e.context.$implicit=i.item}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class il{constructor(t,e){this.record=t,this.view=e}}let yr=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new rl,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Zo("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Zo("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class rl{constructor(){this.$implicit=null,this.ngIf=null}}function Zo(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(t)}'.`)}let Rs=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[{provide:Oi,useClass:nl}]}),n})();let al=(()=>{class n{}return n.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new ll((0,l.LFG)(X),window)}),n})();class ll{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let a=i.currentNode;for(;a;){const u=a.shadowRoot;if(u){const f=u.getElementById(t)||u.querySelector(`[name="${t}"]`);if(f)return f}a=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,a=e.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(i-u[0],a-u[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=cl(this.window.history)||cl(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function cl(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Ec extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new Ec,Q||(Q=n)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(Hr=Hr||document.querySelector("base"),Hr?Hr.getAttribute("href"):null);return null==e?null:function(n){Qt=Qt||document.createElement("a"),Qt.setAttribute("href",n);const t=Qt.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Hr=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[a,u]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(a.trim()===t)return decodeURIComponent(u)}return null}(document.cookie,t)}}let Qt,Hr=null;const hp=new l.OlP("TRANSITION_ID"),jn=[{provide:l.ip1,useFactory:function(n,t,e){return()=>{e.get(l.CZH).donePromise.then(()=>{const i=B(),a=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<a.length;u++)i.remove(a[u])})}},deps:[hp,X,l.zs3],multi:!0}];class ul{static init(){(0,l.VLi)(new ul)}addToWindow(t){l.dqk.getAngularTestability=(i,a=!0)=>{const u=t.findTestabilityInTree(i,a);if(null==u)throw new Error("Could not find testability for element.");return u},l.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(i=>{const a=l.dqk.getAllAngularTestabilities();let u=a.length,f=!1;const _=function(b){f=f||b,u--,0==u&&i(f)};a.forEach(function(b){b.whenStable(_)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const a=t.getTestability(e);return null!=a?a:i?B().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let wc=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const ho=new l.OlP("EventManagerPlugins");let Ce=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(a=>a.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,a){return this._findPluginFor(i).addEventListener(e,i,a)}addGlobalEventListener(e,i,a){return this._findPluginFor(i).addGlobalEventListener(e,i,a)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const a=this._plugins;for(let u=0;u<a.length;u++){const f=a[u];if(f.supports(e))return this._eventNameToPlugin.set(e,f),f}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ho),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class mt{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const a=B().getGlobalEventTarget(this._doc,t);if(!a)throw new Error(`Unsupported event target ${a} for event ${e}`);return this.addEventListener(a,e,i)}}let xd=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(a=>{this._stylesSet.has(a)||(this._stylesSet.add(a),i.add(a))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Wt=(()=>{class n extends xd{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,a){e.forEach(u=>{const f=this._doc.createElement("style");f.textContent=u,a.push(i.appendChild(f))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(Pd),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,a)=>{this._addStylesToHost(e,a,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Pd))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(X))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function Pd(n){B().remove(n)}const jr={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},xi=/%COMP%/g;function hn(n,t,e){for(let i=0;i<t.length;i++){let a=t[i];Array.isArray(a)?hn(n,a,e):(a=a.replace(xi,n),e.push(a))}return e}function Ki(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Gr=(()=>{class n{constructor(e,i,a){this.eventManager=e,this.sharedStylesHost=i,this.appId=a,this.rendererByCompId=new Map,this.defaultRenderer=new fi(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case l.ifc.Emulated:{let a=this.rendererByCompId.get(i.id);return a||(a=new Fd(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,a)),a.applyToHost(e),a}case 1:case l.ifc.ShadowDom:return new Ld(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const a=hn(i.id,i.styles,[]);this.sharedStylesHost.addStyles(a),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Ce),l.LFG(Wt),l.LFG(l.AFp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class fi{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(jr[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,a){if(a){e=a+":"+e;const u=jr[a];u?t.setAttributeNS(u,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const a=jr[i];a?t.removeAttributeNS(a,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,a){a&(l.JOm.DashCase|l.JOm.Important)?t.style.setProperty(e,i,a&l.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&l.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Ki(i)):this.eventManager.addEventListener(t,e,Ki(i))}}class Fd extends fi{constructor(t,e,i,a){super(t),this.component=i;const u=hn(a+"-"+i.id,i.styles,[]);e.addStyles(u),this.contentAttr="_ngcontent-%COMP%".replace(xi,a+"-"+i.id),this.hostAttr="_nghost-%COMP%".replace(xi,a+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class Ld extends fi{constructor(t,e,i,a){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=hn(a.id,a.styles,[]);for(let f=0;f<u.length;f++){const _=document.createElement("style");_.textContent=u[f],this.shadowRoot.appendChild(_)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let dl=(()=>{class n extends mt{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,a){return e.addEventListener(i,a,!1),()=>this.removeEventListener(e,i,a)}removeEventListener(e,i,a){return e.removeEventListener(i,a)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(X))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const fl=["alt","control","meta","shift"],T_={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Gn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},I_={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let jC=(()=>{class n extends mt{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,a){const u=n.parseEventName(i),f=n.eventCallback(u.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>B().onAndCancel(e,u.domEventName,f))}static parseEventName(e){const i=e.toLowerCase().split("."),a=i.shift();if(0===i.length||"keydown"!==a&&"keyup"!==a)return null;const u=n._normalizeKey(i.pop());let f="";if(fl.forEach(b=>{const D=i.indexOf(b);D>-1&&(i.splice(D,1),f+=b+".")}),f+=u,0!=i.length||0===u.length)return null;const _={};return _.domEventName=a,_.fullKey=f,_}static getEventFullKey(e){let i="",a=function(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&Gn.hasOwnProperty(t)&&(t=Gn[t]))}return T_[t]||t}(e);return a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),fl.forEach(u=>{u!=a&&I_[u](e)&&(i+=u+".")}),i+=a,i}static eventCallback(e,i,a){return u=>{n.getEventFullKey(u)===e&&a.runGuarded(()=>i(u))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(X))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const pl=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:"browser"},{provide:l.g9A,useValue:function(){Ec.makeCurrent(),ul.init()},multi:!0},{provide:X,useFactory:function(){return(0,l.RDi)(document),document},deps:[]}]),Gd=[[],{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function(){return new l.qLn},deps:[]},{provide:ho,useClass:dl,multi:!0,deps:[X,l.R0b,l.Lbi]},{provide:ho,useClass:jC,multi:!0,deps:[X]},[],{provide:Gr,useClass:Gr,deps:[Ce,Wt,l.AFp]},{provide:l.FYo,useExisting:Gr},{provide:xd,useExisting:Wt},{provide:Wt,useClass:Wt,deps:[X]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b]},{provide:Ce,useClass:Ce,deps:[ho,l.R0b]},{provide:class{},useClass:wc,deps:[]},[]];let $d=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:l.AFp,useValue:e.appId},{provide:hp,useExisting:l.AFp},jn]}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(n,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:Gd,imports:[Rs,l.hGG]}),n})();"undefined"!=typeof window&&window;const Nc_firebaseConfig={apiKey:"AIzaSyCXzv3frsOMuid1V5c4FiXffusD0KEMCMA",authDomain:"kelumengineering.firebaseapp.com",databaseURL:"https://kelumengineering-default-rtdb.firebaseio.com",projectId:"kelumengineering",storageBucket:"kelumengineering.appspot.com",messagingSenderId:"594606646160",appId:"1:594606646160:web:068d7ebaec0db11bebc915",measurementId:"G-S4YY2SG9TX"};var $n=x(8939),Ps=x(3637),nn=x(7574),Ve=x(5917),Qi=x(6682),it=x(8002),wp=x(8819),bn=x(4402),Ji=x(5345);function Ht(n,t){return"function"==typeof t?e=>e.pipe(Ht((i,a)=>(0,bn.D)(n(i,a)).pipe((0,it.U)((u,f)=>t(i,u,a,f))))):e=>e.lift(new _l(n))}class _l{constructor(t){this.project=t}call(t,e){return e.subscribe(new R_(t,this.project))}}class R_ extends Ji.Ds{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const i=this.index++;try{e=this.project(t,i)}catch(a){return void this.destination.error(a)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const i=new Ji.IY(this),a=this.destination;a.add(i),this.innerSubscription=(0,Ji.ft)(t,i),this.innerSubscription!==i&&a.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;(!t||t.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}var Fn=x(7393);function go(n,t){let e=!1;return arguments.length>=2&&(e=!0),function(a){return a.lift(new ra(n,t,e))}}class ra{constructor(t,e,i=!1){this.accumulator=t,this.seed=e,this.hasSeed=i}call(t,e){return e.subscribe(new Yd(t,this.accumulator,this.seed,this.hasSeed))}}class Yd extends Fn.L{constructor(t,e,i,a){super(t),this.accumulator=e,this._seed=i,this.hasSeed=a,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let i;try{i=this.accumulator(this.seed,t,e)}catch(a){this.destination.error(a)}this.seed=i,this.destination.next(i)}}class qd{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new sa(t,this.compare,this.keySelector))}}class sa extends Fn.L{constructor(t,e,i){super(t),this.keySelector=i,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:a}=this;e=a?a(t):t}catch(a){return this.destination.error(a)}let i=!1;if(this.hasKey)try{const{compare:a}=this;i=a(this.key,e)}catch(a){return this.destination.error(a)}else this.hasKey=!0;i||(this.key=e,this.destination.next(t))}}class Dr extends Fn.L{notifyNext(t,e,i,a,u){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class oa extends Fn.L{constructor(t,e,i){super(),this.parent=t,this.outerValue=e,this.outerIndex=i,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var yl=x(7444);function Fc(n,t,e,i,a=new oa(n,e,i)){if(!a.closed)return t instanceof nn.y?t.subscribe(a):(0,yl.s)(t)(a)}class GC{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new $C(t,this.observables,this.project))}}class $C extends Dr{constructor(t,e,i){super(t),this.observables=e,this.project=i,this.toRespond=[];const a=e.length;this.values=new Array(a);for(let u=0;u<a;u++)this.toRespond.push(u);for(let u=0;u<a;u++)this.add(Fc(this,e[u],void 0,u))}notifyNext(t,e,i){this.values[i]=e;const a=this.toRespond;if(a.length>0){const u=a.indexOf(i);-1!==u&&a.splice(u,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}class zC{constructor(t){this.predicate=t}call(t,e){return e.subscribe(new k_(t,this.predicate))}}class k_ extends Fn.L{constructor(t,e){super(t),this.predicate=e,this.skipping=!0,this.index=0}_next(t){const e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)}tryCallPredicate(t){try{const e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(e){this.destination.error(e)}}}var Dt=x(9126),Dp=(x(670),x(4486)),Lc=x(6034),Sp=x(8239),Tp=x(5452),P=x(3854),Ip=x(5601);let Vc="";function Bc(n){Vc=n}class _o{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,P.Pz)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,P.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class YC{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,P.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const rn=function(n){try{if("undefined"!=typeof window&&void 0!==window[n]){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new _o(t)}}catch(t){}return new YC},Xn=rn("localStorage"),Pi=rn("sessionStorage"),yo=new Ip.Yd("@firebase/database"),Mp=function(){let n=1;return function(){return n++}}(),pi=function(n){const t=(0,P.dS)(n),e=new P.gQ;e.update(t);const i=e.digest();return P.US.encodeByteArray(i)},ei=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=ei.apply(null,i):t+="object"==typeof i?(0,P.Pz)(i):i,t+=" "}return t};let Ni=null,Zr=!0;const Yr=function(n,t){(0,P.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(yo.logLevel=Ip.in.VERBOSE,Ni=yo.log.bind(yo),t&&Pi.set("logging_enabled",!0)):"function"==typeof n?Ni=n:(Ni=null,Pi.remove("logging_enabled"))},Cn=function(...n){if(!0===Zr&&(Zr=!1,null===Ni&&!0===Pi.get("logging_enabled")&&Yr(!0)),Ni){const t=ei.apply(null,n);Ni(t)}},vo=function(n){return function(...t){Cn(n,...t)}},Kd=function(...n){const t="FIREBASE INTERNAL ERROR: "+ei(...n);yo.error(t)},Xi=function(...n){const t=`FIREBASE FATAL ERROR: ${ei(...n)}`;throw yo.error(t),new Error(t)},ti=function(...n){const t="FIREBASE WARNING: "+ei(...n);yo.warn(t)},Dn=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Ln="[MIN_NAME]",qr="[MAX_NAME]",Ns=function(n,t){if(n===t)return 0;if(n===Ln||t===qr)return-1;if(t===Ln||n===qr)return 1;{const e=Gc(n),i=Gc(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},Jd=function(n,t){return n===t?0:n<t?-1:1},bo=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,P.Pz)(t))},vl=function(n){if("object"!=typeof n||null===n)return(0,P.Pz)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,P.Pz)(t[i]),e+=":",e+=vl(n[t[i]]);return e+="}",e},Rp=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let a=0;a<e;a+=t)i.push(n.substring(a,a+t>e?e:a+t));return i};function pn(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const Co=function(n){(0,P.hu)(!Dn(n),"Invalid JSON number");const i=1023;let a,u,f,_,b;0===n?(u=0,f=0,a=1/n==-1/0?1:0):(a=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(_=Math.min(Math.floor(Math.log(n)/Math.LN2),i),u=_+i,f=Math.round(n*Math.pow(2,52-_)-Math.pow(2,52))):(u=0,f=Math.round(n/Math.pow(2,-1074))));const D=[];for(b=52;b;b-=1)D.push(f%2?1:0),f=Math.floor(f/2);for(b=11;b;b-=1)D.push(u%2?1:0),u=Math.floor(u/2);D.push(a?1:0),D.reverse();const I=D.join("");let A="";for(b=0;b<64;b+=8){let N=parseInt(I.substr(b,8),2).toString(16);1===N.length&&(N="0"+N),A+=N}return A.toLowerCase()},bl=new RegExp("^-?(0*)\\d{1,10}$"),jc=-2147483648,Sr=2147483647,Gc=function(n){if(bl.test(n)){const t=Number(n);if(t>=jc&&t<=Sr)return t}return null},aa=function(n){try{n()}catch(t){setTimeout(()=>{throw ti("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},Eo=function(n,t){const e=setTimeout(n,t);return"object"==typeof e&&e.unref&&e.unref(),e};class kp{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){ti(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class la{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(a=>this.auth_=a)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(Cn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ti(t)}}let er=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const Kr=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,nh="websocket",x_="long_polling";class Fs{constructor(t,e,i,a,u=!1,f="",_=!1){this.secure=e,this.namespace=i,this.webSocketOnly=a,this.nodeAdmin=u,this.persistenceKey=f,this.includeNamespaceInQueryParams=_,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Xn.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Xn.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Cl(n,t,e){let i;if((0,P.hu)("string"==typeof t,"typeof type must == string"),(0,P.hu)("object"==typeof e,"typeof params must == object"),t===nh)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==x_)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const a=[];return pn(e,(u,f)=>{a.push(u+"="+f)}),i+a.join("&")}class Ls{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,P.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,P.p$)(this.counters_)}}const Wc={},Zc={};function Vs(n){const t=n.toString();return Wc[t]||(Wc[t]=new Ls),Wc[t]}class Pp{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let a=0;a<i.length;++a)i[a]&&aa(()=>{this.onMessage_(i[a])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class wo{constructor(t,e,i,a,u,f,_){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=a,this.authToken=u,this.transportSessionId=f,this.lastSessionId=_,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=vo(t),this.stats_=Vs(e),this.urlFn=b=>(this.appCheckToken&&(b.ac=this.appCheckToken),Cl(e,x_,b))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Pp(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,P.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new pa((...u)=>{const[f,_,b,D,I]=u;if(this.incrementIncomingBytes_(u),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===f)this.id=_,this.password=b;else{if("close"!==f)throw new Error("Unrecognized command received: "+f);_?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(_,()=>{this.onClosed_()})):this.onClosed_()}},(...u)=>{const[f,_]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(f,_)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&Kr.test(location.hostname)&&(i.r="f");const a=this.urlFn(i);this.log_("Connecting via long-poll to "+a),this.scriptTagHolder.addTag(a,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){wo.forceAllow_=!0}static forceDisallow(){wo.forceDisallow_=!0}static isAvailable(){return!((0,P.Yr)()||!wo.forceAllow_&&(wo.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,P.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,P.h$)(e),a=Rp(i,1840);for(let u=0;u<a.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,a.length,a[u]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,P.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,P.Pz)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class pa{constructor(t,e,i,a){if(this.onDisconnect=i,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,P.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=Mp(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=pa.createIFrame_();let u="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(u='<script>document.domain="'+document.domain+'";<\/script>');const f="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(f),this.myIFrame.doc.close()}catch(_){Cn("frame writing exception"),_.stack&&Cn(_.stack),Cn(_)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Cn("No IE domain setting required")}catch(e){const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",a=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const f=this.pendingSegs.shift();i=i+"&seg"+a+"="+f.seg+"&ts"+a+"="+f.ts+"&d"+a+"="+f.d,a++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},a=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(a),i()})}addTag(t,e){(0,P.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const a=i.readyState;(!a||"loaded"===a||"complete"===a)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{Cn("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch(i){}},Math.floor(1))}}let Do=null;"undefined"!=typeof MozWebSocket?Do=MozWebSocket:"undefined"!=typeof WebSocket&&(Do=WebSocket);let ga=(()=>{class n{constructor(e,i,a,u,f,_,b){this.connId=e,this.applicationId=a,this.appCheckToken=u,this.authToken=f,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=vo(this.connId),this.stats_=Vs(i),this.connURL=n.connectionURL_(i,_,b,u),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,a,u){const f={v:"5"};return!(0,P.Yr)()&&"undefined"!=typeof location&&location.hostname&&Kr.test(location.hostname)&&(f.r="f"),i&&(f.s=i),a&&(f.ls=a),u&&(f.ac=u),Cl(e,nh,f)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Xn.set("previous_websocket_failure",!0);try{if((0,P.Yr)()){const u={headers:{"User-Agent":`Firebase/5/${Vc}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(u.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(u.headers["X-Firebase-AppCheck"]=this.appCheckToken);const f=process.env,_=0===this.connURL.indexOf("wss://")?f.HTTPS_PROXY||f.https_proxy:f.HTTP_PROXY||f.http_proxy;_&&(u.proxy={origin:_}),this.mySock=new Do(this.connURL,[],u)}else this.mySock=new Do(this.connURL,[],{headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(a){this.log_("Error instantiating WebSocket.");const u=a.message||a.data;return u&&this.log_(u),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=a=>{this.handleIncomingFrame(a)},this.mySock.onerror=a=>{this.log_("WebSocket error.  Closing connection.");const u=a.message||a.data;u&&this.log_(u),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const a=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);a&&a.length>1&&parseFloat(a[1])<4.4&&(e=!0)}return!e&&null!==Do&&!n.forceDisallow_}static previouslyFailed(){return Xn.isInMemoryStorage||!0===Xn.get("previous_websocket_failure")}markConnectionHealthy(){Xn.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const a=(0,P.cI)(i);this.onMessage(a)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,P.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const a=this.extractFrameCount_(i);null!==a&&this.appendFrame_(a)}}send(e){this.resetKeepAlive();const i=(0,P.Pz)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const a=Rp(i,16384);a.length>1&&this.sendString_(String(a.length));for(let u=0;u<a.length;u++)this.sendString_(a[u])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})();class nr{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[wo,ga]}initTransports_(t){const e=ga&&ga.isAvailable();let i=e&&!ga.previouslyFailed();if(t.webSocketOnly&&(e||ti("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[ga];else{const a=this.transports_=[];for(const u of nr.ALL_TRANSPORTS)u&&u.isAvailable()&&a.push(u)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}class Hp{constructor(t,e,i,a,u,f,_,b,D,I){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=a,this.authToken_=u,this.onMessage_=f,this.onReady_=_,this.onDisconnect_=b,this.onKill_=D,this.lastSessionId=I,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=vo("c:"+this.id+":"),this.transportManager_=new nr(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const a=t.healthyTimeout||0;a>0&&(this.healthyTimeout_=Eo(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(a)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=bo("t",t),i=bo("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=bo("t",t),i=bo("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=bo("t",t);if("d"in t){const i=t.d;if("h"===e)this.onHandshake_(i);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?Kd("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Kd("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,a=t.h;this.sessionId=t.s,this.repoInfo_.host=a,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&ti("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),Eo(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Eo(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Xn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Jc{put(t,e,i,a){}merge(t,e,i,a){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class jp{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,P.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let a=0;a<i.length;a++)i[a].callback.apply(i[a].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const a=this.getInitialEvent(t);a&&e.apply(i,a)}off(t,e,i){this.validateEventType_(t);const a=this.listeners_[t]||[];for(let u=0;u<a.length;u++)if(a[u].callback===e&&(!i||i===a[u].context))return void a.splice(u,1)}validateEventType_(t){(0,P.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class Xc extends jp{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,P.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Xc}getInitialEvent(t){return(0,P.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class St{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[i]=this.pieces_[a],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function At(){return new St("")}function Je(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Fi(n){return n.pieces_.length-n.pieceNum_}function Pt(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new St(n.pieces_,t)}function ma(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function eu(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function sh(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new St(t,0)}function Zt(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof St)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let a=0;a<i.length;a++)i[a].length>0&&e.push(i[a])}return new St(e,0)}function ut(n){return n.pieceNum_>=n.pieces_.length}function Mn(n,t){const e=Je(n),i=Je(t);if(null===e)return t;if(e===i)return Mn(Pt(n),Pt(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function _a(n,t){const e=eu(n,0),i=eu(t,0);for(let a=0;a<e.length&&a<i.length;a++){const u=Ns(e[a],i[a]);if(0!==u)return u}return e.length===i.length?0:e.length<i.length?-1:1}function zp(n,t){if(Fi(n)!==Fi(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function ir(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(Fi(n)>Fi(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class Wp{constructor(t,e){this.errorPrefix_=e,this.parts_=eu(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,P.ug)(this.parts_[i]);Yp(this)}}function Yp(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+So(n))}function So(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class tu extends jp{constructor(){let t,e;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",t="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new tu}getInitialEvent(t){return(0,P.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const rr=1e3;let iu,Ar=(()=>{class n extends Jc{constructor(e,i,a,u,f,_,b,D){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=a,this.onConnectStatus_=u,this.onServerInfoUpdate_=f,this.authTokenProvider_=_,this.appCheckTokenProvider_=b,this.authOverride_=D,this.id=n.nextPersistentConnectionId_++,this.log_=vo("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=rr,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,D&&!(0,P.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");tu.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Xc.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,a){const u=++this.requestNumber_,f={r:u,a:e,b:i};this.log_((0,P.Pz)(f)),(0,P.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(f),a&&(this.requestCBHash_[u]=a)}get(e){this.initConnection_();const i=new P.BH,a={p:e._path.toString(),q:e._queryObject},u={action:"g",request:a,onComplete:_=>{const b=_.d;"ok"===_.s?(this.onDataUpdate_(a.p,b,!1,null),i.resolve(b)):i.reject(b)}};this.outstandingGets_.push(u),this.outstandingGetCount_++;const f=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const _=this.outstandingGets_[f];void 0===_||u!==_||(delete this.outstandingGets_[f],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+f+" timed out on connection"),i.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(f),i.promise}listen(e,i,a,u){this.initConnection_();const f=e._queryIdentifier,_=e._path.toString();this.log_("Listen called for "+_+" "+f),this.listens.has(_)||this.listens.set(_,new Map),(0,P.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,P.hu)(!this.listens.get(_).has(f),"listen() called twice for same path/queryId.");const b={onComplete:u,hashFn:i,query:e,tag:a};this.listens.get(_).set(f,b),this.connected_&&this.sendListen_(b)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,a=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(a)})}sendListen_(e){const i=e.query,a=i._path.toString(),u=i._queryIdentifier;this.log_("Listen on "+a+" for "+u);const f={p:a};e.tag&&(f.q=i._queryObject,f.t=e.tag),f.h=e.hashFn(),this.sendRequest("q",f,b=>{const D=b.d,I=b.s;n.warnOnListenWarnings_(D,i),(this.listens.get(a)&&this.listens.get(a).get(u))===e&&(this.log_("listen response",b),"ok"!==I&&this.removeListen_(a,u),e.onComplete&&e.onComplete(I,D))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,P.r3)(e,"w")){const a=(0,P.DV)(e,"w");if(Array.isArray(a)&&~a.indexOf("no_index")){const u='".indexOn": "'+i._queryParams.getIndex().toString()+'"',f=i._path.toString();ti(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${u} at ${f} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,P.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,P.w9)(e)?"auth":"gauth",a={cred:e};null===this.authOverride_?a.noauth=!0:"object"==typeof this.authOverride_&&(a.authvar=this.authOverride_),this.sendRequest(i,a,u=>{const f=u.s,_=u.d||"error";this.authToken_===e&&("ok"===f?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(f,_))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,a=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,a)})}unlisten(e,i){const a=e._path.toString(),u=e._queryIdentifier;this.log_("Unlisten called for "+a+" "+u),(0,P.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(a,u)&&this.connected_&&this.sendUnlisten_(a,u,e._queryObject,i)}sendUnlisten_(e,i,a,u){this.log_("Unlisten on "+e+" for "+i);const f={p:e};u&&(f.q=a,f.t=u),this.sendRequest("n",f)}onDisconnectPut(e,i,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:a})}onDisconnectMerge(e,i,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:a})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,a,u){const f={p:i,d:a};this.log_("onDisconnect "+e,f),this.sendRequest(e,f,_=>{u&&setTimeout(()=>{u(_.s,_.d)},Math.floor(0))})}put(e,i,a,u){this.putInternal("p",e,i,a,u)}merge(e,i,a,u){this.putInternal("m",e,i,a,u)}putInternal(e,i,a,u,f){this.initConnection_();const _={p:i,d:a};void 0!==f&&(_.h=f),this.outstandingPuts_.push({action:e,request:_,onComplete:u}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,a=this.outstandingPuts_[e].request,u=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,a,f=>{this.log_(i+" response",f),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),u&&u(f.s,f.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,a=>{"ok"!==a.s&&this.log_("reportStats","Error sending stats: "+a.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,P.Pz)(e));const i=e.r,a=this.requestCBHash_[i];a&&(delete this.requestCBHash_[i],a(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):Kd("Unrecognized action received from server: "+(0,P.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,P.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=rr,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=rr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=rr),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,Sp.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),a=e.onReady_.bind(e),u=e.onRealtimeDisconnect_.bind(e),f=e.id+":"+n.nextConnectionId_++,_=e.lastSessionId;let b=!1,D=null;const I=function(){D?D.close():(b=!0,u())};e.realtime_={close:I,sendRequest:function(Y){(0,P.hu)(D,"sendRequest call when we're not connected not allowed."),D.sendRequest(Y)}};const N=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[Y,ne]=yield Promise.all([e.authTokenProvider_.getToken(N),e.appCheckTokenProvider_.getToken(N)]);b?Cn("getToken() completed but was canceled"):(Cn("getToken() completed. Creating connection."),e.authToken_=Y&&Y.accessToken,e.appCheckToken_=ne&&ne.token,D=new Hp(f,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,a,u,be=>{ti(be+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},_))}catch(Y){e.log_("Failed to get token: "+Y),b||(e.repoInfo_.nodeAdmin&&ti(Y),I())}}})()}interrupt(e){Cn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Cn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,P.xb)(this.interruptReasons_)&&(this.reconnectDelay_=rr,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let a;a=i?i.map(f=>vl(f)).join("$"):"default";const u=this.removeListen_(e,a);u&&u.onComplete&&u.onComplete("permission_denied")}removeListen_(e,i){const a=new St(e).toString();let u;if(this.listens.has(a)){const f=this.listens.get(a);u=f.get(i),f.delete(i),0===f.size&&this.listens.delete(a)}else u=void 0;return u}onAuthRevoked_(e,i){Cn("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){Cn("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,P.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+Vc.replace(/\./g,"-")]=1,(0,P.uI)()?e["framework.cordova"]=1:(0,P.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Xc.getInstance().currentlyOnline();return(0,P.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class ht{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new ht(t,e)}}class Il{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new ht(Ln,t),a=new ht(Ln,e);return 0!==this.compare(i,a)}minPost(){return ht.MIN}}class ru extends Il{static get __EMPTY_NODE(){return iu}static set __EMPTY_NODE(t){iu=t}compare(t,e){return Ns(t.name,e.name)}isDefinedOn(t){throw(0,P.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return ht.MIN}maxPost(){return new ht(qr,iu)}makePost(t,e){return(0,P.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new ht(t,iu)}toString(){return".key"}}const an=new ru;class To{constructor(t,e,i,a,u=null){this.isReverse_=a,this.resultGenerator_=u,this.nodeStack_=[];let f=1;for(;!t.isEmpty();)if(t=t,f=e?i(t.key,e):1,a&&(f*=-1),f<0)t=this.isReverse_?t.left:t.right;else{if(0===f){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let Rl,sr=(()=>{class n{constructor(e,i,a,u,f){this.key=e,this.value=i,this.color=null!=a?a:n.RED,this.left=null!=u?u:kt.EMPTY_NODE,this.right=null!=f?f:kt.EMPTY_NODE}copy(e,i,a,u,f){return new n(null!=e?e:this.key,null!=i?i:this.value,null!=a?a:this.color,null!=u?u:this.left,null!=f?f:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let u=this;const f=a(e,u.key);return u=f<0?u.copy(null,null,null,u.left.insert(e,i,a),null):0===f?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(e,i,a)),u.fixUp_()}removeMin_(){if(this.left.isEmpty())return kt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let a,u;if(a=this,i(e,a.key)<0)!a.left.isEmpty()&&!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.remove(e,i),null);else{if(a.left.isRed_()&&(a=a.rotateRight_()),!a.right.isEmpty()&&!a.right.isRed_()&&!a.right.left.isRed_()&&(a=a.moveRedRight_()),0===i(e,a.key)){if(a.right.isEmpty())return kt.EMPTY_NODE;u=a.right.min_(),a=a.copy(u.key,u.value,null,null,a.right.removeMin_())}a=a.copy(null,null,null,null,a.right.remove(e,i))}return a.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class kt{constructor(t,e=kt.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new kt(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,sr.BLACK,null,null))}remove(t){return new kt(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,sr.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,a=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return a?a.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(a=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new To(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new To(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new To(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new To(this.root_,null,this.comparator_,!0,t)}}function Ml(n,t){return Ns(n.name,t.name)}function su(n,t){return Ns(n,t)}kt.EMPTY_NODE=new class{copy(t,e,i,a,u){return this}insert(t,e,i){return new sr(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const gi=function(n){return"number"==typeof n?"number:"+Co(n):"string:"+n},Ol=function(n){if(n.isLeafNode()){const t=n.val();(0,P.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,P.r3)(t,".sv"),"Priority must be a string or number.")}else(0,P.hu)(n===Rl||n.isEmpty(),"priority of unexpected type.");(0,P.hu)(n===Rl||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Qp,oh,ah,ya=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,P.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Ol(this.priorityNode_)}static set __childrenNodeConstructor(e){Qp=e}static get __childrenNodeConstructor(){return Qp}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ut(e)?this:".priority"===Je(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const a=Je(e);return null===a?i:i.isEmpty()&&".priority"!==a?this:((0,P.hu)(".priority"!==a||1===Fi(e),".priority must be the last token in a path"),this.updateImmediateChild(a,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Pt(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+gi(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?Co(this.value_):this.value_,this.lazyHash_=pi(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,P.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,a=typeof this.value_,u=n.VALUE_TYPE_ORDER.indexOf(i),f=n.VALUE_TYPE_ORDER.indexOf(a);return(0,P.hu)(u>=0,"Unknown leaf type: "+i),(0,P.hu)(f>=0,"Unknown leaf type: "+a),u===f?"object"===a?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:f-u}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Vt=new class extends Il{compare(t,e){const i=t.node.getPriority(),a=e.node.getPriority(),u=i.compareTo(a);return 0===u?Ns(t.name,e.name):u}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return ht.MIN}maxPost(){return new ht(qr,new ya("[PRIORITY-POST]",ah))}makePost(t,e){const i=oh(t);return new ht(e,new ya("[PRIORITY-POST]",i))}toString(){return".priority"}},K_=Math.log(2);class Jr{constructor(t){this.count=parseInt(Math.log(t+1)/K_,10),this.current_=this.count-1;const a=(u=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&a}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Xr=function(n,t,e,i){n.sort(t);const a=function(b,D){const I=D-b;let A,N;if(0===I)return null;if(1===I)return A=n[b],N=e?e(A):A,new sr(N,A.node,sr.BLACK,null,null);{const Y=parseInt(I/2,10)+b,ne=a(b,Y),be=a(Y+1,D);return A=n[Y],N=e?e(A):A,new sr(N,A.node,sr.BLACK,ne,be)}},_=function(b){let D=null,I=null,A=n.length;const N=function(ne,be){const we=A-ne,We=A;A-=ne;const Ze=a(we+1,We),Ne=n[we],vt=e?e(Ne):Ne;Y(new sr(vt,Ne.node,be,null,Ze))},Y=function(ne){D?(D.left=ne,D=ne):(I=ne,D=ne)};for(let ne=0;ne<b.count;++ne){const be=b.nextBitIsOne(),we=Math.pow(2,b.count-(ne+1));be?N(we,sr.BLACK):(N(we,sr.BLACK),N(we,sr.RED))}return I}(new Jr(n.length));return new kt(i||t,_)};let va;const Bs={};class or{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,P.hu)(Bs&&Vt,"ChildrenNode.ts has not been loaded"),va=va||new or({".priority":Bs},{".priority":Vt}),va}get(t){const e=(0,P.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof kt?e:null}hasIndex(t){return(0,P.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,P.hu)(t!==an,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let a=!1;const u=e.getIterator(ht.Wrap);let _,f=u.getNext();for(;f;)a=a||t.isDefinedOn(f.node),i.push(f),f=u.getNext();_=a?Xr(i,t.getCompare()):Bs;const b=t.toString(),D=Object.assign({},this.indexSet_);D[b]=t;const I=Object.assign({},this.indexes_);return I[b]=_,new or(I,D)}addToIndexes(t,e){const i=(0,P.UI)(this.indexes_,(a,u)=>{const f=(0,P.DV)(this.indexSet_,u);if((0,P.hu)(f,"Missing index implementation for "+u),a===Bs){if(f.isDefinedOn(t.node)){const _=[],b=e.getIterator(ht.Wrap);let D=b.getNext();for(;D;)D.name!==t.name&&_.push(D),D=b.getNext();return _.push(t),Xr(_,f.getCompare())}return Bs}{const _=e.get(t.name);let b=a;return _&&(b=b.remove(new ht(t.name,_))),b.insert(t,t.node)}});return new or(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,P.UI)(this.indexes_,a=>{if(a===Bs)return a;{const u=e.get(t.name);return u?a.remove(new ht(t.name,u)):a}});return new or(i,this.indexSet_)}}let au,st=(()=>{class n{constructor(e,i,a){this.children_=e,this.priorityNode_=i,this.indexMap_=a,this.lazyHash_=null,this.priorityNode_&&Ol(this.priorityNode_),this.children_.isEmpty()&&(0,P.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return au||(au=new n(new kt(su),null,or.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||au}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?au:i}}getChild(e){const i=Je(e);return null===i?this:this.getImmediateChild(i).getChild(Pt(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,P.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const a=new ht(e,i);let u,f;i.isEmpty()?(u=this.children_.remove(e),f=this.indexMap_.removeFromIndexes(a,this.children_)):(u=this.children_.insert(e,i),f=this.indexMap_.addToIndexes(a,this.children_));const _=u.isEmpty()?au:this.priorityNode_;return new n(u,_,f)}}updateChild(e,i){const a=Je(e);if(null===a)return i;{(0,P.hu)(".priority"!==Je(e)||1===Fi(e),".priority must be the last token in a path");const u=this.getImmediateChild(a).updateChild(Pt(e),i);return this.updateImmediateChild(a,u)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let a=0,u=0,f=!0;if(this.forEachChild(Vt,(_,b)=>{i[_]=b.val(e),a++,f&&n.INTEGER_REGEXP_.test(_)?u=Math.max(u,Number(_)):f=!1}),!e&&f&&u<2*a){const _=[];for(const b in i)_[b]=i[b];return _}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+gi(this.getPriority().val())+":"),this.forEachChild(Vt,(i,a)=>{const u=a.hash();""!==u&&(e+=":"+i+":"+u)}),this.lazyHash_=""===e?"":pi(e)}return this.lazyHash_}getPredecessorChildName(e,i,a){const u=this.resolveIndex_(a);if(u){const f=u.getPredecessorKey(new ht(e,i));return f?f.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const a=i.minKey();return a&&a.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new ht(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const a=i.maxKey();return a&&a.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new ht(i,this.children_.get(i)):null}forEachChild(e,i){const a=this.resolveIndex_(e);return a?a.inorderTraversal(u=>i(u.name,u.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const a=this.resolveIndex_(i);if(a)return a.getIteratorFrom(e,u=>u);{const u=this.children_.getIteratorFrom(e.name,ht.Wrap);let f=u.peek();for(;null!=f&&i.compare(f,e)<0;)u.getNext(),f=u.peek();return u}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const a=this.resolveIndex_(i);if(a)return a.getReverseIteratorFrom(e,u=>u);{const u=this.children_.getReverseIteratorFrom(e.name,ht.Wrap);let f=u.peek();for(;null!=f&&i.compare(f,e)>0;)u.getNext(),f=u.peek();return u}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===kl?-1:0}withIndex(e){if(e===an||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===an||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const a=this.getIterator(Vt),u=i.getIterator(Vt);let f=a.getNext(),_=u.getNext();for(;f&&_;){if(f.name!==_.name||!f.node.equals(_.node))return!1;f=a.getNext(),_=u.getNext()}return null===f&&null===_}return!1}return!1}}resolveIndex_(e){return e===an?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const kl=new class extends st{constructor(){super(new kt(su),st.EMPTY_NODE,or.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return st.EMPTY_NODE}isEmpty(){return!1}};function p(n,t=null){if(null===n)return st.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,P.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new ya(n,p(t));if(n instanceof Array){let e=st.EMPTY_NODE;return pn(n,(i,a)=>{if((0,P.r3)(n,i)&&"."!==i.substring(0,1)){const u=p(a);(u.isLeafNode()||!u.isEmpty())&&(e=e.updateImmediateChild(i,u))}}),e.updatePriority(p(t))}{const e=[];let i=!1;if(pn(n,(f,_)=>{if("."!==f.substring(0,1)){const b=p(_);b.isEmpty()||(i=i||!b.getPriority().isEmpty(),e.push(new ht(f,b)))}}),0===e.length)return st.EMPTY_NODE;const u=Xr(e,Ml,f=>f.name,su);if(i){const f=Xr(e,Vt.getCompare());return new st(u,p(t),new or({".priority":f},{".priority":Vt}))}return new st(u,p(t),or.Default)}}Object.defineProperties(ht,{MIN:{value:new ht(Ln,st.EMPTY_NODE)},MAX:{value:new ht(qr,kl)}}),ru.__EMPTY_NODE=st.EMPTY_NODE,ya.__childrenNodeConstructor=st,Rl=kl,ah=kl,function(n){oh=n}(p);class g extends Il{constructor(t){super(),this.indexPath_=t,(0,P.hu)(!ut(t)&&".priority"!==Je(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),a=this.extractChild(e.node),u=i.compareTo(a);return 0===u?Ns(t.name,e.name):u}makePost(t,e){const i=p(t),a=st.EMPTY_NODE.updateChild(this.indexPath_,i);return new ht(e,a)}maxPost(){const t=st.EMPTY_NODE.updateChild(this.indexPath_,kl);return new ht(qr,t)}toString(){return eu(this.indexPath_,0).join("/")}}const T=new class extends Il{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?Ns(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return ht.MIN}maxPost(){return ht.MAX}makePost(t,e){const i=p(t);return new ht(e,i)}toString(){return".value"}},R="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Re=function(){let n=0;const t=[];return function(e){const i=e===n;let a;n=e;const u=new Array(8);for(a=7;a>=0;a--)u[a]=R.charAt(e%64),e=Math.floor(e/64);(0,P.hu)(0===e,"Cannot push at time == 0");let f=u.join("");if(i){for(a=11;a>=0&&63===t[a];a--)t[a]=0;t[a]++}else for(a=0;a<12;a++)t[a]=Math.floor(64*Math.random());for(a=0;a<12;a++)f+=R.charAt(t[a]);return(0,P.hu)(20===f.length,"nextPushId: Length should be 20."),f}}(),ze=function(n){if(n===""+Sr)return"-";const t=Gc(n);if(null!=t)return""+(t+1);const e=new Array(n.length);for(let f=0;f<e.length;f++)e[f]=n.charAt(f);if(e.length<786)return e.push("-"),e.join("");let i=e.length-1;for(;i>=0&&"z"===e[i];)i--;if(-1===i)return qr;const u=R.charAt(R.indexOf(e[i])+1);return e[i]=u,e.slice(0,i+1).join("")},Be=function(n){if(n===""+jc)return Ln;const t=Gc(n);if(null!=t)return""+(t-1);const e=new Array(n.length);for(let i=0;i<e.length;i++)e[i]=n.charAt(i);return"-"===e[e.length-1]?1===e.length?""+Sr:(delete e[e.length-1],e.join("")):(e[e.length-1]=R.charAt(R.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function cn(n){return{type:"value",snapshotNode:n}}function Wn(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function es(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function ba(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class cu{constructor(t){this.index_=t}updateChild(t,e,i,a,u,f){(0,P.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const _=t.getImmediateChild(e);return _.getChild(a).equals(i.getChild(a))&&_.isEmpty()===i.isEmpty()||(null!=f&&(i.isEmpty()?t.hasChild(e)?f.trackChildChange(es(e,_)):(0,P.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):_.isEmpty()?f.trackChildChange(Wn(e,i)):f.trackChildChange(ba(e,i,_))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(Vt,(a,u)=>{e.hasChild(a)||i.trackChildChange(es(a,u))}),e.isLeafNode()||e.forEachChild(Vt,(a,u)=>{if(t.hasChild(a)){const f=t.getImmediateChild(a);f.equals(u)||i.trackChildChange(ba(a,u,f))}else i.trackChildChange(Wn(a,u))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?st.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class ar{constructor(t){this.indexedFilter_=new cu(t.getIndex()),this.index_=t.getIndex(),this.startPost_=ar.getStartPost_(t),this.endPost_=ar.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,i,a,u,f){return this.matches(new ht(e,i))||(i=st.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,a,u,f)}updateFullNode(t,e,i){e.isLeafNode()&&(e=st.EMPTY_NODE);let a=e.withIndex(this.index_);a=a.updatePriority(st.EMPTY_NODE);const u=this;return e.forEachChild(Vt,(f,_)=>{u.matches(new ht(f,_))||(a=a.updateImmediateChild(f,st.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,a,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class Li{constructor(t){this.rangedFilter_=new ar(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,i,a,u,f){return this.rangedFilter_.matches(new ht(e,i))||(i=st.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,a,u,f):this.fullLimitUpdateChild_(t,e,i,u,f)}updateFullNode(t,e,i){let a;if(e.isLeafNode()||e.isEmpty())a=st.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let u;a=st.EMPTY_NODE.withIndex(this.index_),u=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let f=0;for(;u.hasNext()&&f<this.limit_;){const _=u.getNext();let b;if(b=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),_)<=0:this.index_.compare(_,this.rangedFilter_.getEndPost())<=0,!b)break;a=a.updateImmediateChild(_.name,_.node),f++}}else{let u,f,_,b;if(a=e.withIndex(this.index_),a=a.updatePriority(st.EMPTY_NODE),this.reverse_){b=a.getReverseIterator(this.index_),u=this.rangedFilter_.getEndPost(),f=this.rangedFilter_.getStartPost();const A=this.index_.getCompare();_=(N,Y)=>A(Y,N)}else b=a.getIterator(this.index_),u=this.rangedFilter_.getStartPost(),f=this.rangedFilter_.getEndPost(),_=this.index_.getCompare();let D=0,I=!1;for(;b.hasNext();){const A=b.getNext();!I&&_(u,A)<=0&&(I=!0),I&&D<this.limit_&&_(A,f)<=0?D++:a=a.updateImmediateChild(A.name,st.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,a,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,a,u){let f;if(this.reverse_){const A=this.index_.getCompare();f=(N,Y)=>A(Y,N)}else f=this.index_.getCompare();const _=t;(0,P.hu)(_.numChildren()===this.limit_,"");const b=new ht(e,i),D=this.reverse_?_.getFirstChild(this.index_):_.getLastChild(this.index_),I=this.rangedFilter_.matches(b);if(_.hasChild(e)){const A=_.getImmediateChild(e);let N=a.getChildAfterChild(this.index_,D,this.reverse_);for(;null!=N&&(N.name===e||_.hasChild(N.name));)N=a.getChildAfterChild(this.index_,N,this.reverse_);const Y=null==N?1:f(N,b);if(I&&!i.isEmpty()&&Y>=0)return null!=u&&u.trackChildChange(ba(e,i,A)),_.updateImmediateChild(e,i);{null!=u&&u.trackChildChange(es(e,A));const be=_.updateImmediateChild(e,st.EMPTY_NODE);return null!=N&&this.rangedFilter_.matches(N)?(null!=u&&u.trackChildChange(Wn(N.name,N.node)),be.updateImmediateChild(N.name,N.node)):be}}return i.isEmpty()?t:I&&f(D,b)>=0?(null!=u&&(u.trackChildChange(es(D.name,D.node)),u.trackChildChange(Wn(e,i))),_.updateImmediateChild(e,i).updateImmediateChild(D.name,st.EMPTY_NODE)):t}}class uu{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Vt}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,P.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,P.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ln}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,P.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,P.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:qr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,P.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Vt}copy(){const t=new uu;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function Vi(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function Pl(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function uh(n,t){const e=n.copy();return e.index_=t,e}function hu(n){const t={};if(n.isDefault())return t;let e;return n.index_===Vt?e="$priority":n.index_===T?e="$value":n.index_===an?e="$key":((0,P.hu)(n.index_ instanceof g,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,P.Pz)(e),n.startSet_&&(t.startAt=(0,P.Pz)(n.indexStartValue_),n.startNameSet_&&(t.startAt+=","+(0,P.Pz)(n.indexStartName_))),n.endSet_&&(t.endAt=(0,P.Pz)(n.indexEndValue_),n.endNameSet_&&(t.endAt+=","+(0,P.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function X_(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_)),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_)),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==Vt&&(t.i=n.index_.toString()),t}class dh extends Jc{constructor(t,e,i,a){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=a,this.log_=vo("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,P.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,a){const u=t._path.toString();this.log_("Listen called for "+u+" "+t._queryIdentifier);const f=dh.getListenId_(t,i),_={};this.listens_[f]=_;const b=hu(t._queryParams);this.restRequest_(u+".json",b,(D,I)=>{let A=I;if(404===D&&(A=null,D=null),null===D&&this.onDataUpdate_(u,A,!1,i),(0,P.DV)(this.listens_,f)===_){let N;N=D?401===D?"permission_denied":"rest_error:"+D:"ok",a(N,null)}})}unlisten(t,e){const i=dh.getListenId_(t,e);delete this.listens_[i]}get(t){const e=hu(t._queryParams),i=t._path.toString(),a=new P.BH;return this.restRequest_(i+".json",e,(u,f)=>{let _=f;404===u&&(_=null,u=null),null===u?(this.onDataUpdate_(i,_,!1,null),a.resolve(_)):a.reject(new Error(_))}),a.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([a,u])=>{a&&a.accessToken&&(e.auth=a.accessToken),u&&u.token&&(e.ac=u.token);const f=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,P.xO)(e);this.log_("Sending REST request for "+f);const _=new XMLHttpRequest;_.onreadystatechange=()=>{if(i&&4===_.readyState){this.log_("REST Response for "+f+" received. status:",_.status,"response:",_.responseText);let b=null;if(_.status>=200&&_.status<300){try{b=(0,P.cI)(_.responseText)}catch(D){ti("Failed to parse JSON response for "+f+": "+_.responseText)}i(null,b)}else 401!==_.status&&404!==_.status&&ti("Got unsuccessful REST response for "+f+" Status: "+_.status),i(_.status);i=null}},_.open("GET",f,!0),_.send()})}}class ey{constructor(){this.rootNode_=st.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function fu(){return{value:null,children:new Map}}function Nl(n,t,e){if(ut(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=Je(t);n.children.has(i)||n.children.set(i,fu()),Nl(n.children.get(i),t=Pt(t),e)}}function KC(n,t){if(ut(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(Vt,(i,a)=>{Nl(n,new St(i),a)}),KC(n,t)}}if(n.children.size>0){const e=Je(t);return t=Pt(t),n.children.has(e)&&KC(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function Ca(n,t,e){null!==n.value?e(t,n.value):function(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,a)=>{Ca(a,new St(t.toString()+"/"+i),e)})}class QC{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&pn(this.last_,(i,a)=>{e[i]=e[i]-a}),this.last_=t,e}}class NS{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new QC(t);const i=1e4+2e4*Math.random();Eo(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;pn(t,(a,u)=>{u>0&&(0,P.r3)(this.statsToReport_,a)&&(e[a]=u,i=!0)}),i&&this.server_.reportStats(e),Eo(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Mr=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Mr||(Mr={})),Mr))();function sy(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class hh{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=Mr.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(ut(this.path)){if(null!=this.affectedTree.value)return(0,P.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new St(t));return new hh(At(),e,this.revert)}}return(0,P.hu)(Je(this.path)===t,"operationForChild called for unrelated child."),new hh(Pt(this.path),this.affectedTree,this.revert)}}class Fl{constructor(t,e){this.source=t,this.path=e,this.type=Mr.LISTEN_COMPLETE}operationForChild(t){return ut(this.path)?new Fl(this.source,At()):new Fl(this.source,Pt(this.path))}}class Ea{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=Mr.OVERWRITE}operationForChild(t){return ut(this.path)?new Ea(this.source,At(),this.snap.getImmediateChild(t)):new Ea(this.source,Pt(this.path),this.snap)}}class wa{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=Mr.MERGE}operationForChild(t){if(ut(this.path)){const e=this.children.subtree(new St(t));return e.isEmpty()?null:e.value?new Ea(this.source,At(),e.value):new wa(this.source,At(),e)}return(0,P.hu)(Je(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new wa(this.source,Pt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Da{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(ut(t))return this.isFullyInitialized()&&!this.filtered_;const e=Je(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class FS{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function pu(n,t,e,i,a,u){const f=i.filter(_=>_.type===e);f.sort((_,b)=>function(n,t,e){if(null==t.childName||null==e.childName)throw(0,P.g5)("Should only compare child_ events.");const i=new ht(t.childName,t.snapshotNode),a=new ht(e.childName,e.snapshotNode);return n.index_.compare(i,a)}(n,_,b)),f.forEach(_=>{const b=function(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,_,u);a.forEach(D=>{D.respondsTo(_.type)&&t.push(D.createEvent(b,n.query_))})})}function fh(n,t){return{eventCache:n,serverCache:t}}function ph(n,t,e,i){return fh(new Da(t,e,i),n.serverCache)}function gh(n,t,e,i){return fh(n.eventCache,new Da(t,e,i))}function Jp(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Sa(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let Xp;class Gt{constructor(t,e=(()=>(Xp||(Xp=new kt(Jd)),Xp))()){this.value=t,this.children=e}static fromObject(t){let e=new Gt(null);return pn(t,(i,a)=>{e=e.set(new St(i),a)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:At(),value:this.value};if(ut(t))return null;{const i=Je(t),a=this.children.get(i);if(null!==a){const u=a.findRootMostMatchingPathAndValue(Pt(t),e);return null!=u?{path:Zt(new St(i),u.path),value:u.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(ut(t))return this;{const e=Je(t),i=this.children.get(e);return null!==i?i.subtree(Pt(t)):new Gt(null)}}set(t,e){if(ut(t))return new Gt(e,this.children);{const i=Je(t),u=(this.children.get(i)||new Gt(null)).set(Pt(t),e),f=this.children.insert(i,u);return new Gt(this.value,f)}}remove(t){if(ut(t))return this.children.isEmpty()?new Gt(null):new Gt(null,this.children);{const e=Je(t),i=this.children.get(e);if(i){const a=i.remove(Pt(t));let u;return u=a.isEmpty()?this.children.remove(e):this.children.insert(e,a),null===this.value&&u.isEmpty()?new Gt(null):new Gt(this.value,u)}return this}}get(t){if(ut(t))return this.value;{const e=Je(t),i=this.children.get(e);return i?i.get(Pt(t)):null}}setTree(t,e){if(ut(t))return e;{const i=Je(t),u=(this.children.get(i)||new Gt(null)).setTree(Pt(t),e);let f;return f=u.isEmpty()?this.children.remove(i):this.children.insert(i,u),new Gt(this.value,f)}}fold(t){return this.fold_(At(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((a,u)=>{i[a]=u.fold_(Zt(t,a),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,At(),e)}findOnPath_(t,e,i){const a=!!this.value&&i(e,this.value);if(a)return a;if(ut(t))return null;{const u=Je(t),f=this.children.get(u);return f?f.findOnPath_(Pt(t),Zt(e,u),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,At(),e)}foreachOnPath_(t,e,i){if(ut(t))return this;{this.value&&i(e,this.value);const a=Je(t),u=this.children.get(a);return u?u.foreachOnPath_(Pt(t),Zt(e,a),i):new Gt(null)}}foreach(t){this.foreach_(At(),t)}foreach_(t,e){this.children.inorderTraversal((i,a)=>{a.foreach_(Zt(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class Rr{constructor(t){this.writeTree_=t}static empty(){return new Rr(new Gt(null))}}function Ta(n,t,e){if(ut(t))return new Rr(new Gt(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const a=i.path;let u=i.value;const f=Mn(a,t);return u=u.updateChild(f,e),new Rr(n.writeTree_.set(a,u))}{const a=new Gt(e),u=n.writeTree_.setTree(t,a);return new Rr(u)}}}function gu(n,t,e){let i=n;return pn(e,(a,u)=>{i=Ta(i,Zt(t,a),u)}),i}function oy(n,t){if(ut(t))return Rr.empty();{const e=n.writeTree_.setTree(t,new Gt(null));return new Rr(e)}}function mh(n,t){return null!=Ia(n,t)}function Ia(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(Mn(e.path,t)):null}function eg(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Vt,(i,a)=>{t.push(new ht(i,a))}):n.writeTree_.children.inorderTraversal((i,a)=>{null!=a.value&&t.push(new ht(i,a.value))}),t}function Or(n,t){if(ut(t))return n;{const e=Ia(n,t);return new Rr(null!=e?new Gt(e):n.writeTree_.subtree(t))}}function ay(n){return n.writeTree_.isEmpty()}function Vl(n,t){return nE(At(),n.writeTree_,t)}function nE(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((a,u)=>{".priority"===a?((0,P.hu)(null!==u.value,"Priority writes must always be leaf nodes"),i=u.value):e=nE(Zt(n,a),u,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(Zt(n,".priority"),i)),e}}function tg(n,t){return uy(t,n)}function sE(n,t){if(n.snap)return ir(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&ir(Zt(n.path,e),t))return!0;return!1}function oE(n){return n.visible}function aE(n,t,e){let i=Rr.empty();for(let a=0;a<n.length;++a){const u=n[a];if(t(u)){const f=u.path;let _;if(u.snap)ir(e,f)?(_=Mn(e,f),i=Ta(i,_,u.snap)):ir(f,e)&&(_=Mn(f,e),i=Ta(i,At(),u.snap.getChild(_)));else{if(!u.children)throw(0,P.g5)("WriteRecord should have .snap or .children");if(ir(e,f))_=Mn(e,f),i=gu(i,_,u.children);else if(ir(f,e))if(_=Mn(f,e),ut(_))i=gu(i,At(),u.children);else{const b=(0,P.DV)(u.children,Je(_));if(b){const D=b.getChild(Pt(_));i=Ta(i,At(),D)}}}}}return i}function lE(n,t,e,i,a){if(i||a){const u=Or(n.visibleWrites,t);return!a&&ay(u)?e:a||null!=e||mh(u,At())?Vl(aE(n.allWrites,function(D){return(D.visible||a)&&(!i||!~i.indexOf(D.writeId))&&(ir(D.path,t)||ir(t,D.path))},t),e||st.EMPTY_NODE):null}{const u=Ia(n.visibleWrites,t);if(null!=u)return u;{const f=Or(n.visibleWrites,t);return ay(f)?e:null!=e||mh(f,At())?Vl(f,e||st.EMPTY_NODE):null}}}function ng(n,t,e,i){return lE(n.writeTree,n.treePath,t,e,i)}function ig(n,t){return function(n,t,e){let i=st.EMPTY_NODE;const a=Ia(n.visibleWrites,t);if(a)return a.isLeafNode()||a.forEachChild(Vt,(u,f)=>{i=i.updateImmediateChild(u,f)}),i;if(e){const u=Or(n.visibleWrites,t);return e.forEachChild(Vt,(f,_)=>{const b=Vl(Or(u,new St(f)),_);i=i.updateImmediateChild(f,b)}),eg(u).forEach(f=>{i=i.updateImmediateChild(f.name,f.node)}),i}return eg(Or(n.visibleWrites,t)).forEach(f=>{i=i.updateImmediateChild(f.name,f.node)}),i}(n.writeTree,n.treePath,t)}function uE(n,t,e,i){return function(n,t,e,i,a){(0,P.hu)(i||a,"Either existingEventSnap or existingServerSnap must exist");const u=Zt(t,e);if(mh(n.visibleWrites,u))return null;{const f=Or(n.visibleWrites,u);return ay(f)?a.getChild(e):Vl(f,a.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function rg(n,t){return function(n,t){return Ia(n.visibleWrites,t)}(n.writeTree,Zt(n.treePath,t))}function rt(n,t,e){return function(n,t,e,i){const a=Zt(t,e),u=Ia(n.visibleWrites,a);return null!=u?u:i.isCompleteForChild(e)?Vl(Or(n.visibleWrites,a),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function cy(n,t){return uy(Zt(n.treePath,t),n.writeTree)}function uy(n,t){return{treePath:n,writeTree:t}}class sg{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,P.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,P.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const a=this.changeMap.get(i);if(a){const u=a.type;if("child_added"===e&&"child_removed"===u)this.changeMap.set(i,ba(i,t.snapshotNode,a.snapshotNode));else if("child_removed"===e&&"child_added"===u)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===u)this.changeMap.set(i,es(i,a.oldSnap));else if("child_changed"===e&&"child_added"===u)this.changeMap.set(i,Wn(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==u)throw(0,P.g5)("Illegal combination of changes: "+t+" occurred after "+a);this.changeMap.set(i,ba(i,t.snapshotNode,a.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const dy=new class{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class hy{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new Da(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return rt(this.writes_,t,i)}}getChildAfterChild(t,e,i){const a=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Sa(this.viewCache_),u=function(n,t,e,i,a,u){return function(n,t,e,i,a,u,f){let _;const b=Or(n.visibleWrites,t),D=Ia(b,At());if(null!=D)_=D;else{if(null==e)return[];_=Vl(b,e)}if(_=_.withIndex(f),_.isEmpty()||_.isLeafNode())return[];{const I=[],A=f.getCompare(),N=u?_.getReverseIteratorFrom(i,f):_.getIteratorFrom(i,f);let Y=N.getNext();for(;Y&&I.length<a;)0!==A(Y,i)&&I.push(Y),Y=N.getNext();return I}}(n.writeTree,n.treePath,t,e,i,a,u)}(this.writes_,a,e,1,i,t);return 0===u.length?null:u[0]}}function og(n,t,e,i,a,u){const f=t.eventCache;if(null!=rg(i,e))return t;{let _,b;if(ut(e))if((0,P.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const D=Sa(t),A=ig(i,D instanceof st?D:st.EMPTY_NODE);_=n.filter.updateFullNode(t.eventCache.getNode(),A,u)}else{const D=ng(i,Sa(t));_=n.filter.updateFullNode(t.eventCache.getNode(),D,u)}else{const D=Je(e);if(".priority"===D){(0,P.hu)(1===Fi(e),"Can't have a priority with additional path components");const I=f.getNode();b=t.serverCache.getNode();const A=uE(i,e,I,b);_=null!=A?n.filter.updatePriority(I,A):f.getNode()}else{const I=Pt(e);let A;if(f.isCompleteForChild(D)){b=t.serverCache.getNode();const N=uE(i,e,f.getNode(),b);A=null!=N?f.getNode().getImmediateChild(D).updateChild(I,N):f.getNode().getImmediateChild(D)}else A=rt(i,D,t.serverCache);_=null!=A?n.filter.updateChild(f.getNode(),D,A,I,a,u):f.getNode()}}return ph(t,_,f.isFullyInitialized()||ut(e),n.filter.filtersNodes())}}function gy(n,t,e,i,a,u,f,_){const b=t.serverCache;let D;const I=f?n.filter:n.filter.getIndexedFilter();if(ut(e))D=I.updateFullNode(b.getNode(),i,null);else if(I.filtersNodes()&&!b.isFiltered()){const Y=b.getNode().updateChild(e,i);D=I.updateFullNode(b.getNode(),Y,null)}else{const Y=Je(e);if(!b.isCompleteForPath(e)&&Fi(e)>1)return t;const ne=Pt(e),we=b.getNode().getImmediateChild(Y).updateChild(ne,i);D=".priority"===Y?I.updatePriority(b.getNode(),we):I.updateChild(b.getNode(),Y,we,ne,dy,null)}const A=gh(t,D,b.isFullyInitialized()||ut(e),I.filtersNodes());return og(n,A,e,a,new hy(a,A,u),_)}function ag(n,t,e,i,a,u,f){const _=t.eventCache;let b,D;const I=new hy(a,t,u);if(ut(e))D=n.filter.updateFullNode(t.eventCache.getNode(),i,f),b=ph(t,D,!0,n.filter.filtersNodes());else{const A=Je(e);if(".priority"===A)D=n.filter.updatePriority(t.eventCache.getNode(),i),b=ph(t,D,_.isFullyInitialized(),_.isFiltered());else{const N=Pt(e),Y=_.getNode().getImmediateChild(A);let ne;if(ut(N))ne=i;else{const be=I.getCompleteChild(A);ne=null!=be?".priority"===ma(N)&&be.getChild(sh(N)).isEmpty()?be:be.updateChild(N,i):st.EMPTY_NODE}b=Y.equals(ne)?t:ph(t,n.filter.updateChild(_.getNode(),A,ne,N,I,f),_.isFullyInitialized(),n.filter.filtersNodes())}}return b}function GS(n,t){return n.eventCache.isCompleteForChild(t)}function _h(n,t,e){return e.foreach((i,a)=>{t=t.updateChild(i,a)}),t}function mu(n,t,e,i,a,u,f,_){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let D,b=t;D=ut(e)?i:new Gt(null).setTree(e,i);const I=t.serverCache.getNode();return D.children.inorderTraversal((A,N)=>{if(I.hasChild(A)){const ne=_h(0,t.serverCache.getNode().getImmediateChild(A),N);b=gy(n,b,new St(A),ne,a,u,f,_)}}),D.children.inorderTraversal((A,N)=>{const Y=!t.serverCache.isCompleteForChild(A)&&void 0===N.value;if(!I.hasChild(A)&&!Y){const be=_h(0,t.serverCache.getNode().getImmediateChild(A),N);b=gy(n,b,new St(A),be,a,u,f,_)}}),b}class hE{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,a=new cu(i.getIndex()),u=function(n){return n.loadsAllData()?new cu(n.getIndex()):n.hasLimit()?new Li(n):new ar(n)}(i);this.processor_=function(n){return{filter:n}}(u);const f=e.serverCache,_=e.eventCache,b=a.updateFullNode(st.EMPTY_NODE,f.getNode(),null),D=u.updateFullNode(st.EMPTY_NODE,_.getNode(),null),I=new Da(b,f.isFullyInitialized(),a.filtersNodes()),A=new Da(D,_.isFullyInitialized(),u.filtersNodes());this.viewCache_=fh(A,I),this.eventGenerator_=new FS(this.query_)}get query(){return this.query_}}function bR(n,t){const e=Sa(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!ut(t)&&!e.getImmediateChild(Je(t)).isEmpty())?e.getChild(t):null}function _y(n){return 0===n.eventRegistrations_.length}function pE(n,t,e){const i=[];if(e){(0,P.hu)(null==t,"A cancel should cancel all event registrations.");const a=n.query._path;n.eventRegistrations_.forEach(u=>{const f=u.createCancelEvent(e,a);f&&i.push(f)})}if(t){let a=[];for(let u=0;u<n.eventRegistrations_.length;++u){const f=n.eventRegistrations_[u];if(f.matches(t)){if(t.hasAnyCallback()){a=a.concat(n.eventRegistrations_.slice(u+1));break}}else a.push(f)}n.eventRegistrations_=a}else n.eventRegistrations_=[];return i}function lg(n,t,e,i){t.type===Mr.MERGE&&null!==t.source.queryId&&((0,P.hu)(Sa(n.viewCache_),"We should always have a full cache before handling merges"),(0,P.hu)(Jp(n.viewCache_),"Missing event cache, even though we have a server cache"));const a=n.viewCache_,u=function(n,t,e,i,a){const u=new sg;let f,_;if(e.type===Mr.OVERWRITE){const D=e;D.source.fromUser?f=ag(n,t,D.path,D.snap,i,a,u):((0,P.hu)(D.source.fromServer,"Unknown source."),_=D.source.tagged||t.serverCache.isFiltered()&&!ut(D.path),f=gy(n,t,D.path,D.snap,i,a,_,u))}else if(e.type===Mr.MERGE){const D=e;D.source.fromUser?f=function(n,t,e,i,a,u,f){let _=t;return i.foreach((b,D)=>{const I=Zt(e,b);GS(t,Je(I))&&(_=ag(n,_,I,D,a,u,f))}),i.foreach((b,D)=>{const I=Zt(e,b);GS(t,Je(I))||(_=ag(n,_,I,D,a,u,f))}),_}(n,t,D.path,D.children,i,a,u):((0,P.hu)(D.source.fromServer,"Unknown source."),_=D.source.tagged||t.serverCache.isFiltered(),f=mu(n,t,D.path,D.children,i,a,_,u))}else if(e.type===Mr.ACK_USER_WRITE){const D=e;f=D.revert?function(n,t,e,i,a,u){let f;if(null!=rg(i,e))return t;{const _=new hy(i,t,a),b=t.eventCache.getNode();let D;if(ut(e)||".priority"===Je(e)){let I;if(t.serverCache.isFullyInitialized())I=ng(i,Sa(t));else{const A=t.serverCache.getNode();(0,P.hu)(A instanceof st,"serverChildren would be complete if leaf node"),I=ig(i,A)}I=I,D=n.filter.updateFullNode(b,I,u)}else{const I=Je(e);let A=rt(i,I,t.serverCache);null==A&&t.serverCache.isCompleteForChild(I)&&(A=b.getImmediateChild(I)),D=null!=A?n.filter.updateChild(b,I,A,Pt(e),_,u):t.eventCache.getNode().hasChild(I)?n.filter.updateChild(b,I,st.EMPTY_NODE,Pt(e),_,u):b,D.isEmpty()&&t.serverCache.isFullyInitialized()&&(f=ng(i,Sa(t)),f.isLeafNode()&&(D=n.filter.updateFullNode(D,f,u)))}return f=t.serverCache.isFullyInitialized()||null!=rg(i,At()),ph(t,D,f,n.filter.filtersNodes())}}(n,t,D.path,i,a,u):function(n,t,e,i,a,u,f){if(null!=rg(a,e))return t;const _=t.serverCache.isFiltered(),b=t.serverCache;if(null!=i.value){if(ut(e)&&b.isFullyInitialized()||b.isCompleteForPath(e))return gy(n,t,e,b.getNode().getChild(e),a,u,_,f);if(ut(e)){let D=new Gt(null);return b.getNode().forEachChild(an,(I,A)=>{D=D.set(new St(I),A)}),mu(n,t,e,D,a,u,_,f)}return t}{let D=new Gt(null);return i.foreach((I,A)=>{const N=Zt(e,I);b.isCompleteForPath(N)&&(D=D.set(I,b.getNode().getChild(N)))}),mu(n,t,e,D,a,u,_,f)}}(n,t,D.path,D.affectedTree,i,a,u)}else{if(e.type!==Mr.LISTEN_COMPLETE)throw(0,P.g5)("Unknown operation type: "+e.type);f=function(n,t,e,i,a){const u=t.serverCache;return og(n,gh(t,u.getNode(),u.isFullyInitialized()||ut(e),u.isFiltered()),e,i,dy,a)}(n,t,e.path,i,u)}const b=u.getChanges();return function(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const a=i.getNode().isLeafNode()||i.getNode().isEmpty(),u=Jp(n);(e.length>0||!n.eventCache.isFullyInitialized()||a&&!i.getNode().equals(u)||!i.getNode().getPriority().equals(u.getPriority()))&&e.push(cn(Jp(t)))}}(t,f,b),{viewCache:f,changes:b}}(n.processor_,a,t,e,i);return function(n,t){(0,P.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,P.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,u.viewCache),(0,P.hu)(u.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=u.viewCache,WS(n,u.changes,u.viewCache.eventCache.getNode(),null)}function WS(n,t,e,i){return function(n,t,e,i){const a=[],u=[];return t.forEach(f=>{"child_changed"===f.type&&n.index_.indexedValueChanged(f.oldSnap,f.snapshotNode)&&u.push(function(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(f.childName,f.snapshotNode))}),pu(n,a,"child_removed",t,i,e),pu(n,a,"child_added",t,i,e),pu(n,a,"child_moved",u,i,e),pu(n,a,"child_changed",t,i,e),pu(n,a,"value",t,i,e),a}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let yy,_u;class ZS{constructor(){this.views=new Map}}function gE(n,t,e,i){const a=t.source.queryId;if(null!==a){const u=n.views.get(a);return(0,P.hu)(null!=u,"SyncTree gave us an op for an invalid query."),lg(u,t,e,i)}{let u=[];for(const f of n.views.values())u=u.concat(lg(f,t,e,i));return u}}function YS(n,t,e,i,a){const f=n.views.get(t._queryIdentifier);if(!f){let _=ng(e,a?i:null),b=!1;_?b=!0:i instanceof st?(_=ig(e,i),b=!1):(_=st.EMPTY_NODE,b=!1);const D=fh(new Da(_,b,!1),new Da(i,a,!1));return new hE(t,D)}return f}function Mo(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function Us(n,t){let e=null;for(const i of n.views.values())e=e||bR(i,t);return e}function mE(n,t){return t._queryParams.loadsAllData()?yh(n):n.views.get(t._queryIdentifier)}function vy(n,t){return null!=mE(n,t)}function Hs(n){return null!=yh(n)}function yh(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let _E=1;class yE{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Gt(null),this.pendingWriteTree_={visibleWrites:Rr.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function vE(n,t,e,i,a){return function(n,t,e,i,a){(0,P.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===a&&(a=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:a}),a&&(n.visibleWrites=Ta(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,a),a?Bl(n,new Ea({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function Ma(n,t,e=!1){const i=function(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function(n,t){const e=n.allWrites.findIndex(_=>_.writeId===t);(0,P.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let a=i.visible,u=!1,f=n.allWrites.length-1;for(;a&&f>=0;){const _=n.allWrites[f];_.visible&&(f>=e&&sE(_,i.path)?a=!1:ir(i.path,_.path)&&(u=!0)),f--}return!!a&&(u?(function(n){n.visibleWrites=aE(n.allWrites,oE,At()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=oy(n.visibleWrites,i.path):pn(i.children,b=>{n.visibleWrites=oy(n.visibleWrites,Zt(i.path,b))}),!0))}(n.pendingWriteTree_,t)){let u=new Gt(null);return null!=i.snap?u=u.set(At(),!0):pn(i.children,f=>{u=u.set(new St(f),!0)}),Bl(n,new hh(i.path,u,e))}return[]}function yu(n,t,e){return Bl(n,new Ea({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function Ra(n,t,e,i){const a=t._path,u=n.syncPointTree_.get(a);let f=[];if(u&&("default"===t._queryIdentifier||vy(u,t))){const _=function(n,t,e,i){const a=t._queryIdentifier,u=[];let f=[];const _=Hs(n);if("default"===a)for(const[b,D]of n.views.entries())f=f.concat(pE(D,e,i)),_y(D)&&(n.views.delete(b),D.query._queryParams.loadsAllData()||u.push(D.query));else{const b=n.views.get(a);b&&(f=f.concat(pE(b,e,i)),_y(b)&&(n.views.delete(a),b.query._queryParams.loadsAllData()||u.push(b.query)))}return _&&!Hs(n)&&u.push(new((0,P.hu)(yy,"Reference.ts has not been loaded"),yy)(t._repo,t._path)),{removed:u,events:f}}(u,t,e,i);(function(n){return 0===n.views.size})(u)&&(n.syncPointTree_=n.syncPointTree_.remove(a));const b=_.removed;f=_.events;const D=-1!==b.findIndex(A=>A._queryParams.loadsAllData()),I=n.syncPointTree_.findOnPath(a,(A,N)=>Hs(N));if(D&&!I){const A=n.syncPointTree_.subtree(a);if(!A.isEmpty()){const N=function(n){return n.fold((t,e,i)=>{if(e&&Hs(e))return[yh(e)];{let a=[];return e&&(a=Mo(e)),pn(i,(u,f)=>{a=a.concat(f)}),a}})}(A);for(let Y=0;Y<N.length;++Y){const ne=N[Y],be=ne.query,we=ug(n,ne);n.listenProvider_.startListening(Cu(be),bh(n,be),we.hashFn,we.onComplete)}}}if(!I&&b.length>0&&!i)if(D){const A=null;n.listenProvider_.stopListening(Cu(t),A)}else b.forEach(A=>{const N=n.queryToTagMap.get(Ul(A));n.listenProvider_.stopListening(Cu(A),N)});!function(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const a=Ul(i),u=n.queryToTagMap.get(a);n.queryToTagMap.delete(a),n.tagToQueryMap.delete(u)}}}(n,b)}return f}function bu(n,t,e){const i=t._path;let a=null,u=!1;n.syncPointTree_.foreachOnPath(i,(A,N)=>{const Y=Mn(A,i);a=a||Us(N,Y),u=u||Hs(N)});let _,f=n.syncPointTree_.get(i);f?(u=u||Hs(f),a=a||Us(f,At())):(f=new ZS,n.syncPointTree_=n.syncPointTree_.set(i,f)),null!=a?_=!0:(_=!1,a=st.EMPTY_NODE,n.syncPointTree_.subtree(i).foreachChild((N,Y)=>{const ne=Us(Y,At());ne&&(a=a.updateImmediateChild(N,ne))}));const b=vy(f,t);if(!b&&!t._queryParams.loadsAllData()){const A=Ul(t);(0,P.hu)(!n.queryToTagMap.has(A),"View does not exist, but we have a tag");const N=_E++;n.queryToTagMap.set(A,N),n.tagToQueryMap.set(N,A)}let I=function(n,t,e,i,a,u){const f=YS(n,t,i,a,u);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,f),function(n,t){n.eventRegistrations_.push(t)}(f,e),function(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Vt,(u,f)=>{i.push(Wn(u,f))}),e.isFullyInitialized()&&i.push(cn(e.getNode())),WS(n,i,e.getNode(),t)}(f,e)}(f,t,e,tg(n.pendingWriteTree_,i),a,_);if(!b&&!u){const A=mE(f,t);I=I.concat(function(n,t,e){const i=t._path,a=bh(n,t),u=ug(n,e),f=n.listenProvider_.startListening(Cu(t),a,u.hashFn,u.onComplete),_=n.syncPointTree_.subtree(i);if(a)(0,P.hu)(!Hs(_.value),"If we're adding a query, it shouldn't be shadowed");else{const b=_.fold((D,I,A)=>{if(!ut(D)&&I&&Hs(I))return[yh(I).query];{let N=[];return I&&(N=N.concat(Mo(I).map(Y=>Y.query))),pn(A,(Y,ne)=>{N=N.concat(ne)}),N}});for(let D=0;D<b.length;++D){const I=b[D];n.listenProvider_.stopListening(Cu(I),bh(n,I))}}return f}(n,t,A))}return I}function Ro(n,t,e){const a=n.pendingWriteTree_,u=n.syncPointTree_.findOnPath(t,(f,_)=>{const D=Us(_,Mn(f,t));if(D)return D});return lE(a,t,u,e,!0)}function Bl(n,t){return Ey(t,n.syncPointTree_,null,tg(n.pendingWriteTree_,At()))}function Ey(n,t,e,i){if(ut(n.path))return cg(n,t,e,i);{const a=t.get(At());null==e&&null!=a&&(e=Us(a,At()));let u=[];const f=Je(n.path),_=n.operationForChild(f),b=t.children.get(f);if(b&&_){const D=e?e.getImmediateChild(f):null,I=cy(i,f);u=u.concat(Ey(_,b,D,I))}return a&&(u=u.concat(gE(a,n,i,e))),u}}function cg(n,t,e,i){const a=t.get(At());null==e&&null!=a&&(e=Us(a,At()));let u=[];return t.children.inorderTraversal((f,_)=>{const b=e?e.getImmediateChild(f):null,D=cy(i,f),I=n.operationForChild(f);I&&(u=u.concat(cg(I,_,b,D)))}),a&&(u=u.concat(gE(a,n,i,e))),u}function ug(n,t){const e=t.query,i=bh(n,e);return{hashFn:()=>(function(n){return n.viewCache_.serverCache.getNode()}(t)||st.EMPTY_NODE).hash(),onComplete:a=>{if("ok"===a)return i?function(n,t,e){const i=wy(n,e);if(i){const a=dg(i),u=a.path,f=a.queryId,_=Mn(u,t);return bE(n,u,new Fl(sy(f),_))}return[]}(n,e._path,i):function(n,t){return Bl(n,new Fl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const u=function(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(a,e);return Ra(n,e,null,u)}}}}function bh(n,t){const e=Ul(t);return n.queryToTagMap.get(e)}function Ul(n){return n._path.toString()+"$"+n._queryIdentifier}function wy(n,t){return n.tagToQueryMap.get(t)}function dg(n){const t=n.indexOf("$");return(0,P.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new St(n.substr(0,t))}}function bE(n,t,e){const i=n.syncPointTree_.get(t);return(0,P.hu)(i,"Missing sync point for query tag that we're tracking"),gE(i,e,tg(n.pendingWriteTree_,t),null)}function Cu(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new((0,P.hu)(_u,"Reference.ts has not been loaded"),_u)(n._repo,n._path):n}class Dy{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new Dy(e)}node(){return this.node_}}class mi{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=Zt(this.path_,t);return new mi(this.syncTree_,e)}node(){return Ro(this.syncTree_,this.path_)}}const wE=function(n,t,e){return n&&"object"==typeof n?((0,P.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?IR(n[".sv"],t,e):"object"==typeof n[".sv"]?AR(n[".sv"],t):void(0,P.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},IR=function(n,t,e){switch(n){case"timestamp":return e.timestamp;default:(0,P.hu)(!1,"Unexpected server value: "+n)}},AR=function(n,t,e){n.hasOwnProperty("increment")||(0,P.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,P.hu)(!1,"Unexpected increment value: "+i);const a=t.node();if((0,P.hu)(null!=a,"Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return i;const f=a.getValue();return"number"!=typeof f?i:f+i},Sy=function(n,t,e,i){return Ty(t,new mi(e,n),i)},DE=function(n,t,e){return Ty(n,new Dy(t),e)};function Ty(n,t,e){const i=n.getPriority().val(),a=wE(i,t.getImmediateChild(".priority"),e);let u;if(n.isLeafNode()){const f=n,_=wE(f.getValue(),t,e);return _!==f.getValue()||a!==f.getPriority().val()?new ya(_,p(a)):n}{const f=n;return u=f,a!==f.getPriority().val()&&(u=u.updatePriority(new ya(a))),f.forEachChild(Vt,(_,b)=>{const D=Ty(b,t.getImmediateChild(_),e);D!==b&&(u=u.updateImmediateChild(_,D))}),u}}class Ch{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function Eh(n,t){let e=t instanceof St?t:new St(t),i=n,a=Je(e);for(;null!==a;){const u=(0,P.DV)(i.node.children,a)||{children:{},childCount:0};i=new Ch(a,i,u),e=Pt(e),a=Je(e)}return i}function Hl(n){return n.node.value}function Iy(n,t){n.node.value=t,fg(n)}function SE(n){return n.node.childCount>0}function hg(n,t){pn(n.node.children,(e,i)=>{t(new Ch(e,n,i))})}function Ay(n,t,e,i){e&&!i&&t(n),hg(n,a=>{Ay(a,t,!0,i)}),e&&i&&t(n)}function wh(n){return new St(null===n.parent?n.name:wh(n.parent)+"/"+n.name)}function fg(n){null!==n.parent&&function(n,t,e){const i=function(n){return void 0===Hl(n)&&!SE(n)}(e),a=(0,P.r3)(n.node.children,t);i&&a?(delete n.node.children[t],n.node.childCount--,fg(n)):!i&&!a&&(n.node.children[t]=e.node,n.node.childCount++,fg(n))}(n.parent,n.name,n)}const iT=/[\[\].#$\/\u0000-\u001F\u007F]/,js=/[\[\].#$\u0000-\u001F\u007F]/,Dh=10485760,pg=function(n){return"string"==typeof n&&0!==n.length&&!iT.test(n)},AE=function(n){return"string"==typeof n&&0!==n.length&&!js.test(n)},Eu=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!Dn(n)||n&&"object"==typeof n&&(0,P.r3)(n,".sv")},Gs=function(n,t,e,i){i&&void 0===t||Sh((0,P.gK)(n,"value"),t,e)},Sh=function(n,t,e){const i=e instanceof St?new Wp(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+So(i));if("function"==typeof t)throw new Error(n+"contains a function "+So(i)+" with contents = "+t.toString());if(Dn(t))throw new Error(n+"contains "+t.toString()+" "+So(i));if("string"==typeof t&&t.length>Dh/3&&(0,P.ug)(t)>Dh)throw new Error(n+"contains a string greater than "+Dh+" utf8 bytes "+So(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let a=!1,u=!1;if(pn(t,(f,_)=>{if(".value"===f)a=!0;else if(".priority"!==f&&".sv"!==f&&(u=!0,!pg(f)))throw new Error(n+" contains an invalid key ("+f+") "+So(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,P.ug)(t),Yp(n)})(i,f),Sh(n,_,i),function(n){const t=n.parts_.pop();n.byteLength_-=(0,P.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),a&&u)throw new Error(n+' contains ".value" child '+So(i)+" in addition to actual children.")}},gg=function(n,t,e,i){if(i&&void 0===t)return;const a=(0,P.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(a+" must be an object containing the children to replace.");const u=[];pn(t,(f,_)=>{const b=new St(f);if(Sh(a,_,Zt(e,b)),".priority"===ma(b)&&!Eu(_))throw new Error(a+"contains an invalid value for '"+b.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");u.push(b)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const u=eu(i);for(let f=0;f<u.length;f++)if((".priority"!==u[f]||f!==u.length-1)&&!pg(u[f]))throw new Error(n+"contains an invalid key ("+u[f]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(_a);let a=null;for(e=0;e<t.length;e++){if(i=t[e],null!==a&&ir(a,i))throw new Error(n+"contains a path "+a.toString()+" that is ancestor of another path "+i.toString());a=i}}(a,u)},My=function(n,t,e){if(!e||void 0!==t){if(Dn(t))throw new Error((0,P.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Eu(t))throw new Error((0,P.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Th=function(n,t,e,i){if(!(i&&void 0===e||pg(e)))throw new Error((0,P.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Oa=function(n,t,e,i){if(!(i&&void 0===e||AE(e)))throw new Error((0,P.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},kr=function(n,t){if(".info"===Je(t))throw new Error(n+" failed = Can't modify data under /.info/")},mg=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!pg(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),AE(n)}(e))throw new Error((0,P.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Oy{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Ih(n,t){let e=null;for(let i=0;i<t.length;i++){const a=t[i],u=a.getPath();null!==e&&!zp(u,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:u}),e.events.push(a)}e&&n.eventLists_.push(e)}function ky(n,t,e){Ih(n,e),_g(n,i=>zp(i,t))}function xr(n,t,e){Ih(n,e),_g(n,i=>ir(i,t)||ir(t,i))}function _g(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const a=n.eventLists_[i];a&&(t(a.path)?(RR(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function RR(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();Ni&&Cn("event: "+e.toString()),aa(i)}}}const ME="repo_interrupt";class OE{constructor(t,e,i,a){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=a,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Oy,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=fu(),this.transactionQueueTree_=new Ch,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function xy(n){const e=n.infoData_.getNode(new St(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function wu(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:xy(n)})}function $s(n,t,e,i,a){n.dataUpdateCount++;const u=new St(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let f=[];if(a)if(i){const b=(0,P.UI)(e,D=>p(D));f=function(n,t,e,i){const a=wy(n,i);if(a){const u=dg(a),f=u.path,_=u.queryId,b=Mn(f,t),D=Gt.fromObject(e);return bE(n,f,new wa(sy(_),b,D))}return[]}(n.serverSyncTree_,u,b,a)}else{const b=p(e);f=function(n,t,e,i){const a=wy(n,i);if(null!=a){const u=dg(a),f=u.path,_=u.queryId,b=Mn(f,t);return bE(n,f,new Ea(sy(_),b,e))}return[]}(n.serverSyncTree_,u,b,a)}else if(i){const b=(0,P.UI)(e,D=>p(D));f=function(n,t,e){const i=Gt.fromObject(e);return Bl(n,new wa({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,u,b)}else{const b=p(e);f=yu(n.serverSyncTree_,u,b)}let _=u;f.length>0&&(_=is(n,u)),xr(n.eventQueue_,_,f)}function Ah(n,t){Py(n,"connected",t),!1===t&&function(n){Su(n,"onDisconnectEvents");const t=wu(n),e=fu();Ca(n.onDisconnect_,At(),(a,u)=>{const f=Sy(a,u,n.serverSyncTree_,t);Nl(e,a,f)});let i=[];Ca(e,At(),(a,u)=>{i=i.concat(yu(n.serverSyncTree_,a,u));const f=Vy(n,a);is(n,f)}),n.onDisconnect_=fu(),xr(n.eventQueue_,At(),i)}(n)}function Py(n,t,e){const i=new St("/.info/"+t),a=p(e);n.infoData_.updateSnapshot(i,a);const u=yu(n.infoSyncTree_,i,a);xr(n.eventQueue_,i,u)}function Ny(n){return n.nextWriteId_++}function yg(n,t,e,i,a){Su(n,"set",{path:t.toString(),value:e,priority:i});const u=wu(n),f=p(e,i),_=Ro(n.serverSyncTree_,t),b=DE(f,_,u),D=Ny(n),I=vE(n.serverSyncTree_,t,b,D,!0);Ih(n.eventQueue_,I),n.server_.put(t.toString(),f.val(!0),(N,Y)=>{const ne="ok"===N;ne||ti("set at "+t+" failed: "+N);const be=Ma(n.serverSyncTree_,D,!ne);xr(n.eventQueue_,t,be),Oo(0,a,N,Y)});const A=Vy(n,t);is(n,A),xr(n.eventQueue_,A,[])}function oT(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,a)=>{"ok"===i&&KC(n.onDisconnect_,t),Oo(0,e,i,a)})}function vg(n,t,e,i){const a=p(e);n.server_.onDisconnectPut(t.toString(),a.val(!0),(u,f)=>{"ok"===u&&Nl(n.onDisconnect_,t,a),Oo(0,i,u,f)})}function Fy(n,t,e){let i;i=".info"===Je(t._path)?Ra(n.infoSyncTree_,t,e):Ra(n.serverSyncTree_,t,e),ky(n.eventQueue_,t._path,i)}function bg(n){n.persistentConnection_&&n.persistentConnection_.interrupt(ME)}function Su(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),Cn(e,...t)}function Oo(n,t,e,i){t&&aa(()=>{if("ok"===e)t(null);else{const a=(e||"error").toUpperCase();let u=a;i&&(u+=": "+i);const f=new Error(u);f.code=a,t(f)}})}function Cg(n,t,e){return Ro(n.serverSyncTree_,t,e)||st.EMPTY_NODE}function Eg(n,t=n.transactionQueueTree_){if(t||Ly(n,t),Hl(t)){const e=FE(n,t);(0,P.hu)(e.length>0,"Sending zero length transaction queue"),e.every(a=>0===a.status)&&function(n,t,e){const i=e.map(D=>D.currentWriteId),a=Cg(n,t,i);let u=a;const f=a.hash();for(let D=0;D<e.length;D++){const I=e[D];(0,P.hu)(0===I.status,"tryToSendTransactionQueue_: items in queue should all be run."),I.status=1,I.retryCount++;const A=Mn(t,I.path);u=u.updateChild(A,I.currentOutputSnapshotRaw)}const _=u.val(!0),b=t;n.server_.put(b.toString(),_,D=>{Su(n,"transaction put response",{path:b.toString(),status:D});let I=[];if("ok"===D){const A=[];for(let N=0;N<e.length;N++)e[N].status=2,I=I.concat(Ma(n.serverSyncTree_,e[N].currentWriteId)),e[N].onComplete&&A.push(()=>e[N].onComplete(null,!0,e[N].currentOutputSnapshotResolved)),e[N].unwatcher();Ly(n,Eh(n.transactionQueueTree_,t)),Eg(n,n.transactionQueueTree_),xr(n.eventQueue_,t,I);for(let N=0;N<A.length;N++)aa(A[N])}else{if("datastale"===D)for(let A=0;A<e.length;A++)e[A].status=3===e[A].status?4:0;else{ti("transaction at "+b.toString()+" failed: "+D);for(let A=0;A<e.length;A++)e[A].status=4,e[A].abortReason=D}is(n,t)}},f)}(n,wh(t),e)}else SE(t)&&hg(t,e=>{Eg(n,e)})}function is(n,t){const e=NE(n,t),i=wh(e);return function(n,t,e){if(0===t.length)return;const i=[];let a=[];const f=t.filter(_=>0===_.status).map(_=>_.currentWriteId);for(let _=0;_<t.length;_++){const b=t[_],D=Mn(e,b.path);let A,I=!1;if((0,P.hu)(null!==D,"rerunTransactionsUnderNode_: relativePath should not be null."),4===b.status)I=!0,A=b.abortReason,a=a.concat(Ma(n.serverSyncTree_,b.currentWriteId,!0));else if(0===b.status)if(b.retryCount>=25)I=!0,A="maxretry",a=a.concat(Ma(n.serverSyncTree_,b.currentWriteId,!0));else{const N=Cg(n,b.path,f);b.currentInputSnapshot=N;const Y=t[_].update(N.val());if(void 0!==Y){Sh("transaction failed: Data returned ",Y,b.path);let ne=p(Y);"object"==typeof Y&&null!=Y&&(0,P.r3)(Y,".priority")||(ne=ne.updatePriority(N.getPriority()));const we=b.currentWriteId,We=wu(n),Ze=DE(ne,N,We);b.currentOutputSnapshotRaw=ne,b.currentOutputSnapshotResolved=Ze,b.currentWriteId=Ny(n),f.splice(f.indexOf(we),1),a=a.concat(vE(n.serverSyncTree_,b.path,Ze,b.currentWriteId,b.applyLocally)),a=a.concat(Ma(n.serverSyncTree_,we,!0))}else I=!0,A="nodata",a=a.concat(Ma(n.serverSyncTree_,b.currentWriteId,!0))}xr(n.eventQueue_,e,a),a=[],I&&(t[_].status=2,setTimeout(t[_].unwatcher,Math.floor(0)),t[_].onComplete&&i.push("nodata"===A?()=>t[_].onComplete(null,!1,t[_].currentInputSnapshot):()=>t[_].onComplete(new Error(A),!1,null)))}Ly(n,n.transactionQueueTree_);for(let _=0;_<i.length;_++)aa(i[_]);Eg(n,n.transactionQueueTree_)}(n,FE(n,e),i),i}function NE(n,t){let e,i=n.transactionQueueTree_;for(e=Je(t);null!==e&&void 0===Hl(i);)i=Eh(i,e),e=Je(t=Pt(t));return i}function FE(n,t){const e=[];return LE(n,t,e),e.sort((i,a)=>i.order-a.order),e}function LE(n,t,e){const i=Hl(t);if(i)for(let a=0;a<i.length;a++)e.push(i[a]);hg(t,a=>{LE(n,a,e)})}function Ly(n,t){const e=Hl(t);if(e){let i=0;for(let a=0;a<e.length;a++)2!==e[a].status&&(e[i]=e[a],i++);e.length=i,Iy(t,e.length>0?e:void 0)}hg(t,i=>{Ly(n,i)})}function Vy(n,t){const e=wh(NE(n,t)),i=Eh(n.transactionQueueTree_,t);return function(n,t,e){let i=n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,a=>{wg(n,a)}),wg(n,i),Ay(i,a=>{wg(n,a)}),e}function wg(n,t){const e=Hl(t);if(e){const i=[];let a=[],u=-1;for(let f=0;f<e.length;f++)3===e[f].status||(1===e[f].status?((0,P.hu)(u===f-1,"All SENT items should be at beginning of queue."),u=f,e[f].status=3,e[f].abortReason="set"):((0,P.hu)(0===e[f].status,"Unexpected transaction status in abort"),e[f].unwatcher(),a=a.concat(Ma(n.serverSyncTree_,e[f].currentWriteId,!0)),e[f].onComplete&&i.push(e[f].onComplete.bind(null,new Error("set"),!1,null))));-1===u?Iy(t,void 0):e.length=u+1,xr(n.eventQueue_,wh(t),a);for(let f=0;f<i.length;f++)aa(i[f])}}const VE=function(n,t){const e=ko(n),i=e.namespace;return"firebase.com"===e.domain&&Xi(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&Xi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&ti("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Fs(e.host,e.secure,i,t,"ws"===e.scheme||"wss"===e.scheme,"",i!==e.subdomain),path:new St(e.pathString)}},ko=function(n){let t="",e="",i="",a="",u="",f=!0,_="https",b=443;if("string"==typeof n){let D=n.indexOf("//");D>=0&&(_=n.substring(0,D-1),n=n.substring(D+2));let I=n.indexOf("/");-1===I&&(I=n.length);let A=n.indexOf("?");-1===A&&(A=n.length),t=n.substring(0,Math.min(I,A)),I<A&&(a=function(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let a=e[i];try{a=decodeURIComponent(a.replace(/\+/g," "))}catch(u){}t+="/"+a}return t}(n.substring(I,A)));const N=function(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):ti(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,A)));D=t.indexOf(":"),D>=0?(f="https"===_||"wss"===_,b=parseInt(t.substring(D+1),10)):D=t.length;const Y=t.slice(0,D);if("localhost"===Y.toLowerCase())e="localhost";else if(Y.split(".").length<=2)e=Y;else{const ne=t.indexOf(".");i=t.substring(0,ne).toLowerCase(),e=t.substring(ne+1),u=i}"ns"in N&&(u=N.ns)}return{host:t,port:b,domain:e,subdomain:i,secure:f,scheme:_,pathString:a,namespace:u}};class Dg{constructor(t,e,i,a){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=a}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,P.Pz)(this.snapshot.exportVal())}}class Sg{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class dT{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,P.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class BE{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new P.BH;return oT(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){kr("OnDisconnect.remove",this._path);const t=new P.BH;return vg(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){kr("OnDisconnect.set",this._path),Gs("OnDisconnect.set",t,this._path,!1);const e=new P.BH;return vg(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){kr("OnDisconnect.setWithPriority",this._path),Gs("OnDisconnect.setWithPriority",t,this._path,!1),My("OnDisconnect.setWithPriority",e,!1);const i=new P.BH;return function(n,t,e,i,a){const u=p(e,i);n.server_.onDisconnectPut(t.toString(),u.val(!0),(f,_)=>{"ok"===f&&Nl(n.onDisconnect_,t,u),Oo(0,a,f,_)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){kr("OnDisconnect.update",this._path),gg("OnDisconnect.update",t,this._path,!1);const e=new P.BH;return function(n,t,e,i){if((0,P.xb)(e))return Cn("onDisconnect().update() called with empty data.  Don't do anything."),void Oo(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(a,u)=>{"ok"===a&&pn(e,(f,_)=>{const b=p(_);Nl(n.onDisconnect_,Zt(t,f),b)}),Oo(0,i,a,u)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class Bi{constructor(t,e,i,a){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=a}get key(){return ut(this._path)?null:ma(this._path)}get ref(){return new lr(this._repo,this._path)}get _queryIdentifier(){const t=X_(this._queryParams),e=vl(t);return"{}"===e?"default":e}get _queryObject(){return X_(this._queryParams)}isEqual(t){if(!((t=(0,P.m9)(t))instanceof Bi))return!1;const e=this._repo===t._repo,i=zp(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function Oh(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function xo(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===an){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",a="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Ln)throw new Error(i);if("string"!=typeof t)throw new Error(a)}if(n.hasEnd()){if(n.getIndexEndName()!==qr)throw new Error(i);if("string"!=typeof e)throw new Error(a)}}else if(n.getIndex()===Vt){if(null!=t&&!Eu(t)||null!=e&&!Eu(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,P.hu)(n.getIndex()instanceof g||n.getIndex()===T,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function kh(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class lr extends Bi{constructor(t,e){super(t,e,new uu,!1)}get parent(){const t=sh(this._path);return null===t?null:new lr(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class jl{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new St(t),i=Po(this.ref,t);return new jl(this._node.getChild(e),i,Vt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,a)=>t(new jl(a,Po(this.ref,i),Vt)))}hasChild(t){const e=new St(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function UE(n,t){return(n=(0,P.m9)(n))._checkNotDeleted("ref"),void 0!==t?Po(n._root,t):n._root}function Iu(n,t){(n=(0,P.m9)(n))._checkNotDeleted("refFromURL");const e=VE(t,n._repo.repoInfo_.nodeAdmin);mg("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&Xi("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),UE(n,e.path.toString())}function Po(n,t){return null===Je((n=(0,P.m9)(n))._path)?((e=t)&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Oa("child","path",e,!1)):Oa("child","path",t,!1),new lr(n._repo,Zt(n._path,t));var e}function Tg(n,t){n=(0,P.m9)(n),kr("set",n._path),Gs("set",t,n._path,!1);const e=new P.BH;return yg(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function gT(n,t){gg("update",t,n._path,!1);const e=new P.BH;return function(n,t,e,i){Su(n,"update",{path:t.toString(),value:e});let a=!0;const u=wu(n),f={};if(pn(e,(_,b)=>{a=!1,f[_]=Sy(Zt(t,_),p(b),n.serverSyncTree_,u)}),a)Cn("update() called with empty data.  Don't do anything."),Oo(0,i,"ok",void 0);else{const _=Ny(n),b=function(n,t,e,i){!function(n,t,e,i){(0,P.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=gu(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const a=Gt.fromObject(e);return Bl(n,new wa({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,a))}(n.serverSyncTree_,t,f,_);Ih(n.eventQueue_,b),n.server_.merge(t.toString(),e,(D,I)=>{const A="ok"===D;A||ti("update at "+t+" failed: "+D);const N=Ma(n.serverSyncTree_,_,!A),Y=N.length>0?is(n,t):t;xr(n.eventQueue_,Y,N),Oo(0,i,D,I)}),pn(e,D=>{const I=Vy(n,Zt(t,D));is(n,I)}),xr(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function mT(n){return function(n,t){const e=function(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(D,I)=>{const A=Mn(D,e);i=i||Us(I,A)});let a=n.syncPointTree_.get(e);a?i=i||Us(a,At()):(a=new ZS,n.syncPointTree_=n.syncPointTree_.set(e,a));const u=null!=i,f=u?new Da(i,!0,!1):null;return function(n){return Jp(n.viewCache_)}(YS(a,t,tg(n.pendingWriteTree_,t._path),u?f.getNode():st.EMPTY_NODE,u))}(n.serverSyncTree_,t);return null!=e?Promise.resolve(e):n.server_.get(t).then(i=>{const a=p(i).withIndex(t._queryParams.getIndex()),u=yu(n.serverSyncTree_,t._path,a);return ky(n.eventQueue_,t._path,u),Promise.resolve(a)},i=>(Su(n,"get for query "+(0,P.Pz)(t)+" failed: "+i),Promise.reject(new Error(i))))}((n=(0,P.m9)(n))._repo,n).then(t=>new jl(t,new lr(n._repo,n._path),n._queryParams.getIndex()))}class xh{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new Dg("value",this,new jl(t.snapshotNode,new lr(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new Sg(this,t,e):null}matches(t){return t instanceof xh&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Uy{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new Sg(this,t,e):null}createEvent(t,e){(0,P.hu)(null!=t.childName,"Child events should have a childName.");const i=Po(new lr(e._repo,e._path),t.childName),a=e._queryParams.getIndex();return new Dg(t.type,this,new jl(t.snapshotNode,i,a),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof Uy&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Au(n,t,e,i,a){let u;if("object"==typeof i&&(u=void 0,a=i),"function"==typeof i&&(u=i),a&&a.onlyOnce){const b=e,D=(I,A)=>{Fy(n._repo,n,_),b(I,A)};D.userCallback=e.userCallback,D.context=e.context,e=D}const f=new dT(e,u||void 0),_="value"===t?new xh(f):new Uy(t,f);return function(n,t,e){let i;i=".info"===Je(t._path)?bu(n.infoSyncTree_,t,e):bu(n.serverSyncTree_,t,e),ky(n.eventQueue_,t._path,i)}(n._repo,n,_),()=>Fy(n._repo,n,_)}function Hy(n,t,e,i){return Au(n,"value",t,e,i)}function GE(n,t,e,i){return Au(n,"child_added",t,e,i)}function _T(n,t,e,i){return Au(n,"child_changed",t,e,i)}function yT(n,t,e,i){return Au(n,"child_moved",t,e,i)}function Ig(n,t,e,i){return Au(n,"child_removed",t,e,i)}function $E(n,t,e){let i=null;const a=e?new dT(e):null;"value"===t?i=new xh(a):t&&(i=new Uy(t,a)),Fy(n._repo,n,i)}class Pr{}class jy extends Pr{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Gs("endAt",this._value,t._path,!0);const e=Pl(t._queryParams,this._value,this._key);if(kh(e),xo(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Bi(t._repo,t._path,e,t._orderByCalled)}}class rs extends Pr{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Gs("endBefore",this._value,t._path,!1);const e=function(n,t,e){let i,a;return n.index_===an?("string"==typeof t&&(t=Be(t)),a=Pl(n,t,e)):(i=null==e?Ln:Be(e),a=Pl(n,t,i)),a.endBeforeSet_=!0,a}(t._queryParams,this._value,this._key);if(kh(e),xo(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Bi(t._repo,t._path,e,t._orderByCalled)}}class vT extends Pr{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Gs("startAt",this._value,t._path,!0);const e=Vi(t._queryParams,this._value,this._key);if(kh(e),xo(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Bi(t._repo,t._path,e,t._orderByCalled)}}class zE extends Pr{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Gs("startAfter",this._value,t._path,!1);const e=function(n,t,e){let i;if(n.index_===an)"string"==typeof t&&(t=ze(t)),i=Vi(n,t,e);else{let a;a=null==e?qr:ze(e),i=Vi(n,t,a)}return i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(kh(e),xo(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Bi(t._repo,t._path,e,t._orderByCalled)}}class ZE extends Pr{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Bi(t._repo,t._path,function(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class PR extends Pr{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Bi(t._repo,t._path,function(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class Gy extends Pr{constructor(t){super(),this._path=t}_apply(t){Oh(t,"orderByChild");const e=new St(this._path);if(ut(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new g(e),a=uh(t._queryParams,i);return xo(a),new Bi(t._repo,t._path,a,!0)}}class $y extends Pr{_apply(t){Oh(t,"orderByKey");const e=uh(t._queryParams,an);return xo(e),new Bi(t._repo,t._path,e,!0)}}class wT extends Pr{_apply(t){Oh(t,"orderByPriority");const e=uh(t._queryParams,Vt);return xo(e),new Bi(t._repo,t._path,e,!0)}}class ST extends Pr{_apply(t){Oh(t,"orderByValue");const e=uh(t._queryParams,T);return xo(e),new Bi(t._repo,t._path,e,!0)}}class IT extends Pr{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(Gs("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new jy(this._value,this._key)._apply(new vT(this._value,this._key)._apply(t))}}function ni(n,...t){let e=(0,P.m9)(n);for(const i of t)e=i._apply(e);return e}(function(n){(0,P.hu)(!yy,"__referenceConstructor has already been defined"),yy=n})(lr),function(n){(0,P.hu)(!_u,"__referenceConstructor has already been defined"),_u=n}(lr);const cr={};function KE(n,t,e,i,a){let u=i||n.options.databaseURL;void 0===u&&(n.options.projectId||Xi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Cn("Using default host for project ",n.options.projectId),u=`${n.options.projectId}-default-rtdb.firebaseio.com`);let b,D,f=VE(u,a),_=f.repoInfo;"undefined"!=typeof process&&(D=process.env.FIREBASE_DATABASE_EMULATOR_HOST),D?(b=!0,u=`http://${D}?ns=${_.namespace}`,f=VE(u,a),_=f.repoInfo):b=!f.repoInfo.secure;const I=a&&b?new er(er.OWNER):new la(n.name,n.options,t);mg("Invalid Firebase Database URL",f),ut(f.path)||Xi("Database URL must point to the root of a Firebase Database (not including a child path).");const A=function(n,t,e,i){let a=cr[t.name];a||(a={},cr[t.name]=a);let u=a[n.toURLString()];return u&&Xi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new OE(n,false,e,i),a[n.toURLString()]=u,u}(_,n,I,new kp(n.name,e));return new ii(A,n)}class ii{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function(n,t,e){if(n.stats_=Vs(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new dh(n.repoInfo_,(i,a,u,f)=>{$s(n,i,a,u,f)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>Ah(n,!0),0);else{if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,P.Pz)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new Ar(n.repoInfo_,t,(i,a,u,f)=>{$s(n,i,a,u,f)},i=>{Ah(n,i)},i=>{!function(n,t){pn(t,(e,i)=>{Py(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function(n,t){const e=n.toString();return Zc[e]||(Zc[e]=t()),Zc[e]}(n.repoInfo_,()=>new NS(n.stats_,n.server_)),n.infoData_=new ey,n.infoSyncTree_=new yE({startListening:(i,a,u,f)=>{let _=[];const b=n.infoData_.getNode(i._path);return b.isEmpty()||(_=yu(n.infoSyncTree_,i._path,b),setTimeout(()=>{f("ok")},0)),_},stopListening:()=>{}}),Py(n,"connected",!1),n.serverSyncTree_=new yE({startListening:(i,a,u,f)=>(n.server_.listen(i,u,a,(_,b)=>{const D=f(_,b);xr(n.eventQueue_,i._path,D)}),[]),stopListening:(i,a)=>{n.server_.unlisten(i,a)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new lr(this._repo,At())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function(n,t){const e=cr[t];(!e||e[n.key]!==n)&&Xi(`Database ${t}(${n.repoInfo_}) has already been deleted.`),bg(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Xi("Cannot call "+t+" on a deleted database.")}}function Ou(n,t){Yr(n,t)}class Fu{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Ar.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},Ar.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},Bc(Tp.SDK_VERSION),(0,Tp._registerComponent)(new Lc.wA("database",(t,{instanceIdentifier:e})=>KE(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Tp.registerVersion)("@firebase/database","0.12.1",void 0);const XE=new Ip.Yd("@firebase/database-compat"),Zy=function(n){XE.warn("FIREBASE WARNING: "+n)};class nw{constructor(t){this._delegate=t}cancel(t){(0,P.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,P.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,P.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,P.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,P.Dv)("OnDisconnect.set",1,2,arguments.length),(0,P.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),a=>e(a)),i}setWithPriority(t,e,i){(0,P.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,P.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const a=this._delegate.setWithPriority(t,e);return i&&a.then(()=>i(null),u=>i(u)),a}update(t,e){if((0,P.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const a={};for(let u=0;u<t.length;++u)a[""+u]=t[u];t=a,Zy("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,P.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),a=>e(a)),i}}class iw{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,P.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class No{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,P.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,P.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,P.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,P.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,P.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),Oa("DataSnapshot.child","path",t,!1),new No(this._database,this._delegate.child(t))}hasChild(t){return(0,P.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Oa("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,P.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,P.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,P.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new No(this._database,e)))}hasChildren(){return(0,P.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,P.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,P.Dv)("DataSnapshot.ref",0,0,arguments.length),new Ui(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Zn{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,a){var u;(0,P.Dv)("Query.on",2,4,arguments.length),(0,P.Wj)("Query.on","callback",e,!1);const f=Zn.getCancelAndContextArgs_("Query.on",i,a),_=(D,I)=>{e.call(f.context,new No(this.database,D),I)};_.userCallback=e,_.context=f.context;const b=null===(u=f.cancel)||void 0===u?void 0:u.bind(f.context);switch(t){case"value":return Hy(this._delegate,_,b),e;case"child_added":return GE(this._delegate,_,b),e;case"child_removed":return Ig(this._delegate,_,b),e;case"child_changed":return _T(this._delegate,_,b),e;case"child_moved":return yT(this._delegate,_,b),e;default:throw new Error((0,P.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,P.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,P.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,P.Wj)("Query.off","callback",e,!0),(0,P.lb)("Query.off","context",i,!0),e){const a=()=>{};a.userCallback=e,a.context=i,$E(this._delegate,t,a)}else $E(this._delegate,t)}get(){return mT(this._delegate).then(t=>new No(this.database,t))}once(t,e,i,a){(0,P.Dv)("Query.once",1,4,arguments.length),(0,P.Wj)("Query.once","callback",e,!0);const u=Zn.getCancelAndContextArgs_("Query.once",i,a),f=new P.BH,_=(D,I)=>{const A=new No(this.database,D);e&&e.call(u.context,A,I),f.resolve(A)};_.userCallback=e,_.context=u.context;const b=D=>{u.cancel&&u.cancel.call(u.context,D),f.reject(D)};switch(t){case"value":Hy(this._delegate,_,b,{onlyOnce:!0});break;case"child_added":GE(this._delegate,_,b,{onlyOnce:!0});break;case"child_removed":Ig(this._delegate,_,b,{onlyOnce:!0});break;case"child_changed":_T(this._delegate,_,b,{onlyOnce:!0});break;case"child_moved":yT(this._delegate,_,b,{onlyOnce:!0});break;default:throw new Error((0,P.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return f.promise}limitToFirst(t){return(0,P.Dv)("Query.limitToFirst",1,1,arguments.length),new Zn(this.database,ni(this._delegate,function(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new ZE(n)}(t)))}limitToLast(t){return(0,P.Dv)("Query.limitToLast",1,1,arguments.length),new Zn(this.database,ni(this._delegate,function(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new PR(n)}(t)))}orderByChild(t){return(0,P.Dv)("Query.orderByChild",1,1,arguments.length),new Zn(this.database,ni(this._delegate,function(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Oa("orderByChild","path",n,!1),new Gy(n)}(t)))}orderByKey(){return(0,P.Dv)("Query.orderByKey",0,0,arguments.length),new Zn(this.database,ni(this._delegate,new $y))}orderByPriority(){return(0,P.Dv)("Query.orderByPriority",0,0,arguments.length),new Zn(this.database,ni(this._delegate,new wT))}orderByValue(){return(0,P.Dv)("Query.orderByValue",0,0,arguments.length),new Zn(this.database,ni(this._delegate,new ST))}startAt(t=null,e){return(0,P.Dv)("Query.startAt",0,2,arguments.length),new Zn(this.database,ni(this._delegate,function(n=null,t){return Th("startAt","key",t,!0),new vT(n,t)}(t,e)))}startAfter(t=null,e){return(0,P.Dv)("Query.startAfter",0,2,arguments.length),new Zn(this.database,ni(this._delegate,function(n,t){return Th("startAfter","key",t,!0),new zE(n,t)}(t,e)))}endAt(t=null,e){return(0,P.Dv)("Query.endAt",0,2,arguments.length),new Zn(this.database,ni(this._delegate,function(n,t){return Th("endAt","key",t,!0),new jy(n,t)}(t,e)))}endBefore(t=null,e){return(0,P.Dv)("Query.endBefore",0,2,arguments.length),new Zn(this.database,ni(this._delegate,function(n,t){return Th("endBefore","key",t,!0),new rs(n,t)}(t,e)))}equalTo(t,e){return(0,P.Dv)("Query.equalTo",1,2,arguments.length),new Zn(this.database,ni(this._delegate,function(n,t){return Th("equalTo","key",t,!0),new IT(n,t)}(t,e)))}toString(){return(0,P.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,P.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,P.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof Zn))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const a={cancel:void 0,context:void 0};if(e&&i)a.cancel=e,(0,P.Wj)(t,"cancel",a.cancel,!0),a.context=i,(0,P.lb)(t,"context",a.context,!0);else if(e)if("object"==typeof e&&null!==e)a.context=e;else{if("function"!=typeof e)throw new Error((0,P.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");a.cancel=e}return a}get ref(){return new Ui(this.database,new lr(this._delegate._repo,this._delegate._path))}}class Ui extends Zn{constructor(t,e){super(t,new Bi(e._repo,e._path,new uu,!1)),this.database=t,this._delegate=e}getKey(){return(0,P.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,P.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new Ui(this.database,Po(this._delegate,t))}getParent(){(0,P.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new Ui(this.database,t):null}getRoot(){return(0,P.Dv)("Reference.root",0,0,arguments.length),new Ui(this.database,this._delegate.root)}set(t,e){(0,P.Dv)("Reference.set",1,2,arguments.length),(0,P.Wj)("Reference.set","onComplete",e,!0);const i=Tg(this._delegate,t);return e&&i.then(()=>e(null),a=>e(a)),i}update(t,e){if((0,P.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const a={};for(let u=0;u<t.length;++u)a[""+u]=t[u];t=a,Zy("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}kr("Reference.update",this._delegate._path),(0,P.Wj)("Reference.update","onComplete",e,!0);const i=gT(this._delegate,t);return e&&i.then(()=>e(null),a=>e(a)),i}setWithPriority(t,e,i){(0,P.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,P.Wj)("Reference.setWithPriority","onComplete",i,!0);const a=function(n,t,e){if(kr("setWithPriority",n._path),Gs("setWithPriority",t,n._path,!1),My("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new P.BH;return yg(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&a.then(()=>i(null),u=>i(u)),a}remove(t){(0,P.Dv)("Reference.remove",0,1,arguments.length),(0,P.Wj)("Reference.remove","onComplete",t,!0);const e=function(n){return kr("remove",n._path),Tg(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,P.Dv)("Reference.transaction",1,3,arguments.length),(0,P.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,P.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,P.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const a=function(n,t,e){var i;if(n=(0,P.m9)(n),kr("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const a=null===(i=null==e?void 0:e.applyLocally)||void 0===i||i,u=new P.BH,_=Hy(n,()=>{});return function(n,t,e,i,a,u){Su(n,"transaction on "+t);const f={path:t,update:e,onComplete:i,status:null,order:Mp(),applyLocally:u,retryCount:0,unwatcher:a,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},_=Cg(n,t,void 0);f.currentInputSnapshot=_;const b=f.update(_.val());if(void 0===b)f.unwatcher(),f.currentOutputSnapshotRaw=null,f.currentOutputSnapshotResolved=null,f.onComplete&&f.onComplete(null,!1,f.currentInputSnapshot);else{Sh("transaction failed: Data returned ",b,f.path),f.status=0;const D=Eh(n.transactionQueueTree_,t),I=Hl(D)||[];let A;I.push(f),Iy(D,I),"object"==typeof b&&null!==b&&(0,P.r3)(b,".priority")?(A=(0,P.DV)(b,".priority"),(0,P.hu)(Eu(A),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):A=(Ro(n.serverSyncTree_,t)||st.EMPTY_NODE).getPriority().val();const N=wu(n),Y=p(b,A),ne=DE(Y,_,N);f.currentOutputSnapshotRaw=Y,f.currentOutputSnapshotResolved=ne,f.currentWriteId=Ny(n);const be=vE(n.serverSyncTree_,t,ne,f.currentWriteId,f.applyLocally);xr(n.eventQueue_,t,be),Eg(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(b,D,I)=>{let A=null;b?u.reject(b):(A=new jl(I,new lr(n._repo,n._path),Vt),u.resolve(new Fu(D,A)))},_,a),u.promise}(this._delegate,t,{applyLocally:i}).then(u=>new iw(u.committed,new No(this.database,u.snapshot)));return e&&a.then(u=>e(null,u.committed,u.snapshot),u=>e(u,!1,null)),a}setPriority(t,e){(0,P.Dv)("Reference.setPriority",1,2,arguments.length),(0,P.Wj)("Reference.setPriority","onComplete",e,!0);const i=function(n,t){n=(0,P.m9)(n),kr("setPriority",n._path),My("setPriority",t,!1);const e=new P.BH;return yg(n._repo,Zt(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),a=>e(a)),i}push(t,e){(0,P.Dv)("Reference.push",0,2,arguments.length),(0,P.Wj)("Reference.push","onComplete",e,!0);const i=function(n,t){n=(0,P.m9)(n),kr("push",n._path),Gs("push",t,n._path,!0);const e=xy(n._repo),i=Re(e),a=Po(n,i),u=Po(n,i);let f;return f=null!=t?Tg(u,t).then(()=>u):Promise.resolve(u),a.then=f.then.bind(f),a.catch=f.then.bind(f,void 0),a}(this._delegate,t),a=i.then(f=>new Ui(this.database,f));e&&a.then(()=>e(null),f=>e(f));const u=new Ui(this.database,i);return u.then=a.then.bind(a),u.catch=a.catch.bind(a,void 0),u}onDisconnect(){return kr("Reference.onDisconnect",this._delegate._path),new nw(new BE(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Lh{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete()}}useEmulator(t,e,i={}){!function(n,t,e,i={}){(n=(0,P.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Xi("Cannot call useEmulator() after instance has already been initialized.");const a=n._repoInternal;let u;if(a.repoInfo_.nodeAdmin)i.mockUserToken&&Xi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),u=new er(er.OWNER);else if(i.mockUserToken){const f="string"==typeof i.mockUserToken?i.mockUserToken:(0,P.Sg)(i.mockUserToken,n.app.options.projectId);u=new er(f)}!function(n,t,e,i){n.repoInfo_=new Fs(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),i&&(n.authTokenProvider_=i)}(a,t,e,u)}(this._delegate,t,e,i)}ref(t){if((0,P.Dv)("database.ref",0,1,arguments.length),t instanceof Ui){const e=Iu(this._delegate,t.toString());return new Ui(this,e)}{const e=UE(this._delegate,t);return new Ui(this,e)}}refFromURL(t){(0,P.Dv)("database.refFromURL",1,1,arguments.length);const i=Iu(this._delegate,t);return new Ui(this,i)}goOffline(){return(0,P.Dv)("database.goOffline",0,0,arguments.length),function(n){(n=(0,P.m9)(n))._checkNotDeleted("goOffline"),bg(n._repo)}(this._delegate)}goOnline(){return(0,P.Dv)("database.goOnline",0,0,arguments.length),function(n){(n=(0,P.m9)(n))._checkNotDeleted("goOnline"),function(n){n.persistentConnection_&&n.persistentConnection_.resume(ME)}(n._repo)}(this._delegate)}}Lh.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:n=>function(n){return{".sv":{increment:n}}}(n)};var sw=Object.freeze({__proto__:null,initStandalone:function({app:n,url:t,version:e,customAuthImpl:i,namespace:a,nodeAdmin:u=!1}){Bc(e);const f=new Lc.zt("auth-internal",new Lc.H0("database-standalone"));return f.setComponent(new Lc.wA("auth-internal",()=>i,"PRIVATE")),{instance:new Lh(KE(n,f,void 0,t,u),n),namespace:a}}});const MT=Lh.ServerValue;!function(n){n.INTERNAL.registerComponent(new Lc.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),a=t.getProvider("database").getImmediate({identifier:e});return new Lh(a,i)},"PUBLIC").setServiceProps({Reference:Ui,Query:Zn,Database:Lh,DataSnapshot:No,enableLogging:Ou,INTERNAL:sw,ServerValue:MT}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.1.1")}(Dp.Z);var ft=x(9765),Vu=x(309),RT=x(7771),ss=x(5319),ow=x(7971),OT=x(8858);class FR extends ft.xQ{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,i){super(),this.scheduler=i,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new kT(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,i=e?this._events:this._trimBufferThenGetEvents(),a=this.scheduler,u=i.length;let f;if(this.closed)throw new ow.N;if(this.isStopped||this.hasError?f=ss.w.EMPTY:(this.observers.push(t),f=new OT.W(this,t)),a&&t.add(t=new Vu.ht(t,a)),e)for(let _=0;_<u&&!t.closed;_++)t.next(i[_]);else for(let _=0;_<u&&!t.closed;_++)t.next(i[_].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),f}_getNow(){return(this.scheduler||RT.c).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,i=this._windowTime,a=this._events,u=a.length;let f=0;for(;f<u&&!(t-a[f].time<i);)f++;return u>e&&(f=Math.max(f,u-e)),f>0&&a.splice(0,f),a}}class kT{constructor(t,e){this.time=t,this.value=e}}function Rg(n,t,e){let i;return i=n&&"object"==typeof n?n:{bufferSize:n,windowTime:t,refCount:!1,scheduler:e},a=>a.lift(function({bufferSize:n=Number.POSITIVE_INFINITY,windowTime:t=Number.POSITIVE_INFINITY,refCount:e,scheduler:i}){let a,f,u=0,_=!1,b=!1;return function(I){let A;u++,!a||_?(_=!1,a=new FR(n,t,i),A=a.subscribe(this),f=I.subscribe({next(N){a.next(N)},error(N){_=!0,a.error(N)},complete(){b=!0,f=void 0,a.complete()}}),b&&(f=void 0)):A=a.subscribe(this),this.add(()=>{u--,A.unsubscribe(),A=void 0,f&&!b&&e&&0===u&&(f.unsubscribe(),f=void 0,a=void 0)})}}(i))}const Yy=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();function os(n,t){return function(i){return i.lift(new VR(n,t))}}class VR{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new xT(t,this.predicate,this.thisArg))}}class xT extends Fn.L{constructor(t,e,i){super(t),this.predicate=e,this.thisArg=i,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(i){return void this.destination.error(i)}e&&this.destination.next(t)}}const Og=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();var Ws=x(9193);function Fr(n){return t=>0===n?(0,Ws.c)():t.lift(new UR(n))}class UR{constructor(t){if(this.total=t,this.total<0)throw new Og}call(t,e){return e.subscribe(new HR(t,this.total))}}class HR extends Fn.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,i=++this.count;i<=e&&(this.destination.next(t),i===e&&(this.destination.complete(),this.unsubscribe()))}}function PT(n=null){return t=>t.lift(new NT(n))}class NT{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new aw(t,this.defaultValue))}}class aw extends Fn.L{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function FT(n=VT){return t=>t.lift(new LT(n))}class LT{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Bu(t,this.errorFactory))}}class Bu extends Fn.L{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function VT(){return new Yy}var qy=x(4487);function Gl(n,t){const e=arguments.length>=2;return i=>i.pipe(n?os((a,u)=>n(a,u,i)):qy.y,Fr(1),e?PT(t):FT(()=>new Yy))}function Ky(n,t){return t?Ht(()=>n,t):Ht(()=>n)}var Uu=x(9673),BT=x(7841);const cw=new l.OlP("angularfire2.auth.use-emulator"),uw=new l.OlP("angularfire2.auth.settings"),dw=new l.OlP("angularfire2.auth.tenant-id"),hw=new l.OlP("angularfire2.auth.langugage-code"),fw=new l.OlP("angularfire2.auth.use-device-language"),Qy=new l.OlP("angularfire.auth.persistence"),pw=(n,t,e,i,a,u,f,_)=>(0,Dt.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const b=t.runOutsideAngular(()=>n.auth());if(e&&b.useEmulator(...e),i&&(b.tenantId=i),b.languageCode=a,u&&b.useDeviceLanguage(),f)for(const[D,I]of Object.entries(f))b.settings[D]=I;return _&&b.setPersistence(_),b},[e,i,a,u,f,_]);let kg=(()=>{class n{constructor(e,i,a,u,f,_,b,D,I,A,N){const Y=new ft.xQ,ne=(0,Ve.of)(void 0).pipe((0,Vu.QV)(f.outsideAngular),Ht(()=>u.runOutsideAngular(()=>Promise.resolve().then(x.bind(x,670)))),(0,it.U)(()=>(0,$n.on)(e,u,i)),(0,it.U)(be=>pw(be,u,_,D,I,A,b,N)),Rg({bufferSize:1,refCount:!1}));if(function(n){return"server"===n}(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Ve.of)(null);else{ne.pipe(Gl()).subscribe();const we=ne.pipe(Ht(Ne=>Ne.getRedirectResult().then(vt=>vt,()=>null)),Dt.iC,Rg({bufferSize:1,refCount:!1})),We=ne.pipe(Ht(Ne=>new nn.y(vt=>({unsubscribe:u.runOutsideAngular(()=>Ne.onAuthStateChanged(Si=>vt.next(Si),Si=>vt.error(Si),()=>vt.complete()))})))),Ze=ne.pipe(Ht(Ne=>new nn.y(vt=>({unsubscribe:u.runOutsideAngular(()=>Ne.onIdTokenChanged(Si=>vt.next(Si),Si=>vt.error(Si),()=>vt.complete()))}))));this.authState=we.pipe(Ky(We),(0,Uu.R)(f.outsideAngular),(0,Vu.QV)(f.insideAngular)),this.user=we.pipe(Ky(Ze),(0,Uu.R)(f.outsideAngular),(0,Vu.QV)(f.insideAngular)),this.idToken=this.user.pipe(Ht(Ne=>Ne?(0,bn.D)(Ne.getIdToken()):(0,Ve.of)(null))),this.idTokenResult=this.user.pipe(Ht(Ne=>Ne?(0,bn.D)(Ne.getIdTokenResult()):(0,Ve.of)(null))),this.credential=(0,Qi.T)(we,Y,this.authState.pipe(os(Ne=>!Ne))).pipe((0,it.U)(Ne=>(null==Ne?void 0:Ne.user)?Ne:null),(0,Uu.R)(f.outsideAngular),(0,Vu.QV)(f.insideAngular))}return(0,$n.pX)(this,ne,u,{spy:{apply:(be,we,We)=>{(be.startsWith("signIn")||be.startsWith("createUser"))&&We.then(Ze=>Y.next(Ze))}}})}}return n.\u0275fac=function(e){return new(e||n)(l.LFG($n.Dh),l.LFG($n.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Dt.HU),l.LFG(cw,8),l.LFG(uw,8),l.LFG(dw,8),l.LFG(hw,8),l.LFG(fw,8),l.LFG(Qy,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function xg(n){return null==n}function gw(n){return"function"==typeof n.set}function HT(n,t){return gw(t)?t:n.ref(t)}function Hu(n,t){if(function(n){return"string"==typeof n}(n))return t.stringCase();if(gw(n))return t.firebaseCase();if(function(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function Vh(n,t,e="on",i=Ps.z){return new nn.y(a=>{let u=null;return u=n[e](t,(f,_)=>{i.schedule(()=>{a.next({snapshot:f,prevKey:_})}),"once"===e&&i.schedule(()=>a.complete())},f=>{i.schedule(()=>a.error(f))}),"on"===e?{unsubscribe(){null!=u&&n.off(t,u)}}:{unsubscribe(){}}}).pipe((0,it.U)(a=>{const{snapshot:u,prevKey:f}=a;let _=null;return u.exists()&&(_=u.key),{type:t,payload:u,prevKey:f,key:_}}),(0,wp.B)())}function Pg(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function ev(n,t){const{payload:e,prevKey:i,key:a}=t,u=Pg(n,a),f=function(n,t){if(xg(t))return 0;{const e=Pg(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let _=null;t.payload.forEach(b=>{const D={payload:b,type:"value",prevKey:_,key:b.key};return _=b.key,n=[...n,D],!1})}return n;case"child_added":if(u>-1){const _=n[u-1];(_&&_.key||null)!==i&&(n=n.filter(b=>b.payload.key!==e.key)).splice(f,0,t)}else{if(null==i)return[t,...n];(n=n.slice()).splice(f,0,t)}return n;case"child_removed":return n.filter(_=>_.payload.key!==e.key);case"child_changed":return n.map(_=>_.payload.key===a?t:_);case"child_moved":if(u>-1){const _=n.splice(u,1)[0];return(n=n.slice()).splice(f,0,_),n}return n;default:return n}}function Ng(n){return(xg(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function tv(n,t,e){return function(n,t,e){return Vh(n,"value","once",e).pipe(Ht(i=>{const a=[(0,Ve.of)(i)];return t.forEach(u=>a.push(Vh(n,u,"on",e))),(0,Qi.T)(...a).pipe(go(ev,[]))}),function(n,t){return e=>e.lift(new qd(n,t))}())}(n,t=Ng(t),e)}function GT(n,t,e){const i=(t=Ng(t)).map(a=>Vh(n,a,"on",e));return(0,Qi.T)(...i)}function rv(n,t){return function(i,a){return Hu(i,{stringCase:()=>n.child(i)[t](a),firebaseCase:()=>i[t](a),snapshotCase:()=>i.ref[t](a)})}}function mw(n){return function(e){return e?Hu(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function ov(n,t){return function(){return Vh(n,"value","on",t)}}const lv=new l.OlP("angularfire2.realtimeDatabaseURL"),_w=new l.OlP("angularfire2.database.use-emulator");let cv=(()=>{class n{constructor(e,i,a,u,f,_,b,D,I,A,N,Y,ne,be){this.schedulers=_;const we=b,We=(0,$n.on)(e,f,i);D&&pw(We,f,I,N,Y,ne,A,be),this.database=(0,Dt.cc)(`${We.name}.database.${a}`,"AngularFireDatabase",We.name,()=>{const Ze=f.runOutsideAngular(()=>We.database(a||void 0));return we&&Ze.useEmulator(...we),Ze},[we])}list(e,i){const a=this.schedulers.ngZone.runOutsideAngular(()=>HT(this.database,e));let u=a;return i&&(u=i(a)),function(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:rv(i,"update"),set:rv(i,"set"),push:a=>i.push(a),remove:mw(i),snapshotChanges:a=>tv(n,a,e).pipe(Dt.iC),stateChanges:a=>GT(n,a,e).pipe(Dt.iC),auditTrail:a=>function(n,t,e){return function(n,t,e){return function(n,t){return Vh(n,"value","on",t).pipe((0,it.U)(e=>{let i;return e.payload.forEach(a=>(i=a.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(function(...n){return t=>{let e;return"function"==typeof n[n.length-1]&&(e=n.pop()),t.lift(new GC(n,e))}}(t),(0,it.U)(([a,u])=>{const f=a.lastKeyToLoad,_=u.map(b=>b.key);return{actions:u,lastKeyToLoad:f,loadedKeys:_}}),function(n){return t=>t.lift(new zC(n))}(a=>-1===a.loadedKeys.indexOf(a.lastKeyToLoad)),(0,it.U)(a=>a.actions))}(n,GT(n,t).pipe(go((a,u)=>[...a,u],[])),e)}(n,a,e).pipe(Dt.iC),valueChanges:(a,u)=>tv(n,a,e).pipe((0,it.U)(_=>_.map(b=>u&&u.idField?Object.assign(Object.assign({},b.payload.val()),{[u.idField]:b.key}):b.payload.val())),Dt.iC)}}(u,this)}object(e){return function(n,t){return{query:n,snapshotChanges:()=>ov(n,t.schedulers.outsideAngular)().pipe(Dt.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>ov(n,t.schedulers.outsideAngular)().pipe(Dt.iC,(0,it.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>HT(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(l.LFG($n.Dh),l.LFG($n.xv,8),l.LFG(lv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Dt.HU),l.LFG(_w,8),l.LFG(kg,8),l.LFG(cw,8),l.LFG(uw,8),l.LFG(dw,8),l.LFG(hw,8),l.LFG(fw,8),l.LFG(Qy,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),yw=(()=>{class n{constructor(){BT.Z.registerVersion("angularfire",Dt.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[cv]}),n})();class Hi extends ft.xQ{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new ow.N;return this._value}next(t){super.next(this._value=t)}}var ju=x(4869),Bh=x(9796),zT=x(6693);const uv={};class hv{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new fv(t,this.resultSelector))}}class fv extends Dr{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(uv),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let i=0;i<e;i++)this.add(Fc(this,t[i],void 0,i))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,i){const a=this.values,f=this.toRespond?a[i]===uv?--this.toRespond:this.toRespond:0;a[i]=e,0===f&&(this.resultSelector?this._tryResultSelector(a):this.destination.next(a.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}var Uh=x(3282);function Hh(...n){return(0,Uh.J)(1)((0,Ve.of)(...n))}function Fg(n){return new nn.y(t=>{let e;try{e=n()}catch(a){return void t.error(a)}return(e?(0,bn.D)(e):(0,Ws.c)()).subscribe(t)})}var bw=x(2441);function ka(n){return function(e){const i=new Cw(n),a=e.lift(i);return i.caught=a}}class Cw{constructor(t){this.selector=t}call(t,e){return e.subscribe(new GR(t,this.selector,this.caught))}}class GR extends Ji.Ds{constructor(t,e,i){super(t),this.selector=e,this.caught=i}error(t){if(!this.isStopped){let e;try{e=this.selector(t,this.caught)}catch(u){return void super.error(u)}this._unsubscribeAndRecycle();const i=new Ji.IY(this);this.add(i);const a=(0,Ji.ft)(e,i);a!==i&&this.add(a)}}}var _i=x(9773);function jh(n,t){return(0,_i.zg)(n,t,1)}function Lg(n){return function(e){return 0===n?(0,Ws.c)():e.lift(new WT(n))}}class WT{constructor(t){if(this.total=t,this.total<0)throw new Og}call(t,e){return e.subscribe(new Rn(t,this.total))}}class Rn extends Fn.L{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,i=this.total,a=this.count++;e.length<i?e.push(t):e[a%i]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const i=this.count>=this.total?this.total:this.count,a=this.ring;for(let u=0;u<i;u++){const f=e++%i;t.next(a[f])}}t.complete()}}var ji=x(3342),ZT=x(1307);class YT{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Dw(t,this.callback))}}class Dw extends Fn.L{constructor(t,e){super(t),this.add(new ss.w(e))}}class Ys{constructor(t,e){this.id=t,this.url=e}}class xa extends Ys{constructor(t,e,i="imperative",a=null){super(t,e),this.navigationTrigger=i,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Gh extends Ys{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Sw extends Ys{constructor(t,e,i){super(t,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Tw extends Ys{constructor(t,e,i){super(t,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class qT extends Ys{constructor(t,e,i,a){super(t,e),this.urlAfterRedirects=i,this.state=a}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Iw extends Ys{constructor(t,e,i,a){super(t,e),this.urlAfterRedirects=i,this.state=a}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $R extends Ys{constructor(t,e,i,a,u){super(t,e),this.urlAfterRedirects=i,this.state=a,this.shouldActivate=u}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class pv extends Ys{constructor(t,e,i,a){super(t,e),this.urlAfterRedirects=i,this.state=a}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gv extends Ys{constructor(t,e,i,a){super(t,e),this.urlAfterRedirects=i,this.state=a}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class as{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Aw{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class KT{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qs{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ls{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cs{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mv{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const yt="primary";class QT{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Gu(n){return new QT(n)}const Mw="ngNavigationCancelingError";function _v(n){const t=Error("NavigationCancelingError: "+n);return t[Mw]=!0,t}function $h(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const a={};for(let u=0;u<i.length;u++){const f=i[u],_=n[u];if(f.startsWith(":"))a[f.substring(1)]=_;else if(f!==_.path)return null}return{consumed:n.slice(0,i.length),posParams:a}}function us(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let a;for(let u=0;u<e.length;u++)if(a=e[u],!Rw(n[a],t[a]))return!1;return!0}function Rw(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((a,u)=>i[u]===a)}return n===t}function vv(n){return Array.prototype.concat.apply([],n)}function bv(n){return n.length>0?n[n.length-1]:null}function Yn(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function ds(n){return(0,l.CqO)(n)?n:(0,l.QGY)(n)?(0,bn.D)(Promise.resolve(n)):(0,Ve.of)(n)}const Ev={exact:function Dv(n,t,e){if(!$l(n.segments,t.segments)||!Wh(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!Dv(n.children[i],t.children[i],e))return!1;return!0},subset:Sv},zh={exact:function(n,t){return us(n,t)},subset:function(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Rw(n[e],t[e]))},ignored:()=>!0};function wv(n,t,e){return Ev[e.paths](n.root,t.root,e.matrixParams)&&zh[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function Sv(n,t,e){return Tv(n,t,t.segments,e)}function Tv(n,t,e,i){if(n.segments.length>e.length){const a=n.segments.slice(0,e.length);return!(!$l(a,e)||t.hasChildren()||!Wh(a,e,i))}if(n.segments.length===e.length){if(!$l(n.segments,e)||!Wh(n.segments,e,i))return!1;for(const a in t.children)if(!n.children[a]||!Sv(n.children[a],t.children[a],i))return!1;return!0}{const a=e.slice(0,n.segments.length),u=e.slice(n.segments.length);return!!($l(n.segments,a)&&Wh(n.segments,a,i)&&n.children[yt])&&Tv(n.children[yt],t,u,i)}}function Wh(n,t,e){return t.every((i,a)=>zh[e](n[a].parameters,i.parameters))}class Pa{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gu(this.queryParams)),this._queryParamMap}toString(){return tI.serialize(this)}}class wt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Yn(e,(i,a)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Vg(this)}}class Zh{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Gu(this.parameters)),this._parameterMap}toString(){return Lw(this)}}function $l(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}class Iv{}class Pw{parse(t){const e=new $w(t);return new Pa(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${`/${Yh(t.root,!0)}`}${function(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(a=>`${Bg(e)}=${Bg(a)}`).join("&"):`${Bg(e)}=${Bg(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${function(n){return encodeURI(n)}(t.fragment)}`:""}`}}const tI=new Pw;function Vg(n){return n.segments.map(t=>Lw(t)).join("/")}function Yh(n,t){if(!n.hasChildren())return Vg(n);if(t){const e=n.children[yt]?Yh(n.children[yt],!1):"",i=[];return Yn(n.children,(a,u)=>{u!==yt&&i.push(`${u}:${Yh(a,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function(n,t){let e=[];return Yn(n.children,(i,a)=>{a===yt&&(e=e.concat(t(i,a)))}),Yn(n.children,(i,a)=>{a!==yt&&(e=e.concat(t(i,a)))}),e}(n,(i,a)=>a===yt?[Yh(n.children[yt],!1)]:[`${a}:${Yh(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[yt]?`${Vg(n)}/${e[0]}`:`${Vg(n)}/(${e.join("//")})`}}function Nw(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Bg(n){return Nw(n).replace(/%3B/gi,";")}function Av(n){return Nw(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ug(n){return decodeURIComponent(n)}function Fw(n){return Ug(n.replace(/\+/g,"%20"))}function Lw(n){return`${Av(n.path)}${function(n){return Object.keys(n).map(t=>`;${Av(t)}=${Av(n[t])}`).join("")}(n.parameters)}`}const Bw=/^[^\/()?;=#]+/;function qh(n){const t=n.match(Bw);return t?t[0]:""}const Uw=/^[^=?&#]+/,jw=/^[^?&#]+/;class $w{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new wt([],{}):new wt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[yt]=new wt(t,e)),i}parseSegment(){const t=qh(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Zh(Ug(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=qh(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const a=qh(this.remaining);a&&(i=a,this.capture(i))}t[Ug(e)]=Ug(i)}parseQueryParam(t){const e=function(n){const t=n.match(Uw);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const f=function(n){const t=n.match(jw);return t?t[0]:""}(this.remaining);f&&(i=f,this.capture(i))}const a=Fw(e),u=Fw(i);if(t.hasOwnProperty(a)){let f=t[a];Array.isArray(f)||(f=[f],t[a]=f),f.push(u)}else t[a]=u}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=qh(this.remaining),a=this.remaining[i.length];if("/"!==a&&")"!==a&&";"!==a)throw new Error(`Cannot parse url '${this.url}'`);let u;i.indexOf(":")>-1?(u=i.substr(0,i.indexOf(":")),this.capture(u),this.capture(":")):t&&(u=yt);const f=this.parseChildren();e[u]=1===Object.keys(f).length?f[yt]:new wt([],f),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Mv{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Kh(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=Kh(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Hg(t,this._root);return e.length<2?[]:e[e.length-2].children.map(a=>a.value).filter(a=>a!==t)}pathFromRoot(t){return Hg(t,this._root).map(e=>e.value)}}function Kh(n,t){if(n===t.value)return t;for(const e of t.children){const i=Kh(n,e);if(i)return i}return null}function Hg(n,t){if(n===t.value)return[t];for(const e of t.children){const i=Hg(n,e);if(i.length)return i.unshift(t),i}return[]}class yi{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Qh(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class zw extends Mv{constructor(t,e){super(t),this.snapshot=e,He(this,t)}toString(){return this.snapshot.toString()}}function zl(n,t){const e=function(n,t){const f=new Jh([],{},{},"",{},yt,t,null,n.root,-1,{});return new sI("",new yi(f,[]))}(n,t),i=new Hi([new Zh("",{})]),a=new Hi({}),u=new Hi({}),f=new Hi({}),_=new Hi(""),b=new Na(i,a,f,_,u,yt,t,e.root);return b.snapshot=e.root,new zw(new yi(b,[]),e)}class Na{constructor(t,e,i,a,u,f,_,b){this.url=t,this.params=e,this.queryParams=i,this.fragment=a,this.data=u,this.outlet=f,this.component=_,this._futureSnapshot=b}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,it.U)(t=>Gu(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,it.U)(t=>Gu(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function rI(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const a=e[i],u=e[i-1];if(a.routeConfig&&""===a.routeConfig.path)i--;else{if(u.component)break;i--}}return function(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(i))}class Jh{constructor(t,e,i,a,u,f,_,b,D,I,A){this.url=t,this.params=e,this.queryParams=i,this.fragment=a,this.data=u,this.outlet=f,this.component=_,this.routeConfig=b,this._urlSegment=D,this._lastPathIndex=I,this._resolve=A}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Gu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class sI extends Mv{constructor(t,e){super(e),this.url=t,He(this,e)}toString(){return Zw(this._root)}}function He(n,t){t.value._routerState=n,t.children.forEach(e=>He(n,e))}function Zw(n){const t=n.children.length>0?` { ${n.children.map(Zw).join(", ")} } `:"";return`${n.value}${t}`}function Rv(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,us(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),us(t.params,e.params)||n.params.next(e.params),function(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!us(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),us(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Ov(n,t){return us(n.params,t.params)&&function(n,t){return $l(n,t)&&n.every((e,i)=>us(e.parameters,t[i].parameters))}(n.url,t.url)&&!(!n.parent!=!t.parent)&&(!n.parent||Ov(n.parent,t.parent))}function Gg(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const a=function(n,t,e){return t.children.map(i=>{for(const a of e.children)if(n.shouldReuseRoute(i.value,a.value.snapshot))return Gg(n,i,a);return Gg(n,i)})}(n,t,e);return new yi(i,a)}{if(n.shouldAttach(t.value)){const u=n.retrieve(t.value);if(null!==u){const f=u.route;return Xh(t,f),f}}const i=function(n){return new Na(new Hi(n.url),new Hi(n.params),new Hi(n.queryParams),new Hi(n.fragment),new Hi(n.data),n.outlet,n.component,n)}(t.value),a=t.children.map(u=>Gg(n,u));return new yi(i,a)}}function Xh(n,t){if(n.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(n.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=n.value;for(let e=0;e<n.children.length;++e)Xh(n.children[e],t.children[e])}function ef(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Wl(n){return"object"==typeof n&&null!=n&&n.outlets}function kv(n,t,e,i,a){let u={};return i&&Yn(i,(f,_)=>{u[_]=Array.isArray(f)?f.map(b=>`${b}`):`${f}`}),new Pa(e.root===n?t:xv(e.root,n,t),u,a)}function xv(n,t,e){const i={};return Yn(n.children,(a,u)=>{i[u]=a===t?e:xv(a,t,e)}),new wt(n.segments,i)}class Pv{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&ef(i[0]))throw new Error("Root segment cannot have matrix parameters");const a=i.find(Wl);if(a&&a!==bv(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class zg{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function $u(n,t,e){if(n||(n=new wt([],{})),0===n.segments.length&&n.hasChildren())return Wg(n,t,e);const i=function(n,t,e){let i=0,a=t;const u={match:!1,pathIndex:0,commandIndex:0};for(;a<n.segments.length;){if(i>=e.length)return u;const f=n.segments[a],_=e[i];if(Wl(_))break;const b=`${_}`,D=i<e.length-1?e[i+1]:null;if(a>0&&void 0===b)break;if(b&&D&&"object"==typeof D&&void 0===D.outlets){if(!Lv(b,D,f))return u;i+=2}else{if(!Lv(b,{},f))return u;i++}a++}return{match:!0,pathIndex:a,commandIndex:i}}(n,t,e),a=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const u=new wt(n.segments.slice(0,i.pathIndex),{});return u.children[yt]=new wt(n.segments.slice(i.pathIndex),n.children),Wg(u,0,a)}return i.match&&0===a.length?new wt(n.segments,{}):i.match&&!n.hasChildren()?Nv(n,t,e):i.match?Wg(n,0,a):Nv(n,t,e)}function Wg(n,t,e){if(0===e.length)return new wt(n.segments,{});{const i=function(n){return Wl(n[0])?n[0].outlets:{[yt]:n}}(e),a={};return Yn(i,(u,f)=>{"string"==typeof u&&(u=[u]),null!==u&&(a[f]=$u(n.children[f],t,u))}),Yn(n.children,(u,f)=>{void 0===i[f]&&(a[f]=u)}),new wt(n.segments,a)}}function Nv(n,t,e){const i=n.segments.slice(0,t);let a=0;for(;a<e.length;){const u=e[a];if(Wl(u)){const b=Zg(u.outlets);return new wt(i,b)}if(0===a&&ef(e[0])){i.push(new Zh(n.segments[t].path,Fv(e[0]))),a++;continue}const f=Wl(u)?u.outlets[yt]:`${u}`,_=a<e.length-1?e[a+1]:null;f&&_&&ef(_)?(i.push(new Zh(f,Fv(_))),a+=2):(i.push(new Zh(f,{})),a++)}return new wt(i,{})}function Zg(n){const t={};return Yn(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=Nv(new wt([],{}),0,e))}),t}function Fv(n){const t={};return Yn(n,(e,i)=>t[i]=`${e}`),t}function Lv(n,t,e){return n==e.path&&us(t,e.parameters)}class uI{constructor(t,e,i,a){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=a}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),Rv(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const a=Qh(e);t.children.forEach(u=>{const f=u.value.outlet;this.deactivateRoutes(u,a[f],i),delete a[f]}),Yn(a,(u,f)=>{this.deactivateRouteAndItsChildren(u,i)})}deactivateRoutes(t,e,i){const a=t.value,u=e?e.value:null;if(a===u)if(a.component){const f=i.getContext(a.outlet);f&&this.deactivateChildRoutes(t,e,f.children)}else this.deactivateChildRoutes(t,e,i);else u&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet);if(i&&i.outlet){const a=i.outlet.detach(),u=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:a,route:t,contexts:u})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),a=i&&t.value.component?i.children:e,u=Qh(t);for(const f of Object.keys(u))this.deactivateRouteAndItsChildren(u[f],a);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const a=Qh(e);t.children.forEach(u=>{this.activateRoutes(u,a[u.value.outlet],i),this.forwardEvent(new cs(u.value.snapshot))}),t.children.length&&this.forwardEvent(new qs(t.value.snapshot))}activateRoutes(t,e,i){const a=t.value,u=e?e.value:null;if(Rv(a),a===u)if(a.component){const f=i.getOrCreateContext(a.outlet);this.activateChildRoutes(t,e,f.children)}else this.activateChildRoutes(t,e,i);else if(a.component){const f=i.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const _=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),f.children.onOutletReAttached(_.contexts),f.attachRef=_.componentRef,f.route=_.route.value,f.outlet&&f.outlet.attach(_.componentRef,_.route.value),zu(_.route)}else{const _=function(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(a.snapshot),b=_?_.module.componentFactoryResolver:null;f.attachRef=null,f.route=a,f.resolver=b,f.outlet&&f.outlet.activateWith(a,b),this.activateChildRoutes(t,null,f.children)}}else this.activateChildRoutes(t,null,i)}}function zu(n){Rv(n.value),n.children.forEach(zu)}class Vv{constructor(t,e){this.routes=t,this.module=e}}function Fa(n){return"function"==typeof n}function La(n){return n instanceof Pa}const nf=Symbol("INITIAL_VALUE");function rf(){return Ht(n=>function(...n){let t,e;return(0,ju.K)(n[n.length-1])&&(e=n.pop()),"function"==typeof n[n.length-1]&&(t=n.pop()),1===n.length&&(0,Bh.k)(n[0])&&(n=n[0]),(0,zT.n)(n,e).lift(new hv(t))}(n.map(t=>t.pipe(Fr(1),function(...n){const t=n[n.length-1];return(0,ju.K)(t)?(n.pop(),e=>Hh(n,e,t)):e=>Hh(n,e)}(nf)))).pipe(go((t,e)=>{let i=!1;return e.reduce((a,u,f)=>a!==nf?a:(u===nf&&(i=!0),i||!1!==u&&f!==e.length-1&&!La(u)?a:u),t)},nf),os(t=>t!==nf),(0,it.U)(t=>La(t)?t:!0===t),Fr(1)))}let fI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&l._UZ(0,"router-outlet")},directives:function(){return[ff]},encapsulation:2}),n})();function pI(n,t=""){for(let e=0;e<n.length;e++){const i=n[e];ZR(i,YR(t,i))}}function ZR(n,t){n.children&&pI(n.children,t)}function YR(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function Yg(n){const t=n.children&&n.children.map(Yg),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==yt&&(e.component=fI),e}function vi(n){return n.outlet||yt}function Xw(n,t){const e=n.filter(i=>vi(i)===t);return e.push(...n.filter(i=>vi(i)!==t)),e}const eD={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function sf(n,t,e){var i;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},eD):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const u=(t.matcher||$h)(e,n,t);if(!u)return Object.assign({},eD);const f={};Yn(u.posParams,(b,D)=>{f[D]=b.path});const _=u.consumed.length>0?Object.assign(Object.assign({},f),u.consumed[u.consumed.length-1].parameters):f;return{matched:!0,consumedSegments:u.consumed,lastChild:u.consumed.length,parameters:_,positionalParamSegments:null!==(i=u.posParams)&&void 0!==i?i:{}}}function Va(n,t,e,i,a="corrected"){if(e.length>0&&function(n,t,e){return e.some(i=>qg(n,t,i)&&vi(i)!==yt)}(n,e,i)){const f=new wt(t,function(n,t,e,i){const a={};a[yt]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const u of e)if(""===u.path&&vi(u)!==yt){const f=new wt([],{});f._sourceSegment=n,f._segmentIndexShift=t.length,a[vi(u)]=f}return a}(n,t,i,new wt(e,n.children)));return f._sourceSegment=n,f._segmentIndexShift=t.length,{segmentGroup:f,slicedSegments:[]}}if(0===e.length&&function(n,t,e){return e.some(i=>qg(n,t,i))}(n,e,i)){const f=new wt(n.segments,function(n,t,e,i,a,u){const f={};for(const _ of i)if(qg(n,e,_)&&!a[vi(_)]){const b=new wt([],{});b._sourceSegment=n,b._segmentIndexShift="legacy"===u?n.segments.length:t.length,f[vi(_)]=b}return Object.assign(Object.assign({},a),f)}(n,t,e,i,n.children,a));return f._sourceSegment=n,f._segmentIndexShift=t.length,{segmentGroup:f,slicedSegments:e}}const u=new wt(n.segments,n.children);return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:e}}function qg(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function Bv(n,t,e,i){return!!(vi(n)===i||i!==yt&&qg(t,e,n))&&("**"===n.path||sf(t,n,e).matched)}function tD(n,t,e){return 0===t.length&&!n.children[e]}class af{constructor(t){this.segmentGroup=t||null}}class Zl{constructor(t){this.urlTree=t}}function Kg(n){return new nn.y(t=>t.error(new af(n)))}function Uv(n){return new nn.y(t=>t.error(new Zl(n)))}function vI(n){return new nn.y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class iD{constructor(t,e,i,a,u){this.configLoader=e,this.urlSerializer=i,this.urlTree=a,this.config=u,this.allowRedirects=!0,this.ngModule=t.get(l.h0i)}apply(){const t=Va(this.urlTree.root,[],[],this.config).segmentGroup,e=new wt(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,yt).pipe((0,it.U)(u=>this.createUrlTree(lf(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ka(u=>{if(u instanceof Zl)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof af?this.noMatchError(u):u}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,yt).pipe((0,it.U)(a=>this.createUrlTree(lf(a),t.queryParams,t.fragment))).pipe(ka(a=>{throw a instanceof af?this.noMatchError(a):a}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,i){const a=t.segments.length>0?new wt([],{[yt]:t}):t;return new Pa(a,e,i)}expandSegmentGroup(t,e,i,a){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,it.U)(u=>new wt([],u))):this.expandSegment(t,i,e,i.segments,a,!0)}expandChildren(t,e,i){const a=[];for(const u of Object.keys(i.children))"primary"===u?a.unshift(u):a.push(u);return(0,bn.D)(a).pipe(jh(u=>{const f=i.children[u],_=Xw(e,u);return this.expandSegmentGroup(t,_,f,u).pipe((0,it.U)(b=>({segment:b,outlet:u})))}),go((u,f)=>(u[f.outlet]=f.segment,u),{}),function(n,t){const e=arguments.length>=2;return i=>i.pipe(n?os((a,u)=>n(a,u,i)):qy.y,Lg(1),e?PT(t):FT(()=>new Yy))}())}expandSegment(t,e,i,a,u,f){return(0,bn.D)(i).pipe(jh(_=>this.expandSegmentAgainstRoute(t,e,i,_,a,u,f).pipe(ka(D=>{if(D instanceof af)return(0,Ve.of)(null);throw D}))),Gl(_=>!!_),ka((_,b)=>{if(_ instanceof Yy||"EmptyError"===_.name){if(tD(e,a,u))return(0,Ve.of)(new wt([],{}));throw new af(e)}throw _}))}expandSegmentAgainstRoute(t,e,i,a,u,f,_){return Bv(a,e,u,f)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(t,e,a,u,f):_&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,a,u,f):Kg(e):Kg(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,a,u,f){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,a,f):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,a,u,f)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,a){const u=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Uv(u):this.lineralizeSegments(i,u).pipe((0,_i.zg)(f=>{const _=new wt(f,{});return this.expandSegment(t,_,e,f,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,a,u,f){const{matched:_,consumedSegments:b,lastChild:D,positionalParamSegments:I}=sf(e,a,u);if(!_)return Kg(e);const A=this.applyRedirectCommands(b,a.redirectTo,I);return a.redirectTo.startsWith("/")?Uv(A):this.lineralizeSegments(a,A).pipe((0,_i.zg)(N=>this.expandSegment(t,e,i,N.concat(u.slice(D)),f,!1)))}matchSegmentAgainstRoute(t,e,i,a,u){if("**"===i.path)return i.loadChildren?(i._loadedConfig?(0,Ve.of)(i._loadedConfig):this.configLoader.load(t.injector,i)).pipe((0,it.U)(N=>(i._loadedConfig=N,new wt(a,{})))):(0,Ve.of)(new wt(a,{}));const{matched:f,consumedSegments:_,lastChild:b}=sf(e,i,a);if(!f)return Kg(e);const D=a.slice(b);return this.getChildConfig(t,i,a).pipe((0,_i.zg)(A=>{const N=A.module,Y=A.routes,{segmentGroup:ne,slicedSegments:be}=Va(e,_,D,Y),we=new wt(ne.segments,ne.children);if(0===be.length&&we.hasChildren())return this.expandChildren(N,Y,we).pipe((0,it.U)(vt=>new wt(_,vt)));if(0===Y.length&&0===be.length)return(0,Ve.of)(new wt(_,{}));const We=vi(i)===u;return this.expandSegment(N,we,Y,be,We?yt:u,!0).pipe((0,it.U)(Ne=>new wt(_.concat(Ne.segments),Ne.children)))}))}getChildConfig(t,e,i){return e.children?(0,Ve.of)(new Vv(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?(0,Ve.of)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,i).pipe((0,_i.zg)(a=>a?this.configLoader.load(t.injector,e).pipe((0,it.U)(u=>(e._loadedConfig=u,u))):function(n){return new nn.y(t=>t.error(_v(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`)))}(e))):(0,Ve.of)(new Vv([],t))}runCanLoadGuards(t,e,i){const a=e.canLoad;if(!a||0===a.length)return(0,Ve.of)(!0);const u=a.map(f=>{const _=t.get(f);let b;if(function(n){return n&&Fa(n.canLoad)}(_))b=_.canLoad(e,i);else{if(!Fa(_))throw new Error("Invalid CanLoad guard");b=_(e,i)}return ds(b)});return(0,Ve.of)(u).pipe(rf(),(0,ji.b)(f=>{if(!La(f))return;const _=_v(`Redirecting to "${this.urlSerializer.serialize(f)}"`);throw _.url=f,_}),(0,it.U)(f=>!0===f))}lineralizeSegments(t,e){let i=[],a=e.root;for(;;){if(i=i.concat(a.segments),0===a.numberOfChildren)return(0,Ve.of)(i);if(a.numberOfChildren>1||!a.children[yt])return vI(t.redirectTo);a=a.children[yt]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreatreUrlTree(t,e,i,a){const u=this.createSegmentGroup(t,e.root,i,a);return new Pa(u,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Yn(t,(a,u)=>{if("string"==typeof a&&a.startsWith(":")){const _=a.substring(1);i[u]=e[_]}else i[u]=a}),i}createSegmentGroup(t,e,i,a){const u=this.createSegments(t,e.segments,i,a);let f={};return Yn(e.children,(_,b)=>{f[b]=this.createSegmentGroup(t,_,i,a)}),new wt(u,f)}createSegments(t,e,i,a){return e.map(u=>u.path.startsWith(":")?this.findPosParam(t,u,a):this.findOrReturn(u,i))}findPosParam(t,e,i){const a=i[e.path.substring(1)];if(!a)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return a}findOrReturn(t,e){let i=0;for(const a of e){if(a.path===t.path)return e.splice(i),a;i++}return t}}function lf(n){const t={};for(const i of Object.keys(n.children)){const u=lf(n.children[i]);(u.segments.length>0||u.hasChildren())&&(t[i]=u)}return function(n){if(1===n.numberOfChildren&&n.children[yt]){const t=n.children[yt];return new wt(n.segments.concat(t.segments),t.children)}return n}(new wt(n.segments,t))}class Hv{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class cf{constructor(t,e){this.component=t,this.route=e}}function wI(n,t,e){const i=n._root;return uf(i,t?t._root:null,e,[i.value])}function Qg(n,t,e){const i=function(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:e).get(n)}function uf(n,t,e,i,a={canDeactivateChecks:[],canActivateChecks:[]}){const u=Qh(t);return n.children.forEach(f=>{(function(n,t,e,i,a={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,f=t?t.value:null,_=e?e.getContext(n.value.outlet):null;if(f&&u.routeConfig===f.routeConfig){const b=function(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!$l(n.url,t.url);case"pathParamsOrQueryParamsChange":return!$l(n.url,t.url)||!us(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ov(n,t)||!us(n.queryParams,t.queryParams);case"paramsChange":default:return!Ov(n,t)}}(f,u,u.routeConfig.runGuardsAndResolvers);b?a.canActivateChecks.push(new Hv(i)):(u.data=f.data,u._resolvedData=f._resolvedData),uf(n,t,u.component?_?_.children:null:e,i,a),b&&_&&_.outlet&&_.outlet.isActivated&&a.canDeactivateChecks.push(new cf(_.outlet.component,f))}else f&&df(t,_,a),a.canActivateChecks.push(new Hv(i)),uf(n,null,u.component?_?_.children:null:e,i,a)})(f,u[f.value.outlet],e,i.concat([f.value]),a),delete u[f.value.outlet]}),Yn(u,(f,_)=>df(f,e.getContext(_),a)),a}function df(n,t,e){const i=Qh(n),a=n.value;Yn(i,(u,f)=>{df(u,a.component?t?t.children.getContext(f):null:t,e)}),e.canDeactivateChecks.push(new cf(a.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,a))}class kI{}function aD(n){return new nn.y(t=>t.error(n))}class xI{constructor(t,e,i,a,u,f){this.rootComponentType=t,this.config=e,this.urlTree=i,this.url=a,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=f}recognize(){const t=Va(this.urlTree.root,[],[],this.config.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,yt);if(null===e)return null;const i=new Jh([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},yt,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new yi(i,e),u=new sI(this.url,a);return this.inheritParamsAndData(u._root),u}inheritParamsAndData(t){const e=t.value,i=rI(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(t,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,i)}processChildren(t,e){const i=[];for(const u of Object.keys(e.children)){const f=e.children[u],_=Xw(t,u),b=this.processSegmentGroup(_,f,u);if(null===b)return null;i.push(...b)}const a=Jg(i);return function(n){n.sort((t,e)=>t.value.outlet===yt?-1:e.value.outlet===yt?1:t.value.outlet.localeCompare(e.value.outlet))}(a),a}processSegment(t,e,i,a){for(const u of t){const f=this.processSegmentAgainstRoute(u,e,i,a);if(null!==f)return f}return tD(e,i,a)?[]:null}processSegmentAgainstRoute(t,e,i,a){if(t.redirectTo||!Bv(t,e,i,a))return null;let u,f=[],_=[];if("**"===t.path){const Y=i.length>0?bv(i).parameters:{};u=new Jh(i,Y,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,uD(t),vi(t),t.component,t,Xg(e),cD(e)+i.length,em(t))}else{const Y=sf(e,t,i);if(!Y.matched)return null;f=Y.consumedSegments,_=i.slice(Y.lastChild),u=new Jh(f,Y.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,uD(t),vi(t),t.component,t,Xg(e),cD(e)+f.length,em(t))}const b=function(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(t),{segmentGroup:D,slicedSegments:I}=Va(e,f,_,b.filter(Y=>void 0===Y.redirectTo),this.relativeLinkResolution);if(0===I.length&&D.hasChildren()){const Y=this.processChildren(b,D);return null===Y?null:[new yi(u,Y)]}if(0===b.length&&0===I.length)return[new yi(u,[])];const A=vi(t)===a,N=this.processSegment(b,D,I,A?yt:a);return null===N?null:[new yi(u,N)]}}function Gv(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Jg(n){const t=[],e=new Set;for(const i of n){if(!Gv(i)){t.push(i);continue}const a=t.find(u=>i.value.routeConfig===u.value.routeConfig);void 0!==a?(a.children.push(...i.children),e.add(a)):t.push(i)}for(const i of e){const a=Jg(i.children);t.push(new yi(i.value,a))}return t.filter(i=>!e.has(i))}function Xg(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function cD(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function uD(n){return n.data||{}}function em(n){return n.resolve||{}}function tm(n){return Ht(t=>{const e=n(t);return e?(0,bn.D)(e).pipe((0,it.U)(()=>t)):(0,Ve.of)(t)})}class Wu extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const pD=new l.OlP("ROUTES");class nm{constructor(t,e,i,a){this.loader=t,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=a}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const a=this.loadModuleFactory(e.loadChildren).pipe((0,it.U)(u=>{this.onLoadEndListener&&this.onLoadEndListener(e);const f=u.create(t);return new Vv(vv(f.injector.get(pD,void 0,l.XFs.Self|l.XFs.Optional)).map(Yg),f)}),ka(u=>{throw e._loader$=void 0,u}));return e._loader$=new bw.c(a,()=>new ft.xQ).pipe((0,ZT.x)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?(0,bn.D)(this.loader.load(t)):ds(t()).pipe((0,_i.zg)(e=>e instanceof l.YKP?(0,Ve.of)(e):(0,bn.D)(this.compiler.compileModuleAsync(e))))}}class im{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Zu,this.attachRef=null}}class Zu{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new im,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class UI{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function KR(n){throw n}function HI(n,t,e){return t.parse("/")}function hs(n,t){return(0,Ve.of)(null)}const gD={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},QR={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let mn=(()=>{class n{constructor(e,i,a,u,f,_,b,D){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=a,this.location=u,this.config=D,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ft.xQ,this.errorHandler=KR,this.malformedUriErrorHandler=HI,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:hs,afterPreactivation:hs},this.urlHandlingStrategy=new UI,this.routeReuseStrategy=new Wu,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=f.get(l.h0i),this.console=f.get(l.c2e);const N=f.get(l.R0b);this.isNgZoneEnabled=N instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(D),this.currentUrlTree=new Pa(new wt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new nm(_,b,Y=>this.triggerEvent(new as(Y)),Y=>this.triggerEvent(new Aw(Y))),this.routerState=zl(this.currentUrlTree,this.rootComponentType),this.transitions=new Hi({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(os(a=>0!==a.id),(0,it.U)(a=>Object.assign(Object.assign({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),Ht(a=>{let u=!1,f=!1;return(0,Ve.of)(a).pipe((0,ji.b)(_=>{this.currentNavigation={id:_.id,initialUrl:_.currentRawUrl,extractedUrl:_.extractedUrl,trigger:_.source,extras:_.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Ht(_=>{const b=this.browserUrlTree.toString(),D=!this.navigated||_.extractedUrl.toString()!==b||b!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||D)&&this.urlHandlingStrategy.shouldProcessUrl(_.rawUrl))return rm(_.source)&&(this.browserUrlTree=_.extractedUrl),(0,Ve.of)(_).pipe(Ht(A=>{const N=this.transitions.getValue();return i.next(new xa(A.id,this.serializeUrl(A.extractedUrl),A.source,A.restoredState)),N!==this.transitions.getValue()?Ws.E:Promise.resolve(A)}),function(n,t,e,i){return Ht(a=>function(n,t,e,i,a){return new iD(n,t,e,i,a).apply()}(n,t,e,a.extractedUrl,i).pipe((0,it.U)(u=>Object.assign(Object.assign({},a),{urlAfterRedirects:u}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,ji.b)(A=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:A.urlAfterRedirects})}),function(n,t,e,i,a){return(0,_i.zg)(u=>function(n,t,e,i,a="emptyOnly",u="legacy"){try{const f=new xI(n,t,e,i,a,u).recognize();return null===f?aD(new kI):(0,Ve.of)(f)}catch(f){return aD(f)}}(n,t,u.urlAfterRedirects,e(u.urlAfterRedirects),i,a).pipe((0,it.U)(f=>Object.assign(Object.assign({},u),{targetSnapshot:f}))))}(this.rootComponentType,this.config,A=>this.serializeUrl(A),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ji.b)(A=>{"eager"===this.urlUpdateStrategy&&(A.extras.skipLocationChange||this.setBrowserUrl(A.urlAfterRedirects,A),this.browserUrlTree=A.urlAfterRedirects);const N=new qT(A.id,this.serializeUrl(A.extractedUrl),this.serializeUrl(A.urlAfterRedirects),A.targetSnapshot);i.next(N)}));if(D&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:N,extractedUrl:Y,source:ne,restoredState:be,extras:we}=_,We=new xa(N,this.serializeUrl(Y),ne,be);i.next(We);const Ze=zl(Y,this.rootComponentType).snapshot;return(0,Ve.of)(Object.assign(Object.assign({},_),{targetSnapshot:Ze,urlAfterRedirects:Y,extras:Object.assign(Object.assign({},we),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=_.rawUrl,this.browserUrlTree=_.urlAfterRedirects,_.resolve(null),Ws.E}),tm(_=>{const{targetSnapshot:b,id:D,extractedUrl:I,rawUrl:A,extras:{skipLocationChange:N,replaceUrl:Y}}=_;return this.hooks.beforePreactivation(b,{navigationId:D,appliedUrlTree:I,rawUrlTree:A,skipLocationChange:!!N,replaceUrl:!!Y})}),(0,ji.b)(_=>{const b=new Iw(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(b)}),(0,it.U)(_=>Object.assign(Object.assign({},_),{guards:wI(_.targetSnapshot,_.currentSnapshot,this.rootContexts)})),function(n,t){return(0,_i.zg)(e=>{const{targetSnapshot:i,currentSnapshot:a,guards:{canActivateChecks:u,canDeactivateChecks:f}}=e;return 0===f.length&&0===u.length?(0,Ve.of)(Object.assign(Object.assign({},e),{guardsResult:!0})):function(n,t,e,i){return(0,bn.D)(n).pipe((0,_i.zg)(a=>function(n,t,e,i,a){const u=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!u||0===u.length)return(0,Ve.of)(!0);const f=u.map(_=>{const b=Qg(_,t,a);let D;if(function(n){return n&&Fa(n.canDeactivate)}(b))D=ds(b.canDeactivate(n,t,e,i));else{if(!Fa(b))throw new Error("Invalid CanDeactivate guard");D=ds(b(n,t,e,i))}return D.pipe(Gl())});return(0,Ve.of)(f).pipe(rf())}(a.component,a.route,e,t,i)),Gl(a=>!0!==a,!0))}(f,i,a,n).pipe((0,_i.zg)(_=>_&&function(n){return"boolean"==typeof n}(_)?function(n,t,e,i){return(0,bn.D)(t).pipe(jh(a=>Hh(function(n,t){return null!==n&&t&&t(new KT(n)),(0,Ve.of)(!0)}(a.route.parent,i),function(n,t){return null!==n&&t&&t(new ls(n)),(0,Ve.of)(!0)}(a.route,i),function(n,t,e){const i=t[t.length-1],u=t.slice(0,t.length-1).reverse().map(f=>function(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(f)).filter(f=>null!==f).map(f=>Fg(()=>{const _=f.guards.map(b=>{const D=Qg(b,f.node,e);let I;if(function(n){return n&&Fa(n.canActivateChild)}(D))I=ds(D.canActivateChild(i,n));else{if(!Fa(D))throw new Error("Invalid CanActivateChild guard");I=ds(D(i,n))}return I.pipe(Gl())});return(0,Ve.of)(_).pipe(rf())}));return(0,Ve.of)(u).pipe(rf())}(n,a.path,e),function(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return(0,Ve.of)(!0);const a=i.map(u=>Fg(()=>{const f=Qg(u,t,e);let _;if(function(n){return n&&Fa(n.canActivate)}(f))_=ds(f.canActivate(t,n));else{if(!Fa(f))throw new Error("Invalid CanActivate guard");_=ds(f(t,n))}return _.pipe(Gl())}));return(0,Ve.of)(a).pipe(rf())}(n,a.route,e))),Gl(a=>!0!==a,!0))}(i,u,n,t):(0,Ve.of)(_)),(0,it.U)(_=>Object.assign(Object.assign({},e),{guardsResult:_})))})}(this.ngModule.injector,_=>this.triggerEvent(_)),(0,ji.b)(_=>{if(La(_.guardsResult)){const D=_v(`Redirecting to "${this.serializeUrl(_.guardsResult)}"`);throw D.url=_.guardsResult,D}const b=new $R(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot,!!_.guardsResult);this.triggerEvent(b)}),os(_=>!!_.guardsResult||(this.restoreHistory(_),this.cancelNavigationTransition(_,""),!1)),tm(_=>{if(_.guards.canActivateChecks.length)return(0,Ve.of)(_).pipe((0,ji.b)(b=>{const D=new pv(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(D)}),Ht(b=>{let D=!1;return(0,Ve.of)(b).pipe(function(n,t){return(0,_i.zg)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:a}}=e;if(!a.length)return(0,Ve.of)(e);let u=0;return(0,bn.D)(a).pipe(jh(f=>function(n,t,e,i){return function(n,t,e,i){const a=Object.keys(n);if(0===a.length)return(0,Ve.of)({});const u={};return(0,bn.D)(a).pipe((0,_i.zg)(f=>function(n,t,e,i){const a=Qg(n,t,i);return ds(a.resolve?a.resolve(t,e):a(t,e))}(n[f],t,e,i).pipe((0,ji.b)(_=>{u[f]=_}))),Lg(1),(0,_i.zg)(()=>Object.keys(u).length===a.length?(0,Ve.of)(u):Ws.E))}(n._resolve,n,t,i).pipe((0,it.U)(u=>(n._resolvedData=u,n.data=Object.assign(Object.assign({},n.data),rI(n,e).resolve),null)))}(f.route,i,n,t)),(0,ji.b)(()=>u++),Lg(1),(0,_i.zg)(f=>u===a.length?(0,Ve.of)(e):Ws.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,ji.b)({next:()=>D=!0,complete:()=>{D||(this.restoreHistory(b),this.cancelNavigationTransition(b,"At least one route resolver didn't emit any value."))}}))}),(0,ji.b)(b=>{const D=new gv(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(D)}))}),tm(_=>{const{targetSnapshot:b,id:D,extractedUrl:I,rawUrl:A,extras:{skipLocationChange:N,replaceUrl:Y}}=_;return this.hooks.afterPreactivation(b,{navigationId:D,appliedUrlTree:I,rawUrlTree:A,skipLocationChange:!!N,replaceUrl:!!Y})}),(0,it.U)(_=>{const b=function(n,t,e){const i=Gg(n,t._root,e?e._root:void 0);return new zw(i,t)}(this.routeReuseStrategy,_.targetSnapshot,_.currentRouterState);return Object.assign(Object.assign({},_),{targetRouterState:b})}),(0,ji.b)(_=>{this.currentUrlTree=_.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(_.urlAfterRedirects,_.rawUrl),this.routerState=_.targetRouterState,"deferred"===this.urlUpdateStrategy&&(_.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,_),this.browserUrlTree=_.urlAfterRedirects)}),((n,t,e)=>(0,it.U)(i=>(new uI(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,_=>this.triggerEvent(_)),(0,ji.b)({next(){u=!0},complete(){u=!0}}),function(n){return t=>t.lift(new YT(n))}(()=>{if(!u&&!f){const _=`Navigation ID ${a.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(a),this.cancelNavigationTransition(a,_)):this.cancelNavigationTransition(a,_)}this.currentNavigation=null}),ka(_=>{if(f=!0,function(n){return n&&n[Mw]}(_)){const b=La(_.url);b||(this.navigated=!0,this.restoreHistory(a,!0));const D=new Sw(a.id,this.serializeUrl(a.extractedUrl),_.message);i.next(D),b?setTimeout(()=>{const I=this.urlHandlingStrategy.merge(_.url,this.rawUrlTree),A={skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||rm(a.source)};this.scheduleNavigation(I,"imperative",null,A,{resolve:a.resolve,reject:a.reject,promise:a.promise})},0):a.resolve(!1)}else{this.restoreHistory(a,!0);const b=new Tw(a.id,this.serializeUrl(a.extractedUrl),_);i.next(b);try{a.resolve(this.errorHandler(_))}catch(D){a.reject(D)}}return Ws.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,i)&&setTimeout(()=>{const{source:a,state:u,urlTree:f}=i,_={replaceUrl:!0};if(u){const b=Object.assign({},u);delete b.navigationId,delete b.\u0275routerPageId,0!==Object.keys(b).length&&(_.state=b)}this.scheduleNavigation(f,a,u,_)},0),this.lastLocationChangeInfo=i}))}extractLocationChangeInfoFromEvent(e){var i;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(i=e.state)||void 0===i?void 0:i.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,i){if(!e)return!0;const a=i.urlTree.toString()===e.urlTree.toString();return i.transitionId!==e.transitionId||!a||!("hashchange"===i.source&&"popstate"===e.source||"popstate"===i.source&&"hashchange"===e.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){pI(e),this.config=e.map(Yg),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:a,queryParams:u,fragment:f,queryParamsHandling:_,preserveFragment:b}=i,D=a||this.routerState.root,I=b?this.currentUrlTree.fragment:f;let A=null;switch(_){case"merge":A=Object.assign(Object.assign({},this.currentUrlTree.queryParams),u);break;case"preserve":A=this.currentUrlTree.queryParams;break;default:A=u||null}return null!==A&&(A=this.removeEmptyProps(A)),function(n,t,e,i,a){if(0===e.length)return kv(t.root,t.root,t,i,a);const u=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Pv(!0,0,n);let t=0,e=!1;const i=n.reduce((a,u,f)=>{if("object"==typeof u&&null!=u){if(u.outlets){const _={};return Yn(u.outlets,(b,D)=>{_[D]="string"==typeof b?b.split("/"):b}),[...a,{outlets:_}]}if(u.segmentPath)return[...a,u.segmentPath]}return"string"!=typeof u?[...a,u]:0===f?(u.split("/").forEach((_,b)=>{0==b&&"."===_||(0==b&&""===_?e=!0:".."===_?t++:""!=_&&a.push(_))}),a):[...a,u]},[]);return new Pv(e,t,i)}(e);if(u.toRoot())return kv(t.root,new wt([],{}),t,i,a);const f=function(n,t,e){if(n.isAbsolute)return new zg(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const u=e.snapshot._urlSegment;return new zg(u,u===t.root,0)}const i=ef(n.commands[0])?0:1;return function(n,t,e){let i=n,a=t,u=e;for(;u>a;){if(u-=a,i=i.parent,!i)throw new Error("Invalid number of '../'");a=i.segments.length}return new zg(i,!1,a-u)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(u,t,n),_=f.processChildren?Wg(f.segmentGroup,f.index,u.commands):$u(f.segmentGroup,f.index,u.commands);return kv(f.segmentGroup,_,t,i,a)}(D,this.currentUrlTree,e,A,null!=I?I:null)}navigateByUrl(e,i={skipLocationChange:!1}){const a=La(e)?e:this.parseUrl(e),u=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(a){i=this.malformedUriErrorHandler(a,this.urlSerializer,e)}return i}isActive(e,i){let a;if(a=!0===i?Object.assign({},gD):!1===i?Object.assign({},QR):i,La(e))return wv(this.currentUrlTree,e,a);const u=this.parseUrl(e);return wv(this.currentUrlTree,u,a)}removeEmptyProps(e){return Object.keys(e).reduce((i,a)=>{const u=e[a];return null!=u&&(i[a]=u),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Gh(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,a,u,f){var _,b;if(this.disposed)return Promise.resolve(!1);const D=this.getTransition(),I=rm(i)&&D&&!rm(D.source),Y=(this.lastSuccessfulId===D.id||this.currentNavigation?D.rawUrl:D.urlAfterRedirects).toString()===e.toString();if(I&&Y)return Promise.resolve(!0);let ne,be,we;f?(ne=f.resolve,be=f.reject,we=f.promise):we=new Promise((Ne,vt)=>{ne=Ne,be=vt});const We=++this.navigationId;let Ze;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(a=this.location.getState()),Ze=a&&a.\u0275routerPageId?a.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?null!==(_=this.browserPageId)&&void 0!==_?_:0:(null!==(b=this.browserPageId)&&void 0!==b?b:0)+1):Ze=0,this.setTransition({id:We,targetPageId:Ze,source:i,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:u,resolve:ne,reject:be,promise:we,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),we.catch(Ne=>Promise.reject(Ne))}setBrowserUrl(e,i){const a=this.urlSerializer.serialize(e),u=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(a)||i.extras.replaceUrl?this.location.replaceState(a,"",u):this.location.go(a,"",u)}restoreHistory(e,i=!1){var a,u;if("computed"===this.canceledNavigationResolution){const f=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)||0===f?this.currentUrlTree===(null===(u=this.currentNavigation)||void 0===u?void 0:u.finalUrl)&&0===f&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(f)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const a=new Sw(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(a),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.DyG),l.LFG(Iv),l.LFG(Zu),l.LFG(Xe),l.LFG(l.zs3),l.LFG(l.v3s),l.LFG(l.Sil),l.LFG(void 0))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function rm(n){return"imperative"!==n}let mD=(()=>{class n{constructor(e,i,a,u,f){this.router=e,this.route=i,this.commands=[],this.onChanges=new ft.xQ,null==a&&u.setAttribute(f.nativeElement,"tabindex","0")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}onClick(){const e={skipLocationChange:qu(this.skipLocationChange),replaceUrl:qu(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:qu(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(mn),l.Y36(Na),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,i){1&e&&l.NdJ("click",function(){return i.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[l.TTD]}),n})(),hf=(()=>{class n{constructor(e,i,a){this.router=e,this.route=i,this.locationStrategy=a,this.commands=[],this.onChanges=new ft.xQ,this.subscription=e.events.subscribe(u=>{u instanceof Gh&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,i,a,u,f){if(0!==e||i||a||u||f||"string"==typeof this.target&&"_self"!=this.target)return!0;const _={skipLocationChange:qu(this.skipLocationChange),replaceUrl:qu(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,_),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:qu(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(mn),l.Y36(Na),l.Y36(ye))},n.\u0275dir=l.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,i){1&e&&l.NdJ("click",function(u){return i.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&e&&(l.Ikx("href",i.href,l.LSH),l.uIk("target",i.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[l.TTD]}),n})();function qu(n){return""===n||!!n}let _D=(()=>{class n{constructor(e,i,a,u,f,_){this.router=e,this.element=i,this.renderer=a,this.cdr=u,this.link=f,this.linkWithHref=_,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=e.events.subscribe(b=>{b instanceof Gh&&this.update()})}ngAfterContentInit(){(0,Ve.of)(this.links.changes,this.linksWithHrefs.changes,(0,Ve.of)(null)).pipe((0,Uh.J)()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var e;null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe();const i=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(a=>!!a).map(a=>a.onChanges);this.linkInputChangesSubscription=(0,bn.D)(i).pipe((0,Uh.J)()).subscribe(a=>{this.isActive!==this.isLinkActive(this.router)(a)&&this.update()})}set routerLinkActive(e){const i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(a=>!!a)}ngOnChanges(e){this.update()}ngOnDestroy(){var e;this.routerEventsSubscription.unsubscribe(),null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}))})}isLinkActive(e){const i=function(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return a=>e.isActive(a.urlTree,i)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(mn),l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(l.sBO),l.Y36(mD,8),l.Y36(hf,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(e,i,a){if(1&e&&(l.Suo(a,mD,5),l.Suo(a,hf,5)),2&e){let u;l.iGM(u=l.CRH())&&(i.links=u),l.iGM(u=l.CRH())&&(i.linksWithHrefs=u)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[l.TTD]}),n})(),ff=(()=>{class n{constructor(e,i,a,u,f){this.parentContexts=e,this.location=i,this.resolver=a,this.changeDetector=f,this.activated=null,this._activatedRoute=null,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.name=u||yt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const f=(i=i||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),_=this.parentContexts.getOrCreateContext(this.name).children,b=new zv(e,_,this.location.injector);this.activated=this.location.createComponent(f,this.location.length,b),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Zu),l.Y36(l.s_b),l.Y36(l._Vd),l.$8M("name"),l.Y36(l.sBO))},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class zv{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Na?this.route:t===Zu?this.childContexts:this.parent.get(t,e)}}class Wv{}class $I{preload(t,e){return(0,Ve.of)(null)}}let yD=(()=>{class n{constructor(e,i,a,u,f){this.router=e,this.injector=u,this.preloadingStrategy=f,this.loader=new nm(i,a,D=>e.triggerEvent(new as(D)),D=>e.triggerEvent(new Aw(D)))}setUpPreloading(){this.subscription=this.router.events.pipe(os(e=>e instanceof Gh),jh(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(l.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const a=[];for(const u of i)if(u.loadChildren&&!u.canLoad&&u._loadedConfig){const f=u._loadedConfig;a.push(this.processRoutes(f.module,f.routes))}else u.loadChildren&&!u.canLoad?a.push(this.preloadConfig(e,u)):u.children&&a.push(this.processRoutes(e,u.children));return(0,bn.D)(a).pipe((0,Uh.J)(),(0,it.U)(u=>{}))}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?(0,Ve.of)(i._loadedConfig):this.loader.load(e.injector,i)).pipe((0,_i.zg)(u=>(i._loadedConfig=u,this.processRoutes(u.module,u.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(mn),l.LFG(l.v3s),l.LFG(l.Sil),l.LFG(l.zs3),l.LFG(Wv))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Zv=(()=>{class n{constructor(e,i,a={}){this.router=e,this.viewportScroller=i,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof xa?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Gh&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof mv&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new mv(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(mn),l.LFG(al),l.LFG(void 0))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Ba=new l.OlP("ROUTER_CONFIGURATION"),Yv=new l.OlP("ROUTER_FORROOT_GUARD"),zI=[Xe,{provide:Iv,useClass:Pw},{provide:mn,useFactory:function(n,t,e,i,a,u,f,_={},b,D){const I=new mn(null,n,t,e,i,a,u,vv(f));return b&&(I.urlHandlingStrategy=b),D&&(I.routeReuseStrategy=D),function(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy)}(_,I),_.enableTracing&&I.events.subscribe(A=>{var N,Y;null===(N=console.group)||void 0===N||N.call(console,`Router Event: ${A.constructor.name}`),console.log(A.toString()),console.log(A),null===(Y=console.groupEnd)||void 0===Y||Y.call(console)}),I},deps:[Iv,Zu,Xe,l.zs3,l.v3s,l.Sil,pD,Ba,[class{},new l.FiY],[class{},new l.FiY]]},Zu,{provide:Na,useFactory:function(n){return n.routerState.root},deps:[mn]},{provide:l.v3s,useClass:l.EAV},yD,$I,class{preload(t,e){return e().pipe(ka(()=>(0,Ve.of)(null)))}},{provide:Ba,useValue:{enableTracing:!1}}];function WI(){return new l.PXZ("Router",mn)}let qv=(()=>{class n{constructor(e,i){}static forRoot(e,i){return{ngModule:n,providers:[zI,pf(e),{provide:Yv,useFactory:bD,deps:[[mn,new l.FiY,new l.tp0]]},{provide:Ba,useValue:i||{}},{provide:ye,useFactory:ZI,deps:[Z,[new l.tBr(Se),new l.FiY],Ba]},{provide:Zv,useFactory:sm,deps:[mn,al,Ba]},{provide:Wv,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:$I},{provide:l.PXZ,multi:!0,useFactory:WI},[Kv,{provide:l.ip1,multi:!0,useFactory:XR,deps:[Kv]},{provide:CD,useFactory:qI,deps:[Kv]},{provide:l.tb,multi:!0,useExisting:CD}]]}}static forChild(e){return{ngModule:n,providers:[pf(e)]}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Yv,8),l.LFG(mn,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();function sm(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new Zv(n,t,e)}function ZI(n,t,e={}){return e.useHash?new tt(n,t):new $e(n,t)}function bD(n){return"guarded"}function pf(n){return[{provide:l.deG,multi:!0,useValue:n},{provide:pD,multi:!0,useValue:n}]}let Kv=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ft.xQ}appInitializer(){return this.injector.get(k,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const a=new Promise(_=>i=_),u=this.injector.get(mn),f=this.injector.get(Ba);return"disabled"===f.initialNavigation?(u.setUpLocationChangeListener(),i(!0)):"enabled"===f.initialNavigation||"enabledBlocking"===f.initialNavigation?(u.hooks.afterPreactivation=()=>this.initNavigation?(0,Ve.of)(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),u.initialNavigation()):i(!0),a})}bootstrapListener(e){const i=this.injector.get(Ba),a=this.injector.get(yD),u=this.injector.get(Zv),f=this.injector.get(mn),_=this.injector.get(l.z2F);e===_.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&f.initialNavigation(),a.setUpPreloading(),u.init(),f.resetRootComponentType(_.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.zs3))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function XR(n){return n.appInitializer.bind(n)}function qI(n){return n.bootstrapListener.bind(n)}const CD=new l.OlP("Router Initializer");let am=(()=>{class n{constructor(e,i){this.db=e,this.router=i,this.dbPath="stock",this.stockRef=e.list(this.dbPath),this.stockRefOne=e.list(this.dbPath)}createStock(e){return this.stockRef.push(e)}getAllStock(){return this.stockRef}updateBySale(e,i){return this.stockRef.update(e,i)}getOneItem(e){return this.stockRefOne=this.db.list(this.dbPath+"/"+e),this.stockRefOne.valueChanges()}removeItem(e){return this.stockRef.remove(e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(cv),l.LFG(mn))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var QI=x(1555);function lm(n,t){return new nn.y(e=>{const i=n.length;if(0===i)return void e.complete();const a=new Array(i);let u=0,f=0;for(let _=0;_<i;_++){const b=(0,bn.D)(n[_]);let D=!1;e.add(b.subscribe({next:I=>{D||(D=!0,f++),a[_]=I},error:I=>e.error(I),complete:()=>{u++,(u===i||!D)&&(f===i&&e.next(t?t.reduce((I,A,N)=>(I[A]=a[N],I),{}):a),e.complete())}}))}})}let ED=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n}),n})(),Ku=(()=>{class n extends ED{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const Ks=new l.OlP("NgValueAccessor"),XI={provide:Ks,useExisting:(0,l.Gpc)(()=>ur),multi:!0},cm=new l.OlP("CompositionEventMode");let ur=(()=>{class n extends ED{constructor(e,i,a){super(e,i),this._compositionMode=a,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=B()?B().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(cm,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&l.NdJ("input",function(u){return i._handleInput(u.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(u){return i._compositionEnd(u.target.value)})},features:[l._Bn([XI]),l.qOj]}),n})();const bi=new l.OlP("NgValidators"),Ua=new l.OlP("NgAsyncValidators");function AD(n){return null!=n}function tb(n){const t=(0,l.QGY)(n)?(0,bn.D)(n):n;return(0,l.CqO)(t),t}function _f(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function yf(n,t){return t.map(e=>e(n))}function Qu(n){return n.map(t=>function(n){return!n.validate}(t)?t:e=>t.validate(e))}function Qs(n){return null!=n?function(n){if(!n)return null;const t=n.filter(AD);return 0==t.length?null:function(e){return _f(yf(e,t))}}(Qu(n)):null}function ql(n){return null!=n?function(n){if(!n)return null;const t=n.filter(AD);return 0==t.length?null:function(e){return function(...n){if(1===n.length){const t=n[0];if((0,Bh.k)(t))return lm(t,null);if((0,QI.K)(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return lm(e.map(i=>t[i]),e)}}if("function"==typeof n[n.length-1]){const t=n.pop();return lm(n=1===n.length&&(0,Bh.k)(n[0])?n[0]:n,null).pipe((0,it.U)(e=>t(...e)))}return lm(n,null)}(yf(e,t).map(tb)).pipe((0,it.U)(_f))}}(Qu(n)):null}function tA(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function ot(n){return n._rawValidators}function dr(n){return n._rawAsyncValidators}function vf(n){return n?Array.isArray(n)?n:[n]:[]}function Js(n,t){return Array.isArray(n)?n.includes(t):n===t}function nA(n,t){const e=vf(t);return vf(n).forEach(a=>{Js(e,a)||e.push(a)}),e}function nb(n,t){return vf(t).filter(e=>!Js(n,e))}let ib=(()=>{class n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Qs(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=ql(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,i){return!!this.control&&this.control.hasError(e,i)}getError(e,i){return this.control?this.control.getError(e,i):null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n}),n})(),Gi=(()=>{class n extends ib{get formDirective(){return null}get path(){return null}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();class Vo extends ib{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class MD{constructor(t){this._cd=t}is(t){var e,i,a;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(a=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===a?void 0:a[t])}}let Ci=(()=>{class n extends MD{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Vo,2))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&l.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[l.qOj]}),n})(),Ju=(()=>{class n extends MD{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Gi,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&l.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[l.qOj]}),n})();function Ef(n,t){return[...t.path,n]}function Xs(n,t){pm(n,t),t.valueAccessor.writeValue(n.value),function(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&mm(n,t)})}(n,t),function(n,t){const e=(i,a)=>{t.valueAccessor.writeValue(i),a&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&mm(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function fm(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),wf(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Kl(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function pm(n,t){const e=ot(n);null!==t.validator?n.setValidators(tA(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=dr(n);null!==t.asyncValidator?n.setAsyncValidators(tA(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const a=()=>n.updateValueAndValidity();Kl(t._rawValidators,a),Kl(t._rawAsyncValidators,a)}function wf(n,t){let e=!1;if(null!==n){if(null!==t.validator){const a=ot(n);if(Array.isArray(a)&&a.length>0){const u=a.filter(f=>f!==t.validator);u.length!==a.length&&(e=!0,n.setValidators(u))}}if(null!==t.asyncValidator){const a=dr(n);if(Array.isArray(a)&&a.length>0){const u=a.filter(f=>f!==t.asyncValidator);u.length!==a.length&&(e=!0,n.setAsyncValidators(u))}}}const i=()=>{};return Kl(t._rawValidators,i),Kl(t._rawAsyncValidators,i),e}function mm(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function sA(n,t){pm(n,t)}function Ql(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function kD(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function lb(n,t){if(!t)return null;let e,i,a;return Array.isArray(t),t.forEach(u=>{u.constructor===ur?e=u:function(n){return Object.getPrototypeOf(n.constructor)===Ku}(u)?i=u:a=u}),a||i||e||null}function cb(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const Df="VALID",On="INVALID",ed="PENDING",Sf="DISABLED";function db(n){return(fb(n)?n.validators:n)||null}function xD(n){return Array.isArray(n)?Qs(n):n||null}function hb(n,t){return(fb(t)?t.asyncValidators:n)||null}function PD(n){return Array.isArray(n)?ql(n):n||null}function fb(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class pb{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=xD(this._rawValidators),this._composedAsyncValidatorFn=PD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Df}get invalid(){return this.status===On}get pending(){return this.status==ed}get disabled(){return this.status===Sf}get enabled(){return this.status!==Sf}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=xD(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=PD(t)}addValidators(t){this.setValidators(nA(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(nA(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(nb(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(nb(t,this._rawAsyncValidators))}hasValidator(t){return Js(this._rawValidators,t)}hasAsyncValidator(t){return Js(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=ed,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Sf,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Df,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Df||this.status===ed)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Sf:Df}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=ed,this._hasOwnPendingAsyncValidator=!0;const e=tb(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length))return null;let i=n;return t.forEach(a=>{i=i instanceof Tf?i.controls.hasOwnProperty(a)?i.controls[a]:null:i instanceof gb&&i.at(a)||null}),i}(this,t)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?Sf:this.errors?On:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ed)?ed:this._anyControlsHaveStatus(On)?On:Df}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){fb(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class ja extends pb{constructor(t=null,e,i){super(db(e),hb(i,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){cb(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){cb(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Tf extends pb{constructor(t,e,i){super(db(e),hb(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(i=>{this._throwIfControlMissing(i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,a)=>{i.reset(t[a],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e instanceof ja?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&t(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,i)=>((e.enabled||this.disabled)&&(t[i]=e.value),t))}_reduceChildren(t,e){let i=t;return this._forEachChild((a,u)=>{i=e(i,a,u)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,i)=>{if(void 0===t[i])throw new Error(`Must supply a value for form control with name: '${i}'.`)})}}class gb extends pb{constructor(t,e,i){super(db(e),hb(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((i,a)=>{this._throwIfControlMissing(a),this.at(a).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,a)=>{this.at(a)&&this.at(a).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,a)=>{i.reset(t[a],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof ja?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,i)=>{if(void 0===t[i])throw new Error(`Must supply a value for form control at index: ${i}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const ND={provide:Gi,useExisting:(0,l.Gpc)(()=>td)},If=(()=>Promise.resolve(null))();let td=(()=>{class n extends Gi{constructor(e,i){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new l.vpe,this.form=new Tf({},Qs(e),ql(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){If.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),Xs(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){If.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),cb(this._directives,e)})}addFormGroup(e){If.then(()=>{const i=this._findContainer(e.path),a=new Tf({});sA(a,e),i.registerControl(e.name,a),a.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){If.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){If.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,kD(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(bi,10),l.Y36(Ua,10))},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&l.NdJ("submit",function(u){return i.onSubmit(u)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([ND]),l.qOj]}),n})();const lA={provide:Vo,useExisting:(0,l.Gpc)(()=>Bo)},mb=(()=>Promise.resolve(null))();let Bo=(()=>{class n extends Vo{constructor(e,i,a,u){super(),this.control=new ja,this._registered=!1,this.update=new l.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(a),this.valueAccessor=lb(0,u)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),Ql(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?Ef(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Xs(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){mb.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const i=e.isDisabled.currentValue,a=""===i||i&&"false"!==i;mb.then(()=>{a&&!this.control.disabled?this.control.disable():!a&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Gi,9),l.Y36(bi,10),l.Y36(Ua,10),l.Y36(Ks,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l._Bn([lA]),l.qOj,l.TTD]}),n})(),_m=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const VD={provide:Ks,useExisting:(0,l.Gpc)(()=>ym),multi:!0};let ym=(()=>{class n extends Ku{writeValue(e){this.setProperty("value",null==e?"":e)}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,i){1&e&&l.NdJ("input",function(u){return i.onChange(u.target.value)})("blur",function(){return i.onTouched()})},features:[l._Bn([VD]),l.qOj]}),n})(),BD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const HD=new l.OlP("NgModelWithFormControlWarning"),yb={provide:Gi,useExisting:(0,l.Gpc)(()=>Af)};let Af=(()=>{class n extends Gi{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(wf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return Xs(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){fm(e.control||null,e,!1),cb(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,kD(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,a=this.form.get(e.path);i!==a&&(fm(i||null,e),a instanceof ja&&(Xs(a,e),e.control=a))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);sA(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function(n,t){return wf(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){pm(this.form,this),this._oldForm&&wf(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(bi,10),l.Y36(Ua,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&l.NdJ("submit",function(u){return i.onSubmit(u)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([yb]),l.qOj,l.TTD]}),n})();const GD={provide:Vo,useExisting:(0,l.Gpc)(()=>Mf)};let Mf=(()=>{class n extends Vo{constructor(e,i,a,u,f){super(),this._ngModelWarningConfig=f,this._added=!1,this.update=new l.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(a),this.valueAccessor=lb(0,u)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),Ql(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return Ef(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Gi,13),l.Y36(bi,10),l.Y36(Ua,10),l.Y36(Ks,10),l.Y36(HD,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l._Bn([GD]),l.qOj,l.TTD]}),n._ngModelWarningSentOnce=!1,n})();const yA={provide:bi,useExisting:(0,l.Gpc)(()=>Cm),multi:!0};let Cm=(()=>{class n{constructor(){this._required=!1}get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&"false"!=`${e}`,this._onChange&&this._onChange()}validate(e){return this.required?function(n){return function(n){return null==n||0===n.length}(n.value)?{required:!0}:null}(e):null}registerOnValidatorChange(e){this._onChange=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,i){2&e&&l.uIk("required",i.required?"":null)},inputs:{required:"required"},features:[l._Bn([yA])]}),n})(),e0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[BD]]}),n})(),EA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[e0]}),n})(),t0=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:HD,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[e0]}),n})(),Rf=(()=>{class n{group(e,i=null){const a=this._reduceControls(e);let _,u=null,f=null;return null!=i&&(function(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(i)?(u=null!=i.validators?i.validators:null,f=null!=i.asyncValidators?i.asyncValidators:null,_=null!=i.updateOn?i.updateOn:void 0):(u=null!=i.validator?i.validator:null,f=null!=i.asyncValidator?i.asyncValidator:null)),new Tf(a,{asyncValidators:f,updateOn:_,validators:u})}control(e,i,a){return new ja(e,i,a)}array(e,i,a){const u=e.map(f=>this._createControl(f));return new gb(u,i,a)}_reduceControls(e){const i={};return Object.keys(e).forEach(a=>{i[a]=this._createControl(e[a])}),i}_createControl(e){return e instanceof ja||e instanceof Tf||e instanceof gb?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=(0,l.Yz7)({factory:function(){return new n},token:n,providedIn:t0}),n})();function n0(n,t){1&n&&(l.TgZ(0,"span",15),l._uU(1,"please enter all input values"),l.qZA())}let r0=(()=>{class n{constructor(e,i,a){this.stockSer=e,this.router=i,this.formBuilder=a,this.date=new Date,this.showErr=!1,this.userForm=this.formBuilder.group({name:[""],code:[""],rackNo:[""],quantity:[""],price:[""],date:Hn(this.date,"yyyy-MM-dd","en-US")})}ngOnInit(){console.log(this.date)}onSubmit(){""==this.userForm.value.name||""==this.userForm.value.code||""==this.userForm.value.rackNo||""==this.userForm.value.quantity||""==this.userForm.value.price?this.showErr=!0:this.stockSer.createStock(this.userForm.value).then(()=>{this.router.navigate(["/dashboard/stock"])})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(am),l.Y36(mn),l.Y36(Rf))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-addnew"]],decls:32,vars:2,consts:[[1,"row"],[1,"col-md-2"],[1,"col-md-6"],[1,"title"],["method","post","novalidate","",3,"formGroup","ngSubmit"],[1,"mb-3"],["type","text","formControlName","name","required","",1,"form-control"],["type","text","formControlName","code","required","",1,"form-control"],["type","number","formControlName","rackNo","required","",1,"form-control"],["type","number","formControlName","quantity","required","",1,"form-control"],["type","number","formControlName","price","required","",1,"form-control"],[1,"mb-3",2,"display","inline-block"],["type","submit",1,"btn","btn-primary"],["class","text-danger",4,"ngIf"],[1,"col-md-3"],[1,"text-danger"]],template:function(e,i){1&e&&(l.TgZ(0,"div",0),l._UZ(1,"div",1),l.TgZ(2,"div",2),l.TgZ(3,"div",3),l._uU(4,"Add New Item"),l.qZA(),l.TgZ(5,"form",4),l.NdJ("ngSubmit",function(){return i.onSubmit()}),l.TgZ(6,"div",5),l.TgZ(7,"label"),l._uU(8,"Item Name"),l.qZA(),l._UZ(9,"input",6),l.qZA(),l.TgZ(10,"div",5),l.TgZ(11,"label"),l._uU(12,"Item Code"),l.qZA(),l._UZ(13,"input",7),l.qZA(),l.TgZ(14,"div",5),l.TgZ(15,"label"),l._uU(16,"Rack No"),l.qZA(),l._UZ(17,"input",8),l.qZA(),l.TgZ(18,"div",5),l.TgZ(19,"label"),l._uU(20,"Quantity"),l.qZA(),l._UZ(21,"input",9),l.qZA(),l.TgZ(22,"div",5),l.TgZ(23,"label"),l._uU(24,"Price"),l.qZA(),l._UZ(25,"input",10),l.qZA(),l.TgZ(26,"div",11),l.TgZ(27,"button",12),l._uU(28,"ADD"),l.qZA(),l._uU(29," \xa0 "),l.YNc(30,n0,2,0,"span",13),l.qZA(),l.qZA(),l.qZA(),l._UZ(31,"div",14),l.qZA()),2&e&&(l.xp6(5),l.Q6J("formGroup",i.userForm),l.xp6(25),l.Q6J("ngIf",i.showErr))},directives:[_m,Ju,Af,ur,Ci,Mf,Cm,ym,yr],styles:[".title[_ngcontent-%COMP%]{font-size:30px;color:#4169e1;margin-bottom:20px}.btn[_ngcontent-%COMP%]{padding:5px 25px}.col-md-6[_ngcontent-%COMP%]{border:1px solid royalblue;padding:40px}input[_ngcontent-%COMP%]{background:none;border:1px solid black}"]}),n})();const rd=function(){return{exact:!0}};let s0=(()=>{class n{constructor(e){this.router=e,this.date=Hn(new Date,"yyyy-MM-dd","en-US")}ngOnInit(){this.user=localStorage.getItem("username"),console.log(this.user),null==this.user&&this.router.navigate([""]),this.url=this.router.url,console.log(this.url)}logout(){localStorage.removeItem("username"),this.router.navigate([""])}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(mn))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-dashboard"]],decls:33,vars:11,consts:[[1,"container-fluid"],[1,"row","head"],[1,"col-md-4"],["src","assets/images/one.jpg","height","30px","alt","","srcset",""],[1,"col-md-4",2,"text-align","center","margin-top","5px"],[1,"comName"],[1,"btn","btn-outline-danger","btn-sm",2,"float","right",3,"click"],[2,"padding","5px","margin-right","5px","float","right","background-color","indigo","color","whitesmoke"],[1,"row"],[1,"col-md-2"],[1,"nav","flex-column"],[1,"nav-item","req"],["routerLink","/dashboard","routerLinkActive","home","aria-current","page","href","#",1,"nav-link",3,"routerLinkActiveOptions"],["routerLink","/dashboard/stock","routerLinkActive","stock","href","#",1,"nav-link",3,"routerLinkActiveOptions"],["routerLink","/dashboard/addnew","routerLinkActive","addnew","href","#",1,"nav-link",3,"routerLinkActiveOptions"],["routerLink","/dashboard/sale","routerLinkActive","sale","href","#",1,"nav-link",3,"routerLinkActiveOptions"],[1,"nav-item"],["routerLink","/dashboard/edit","routerLinkActive","edit","href","#",1,"nav-link",3,"routerLinkActiveOptions"],[1,"col-md-10"]],template:function(e,i){1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.TgZ(2,"div",2),l._UZ(3,"img",3),l.qZA(),l.TgZ(4,"div",4),l.TgZ(5,"span",5),l._uU(6,"KELUM ENGINEERING"),l.qZA(),l.qZA(),l.TgZ(7,"div",2),l.TgZ(8,"button",6),l.NdJ("click",function(){return i.logout()}),l._uU(9,"Logout"),l.qZA(),l.TgZ(10,"span",7),l._uU(11),l.qZA(),l.qZA(),l.qZA(),l._UZ(12,"br"),l.TgZ(13,"div",8),l.TgZ(14,"div",9),l.TgZ(15,"ul",10),l.TgZ(16,"li",11),l.TgZ(17,"a",12),l._uU(18,"Dashboard"),l.qZA(),l.qZA(),l.TgZ(19,"li",11),l.TgZ(20,"a",13),l._uU(21,"Stock"),l.qZA(),l.qZA(),l.TgZ(22,"li",11),l.TgZ(23,"a",14),l._uU(24,"Add New Item"),l.qZA(),l.qZA(),l.TgZ(25,"li",11),l.TgZ(26,"a",15),l._uU(27,"Sale Item"),l.qZA(),l.qZA(),l.TgZ(28,"li",16),l.TgZ(29,"a",17),l._uU(30,"About Us"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(31,"div",18),l._UZ(32,"router-outlet"),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.xp6(11),l.Oqu(i.date),l.xp6(6),l.Q6J("routerLinkActiveOptions",l.DdM(6,rd)),l.xp6(3),l.Q6J("routerLinkActiveOptions",l.DdM(7,rd)),l.xp6(3),l.Q6J("routerLinkActiveOptions",l.DdM(8,rd)),l.xp6(3),l.Q6J("routerLinkActiveOptions",l.DdM(9,rd)),l.xp6(3),l.Q6J("routerLinkActiveOptions",l.DdM(10,rd)))},directives:[hf,_D,ff],styles:[".nav[_ngcontent-%COMP%]{border:1px solid royalblue}.nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#4169e1}.nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]:hover   .nav-link[_ngcontent-%COMP%]{background-color:#4169e1;color:#eee}.container-fluid[_ngcontent-%COMP%]{min-height:100%}.head[_ngcontent-%COMP%]{padding:10px}.comName[_ngcontent-%COMP%]{color:red;font-size:30px;padding:3px}.req[_ngcontent-%COMP%]{border-bottom:1px solid royalblue}.home[_ngcontent-%COMP%]{background-color:#4169e1;color:#fff!important}.stock[_ngcontent-%COMP%]{background-color:#4169e1;color:#fff!important}.addnew[_ngcontent-%COMP%]{background-color:#4169e1;color:#fff!important}.sale[_ngcontent-%COMP%]{background-color:#4169e1;color:#fff!important}.edit[_ngcontent-%COMP%]{background-color:#4169e1;color:#fff!important}"]}),n})(),Em=(()=>{class n{constructor(e){this.db=e,this.orderList=[],this.i=0,this.date=new Date,this.dbPath="sale",this.saleRef=e.list(this.dbPath),this.saleOneRef=e.list(this.dbPath)}addItemList(e){this.orderList[this.i]=e,this.i++,console.log(this.orderList)}getItemList(){return this.orderList}addNewSale(e,i,a){return this.item={code:e,name:i,quantity:a,date:Hn(this.date,"yyyy-MM-dd","en-US")},this.date=Hn(this.date,"yyyy-MM-dd","en-US"),this.saleRef=this.db.list(this.dbPath+"/"+this.date),this.saleRef.push(this.item)}getOneItem(e){return this.saleOneRef=this.db.list(this.dbPath+"/"+e),this.saleOneRef.valueChanges()}getAll(){return this.saleRef.valueChanges()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(cv))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),SA=(()=>{class n{constructor(e,i){this.stockSer=e,this.saleSer=i,this.len=0,this.saleLen=0,this.cusLen=0,this.orderLen=0}ngOnInit(){this.getAll(),this.getAllSales()}getAll(){this.stockSer.getAllStock().snapshotChanges().pipe((0,it.U)(e=>e.map(i=>Object.assign({key:i.payload.key},i.payload.val())))).subscribe(e=>{this.len=e.length})}getAllSales(){this.saleSer.getAll().subscribe(e=>{this.saleLen=e.length})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(am),l.Y36(Em))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-default"]],decls:40,vars:4,consts:[[1,"row"],[1,"col-md-3"],[1,"box",2,"background-color","red","height","20vh","border-radius","5px","text-align","center"],[1,"title"],[1,"sectitle"],[1,"box",2,"background-color","green","height","20vh","border-radius","5px","text-align","center"],[1,"box",2,"background-color","blue","height","20vh","border-radius","5px","text-align","center"],[1,"box",2,"background-color","greenyellow","height","20vh","border-radius","5px","text-align","center"],[1,"container-fluid"],[1,"img"]],template:function(e,i){1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.TgZ(2,"div",2),l._UZ(3,"br"),l.TgZ(4,"span",3),l._uU(5,"ITEMS"),l.qZA(),l._UZ(6,"br"),l._UZ(7,"br"),l.TgZ(8,"span",4),l._uU(9),l.qZA(),l.qZA(),l.qZA(),l.TgZ(10,"div",1),l.TgZ(11,"div",5),l._UZ(12,"br"),l.TgZ(13,"span",3),l._uU(14,"SALES"),l.qZA(),l._UZ(15,"br"),l._UZ(16,"br"),l.TgZ(17,"span",4),l._uU(18),l.qZA(),l.qZA(),l.qZA(),l.TgZ(19,"div",1),l.TgZ(20,"div",6),l._UZ(21,"br"),l.TgZ(22,"span",3),l._uU(23,"ORDERS"),l.qZA(),l._UZ(24,"br"),l._UZ(25,"br"),l.TgZ(26,"span",4),l._uU(27),l.qZA(),l.qZA(),l.qZA(),l.TgZ(28,"div",1),l.TgZ(29,"div",7),l._UZ(30,"br"),l.TgZ(31,"span",3),l._uU(32,"CUSTOMERS"),l.qZA(),l._UZ(33,"br"),l._UZ(34,"br"),l.TgZ(35,"span",4),l._uU(36),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l._UZ(37,"br"),l.TgZ(38,"div",8),l._UZ(39,"div",9),l.qZA()),2&e&&(l.xp6(9),l.Oqu(i.len),l.xp6(9),l.Oqu(i.saleLen),l.xp6(9),l.Oqu(i.orderLen),l.xp6(9),l.Oqu(i.cusLen))},styles:[".box[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#fff;font-size:30px;font-family:Verdana,Geneva,Tahoma,sans-serif}.box[_ngcontent-%COMP%]   .sectitle[_ngcontent-%COMP%]{color:#fff;font-size:50px;margin-top:50px;font-family:Verdana,Geneva,Tahoma,sans-serif}.img[_ngcontent-%COMP%]{background-image:url(two.ae256a84953d2ea19171.jpg);height:400px;background-position:center;background-size:cover;background-repeat:no-repeat}@media screen and (max-width:1000px){.box[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:20px}}@media screen and (max-width:1000px){.box[_ngcontent-%COMP%]{margin:10px}.box[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:30px}.img[_ngcontent-%COMP%]{display:none}}"]}),n})(),o0=(()=>{class n{constructor(e){this.afAuth=e}SignUp(e,i){return this.afAuth.createUserWithEmailAndPassword(e,i).then(a=>{window.alert("You have been successfully registered"),console.log(a.user)}).catch(a=>{window.alert(a.message)})}LogIn(e,i){return this.afAuth.signInWithEmailAndPassword(e,i).then(a=>{}).catch(a=>{throw console.log("error"),a})}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(kg))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),a0=(()=>{class n{constructor(e,i){this.authSer=e,this.router=i}ngOnInit(){}login(){this.authSer.LogIn(this.email,this.password).then(e=>{localStorage.setItem("username",JSON.stringify(this.email)),this.router.navigate(["/dashboard"])}).catch(e=>{window.alert("Invalid Details")})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(o0),l.Y36(mn))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-login"]],decls:10,vars:2,consts:[[1,"container"],[1,"row"],[1,"title",2,"text-align","center"],[1,"col-md-2"],[1,"col-md-8"],["action",""],["type","email","name","email","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","password","name","password","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","submit","value","Login",1,"btn","btn-outline-primary",3,"click"]],template:function(e,i){1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.TgZ(2,"h2",2),l._uU(3,"Login Dashboard"),l.qZA(),l._UZ(4,"div",3),l.TgZ(5,"div",4),l.TgZ(6,"form",5),l.TgZ(7,"input",6),l.NdJ("ngModelChange",function(u){return i.email=u}),l.qZA(),l.TgZ(8,"input",7),l.NdJ("ngModelChange",function(u){return i.password=u}),l.qZA(),l.TgZ(9,"input",8),l.NdJ("click",function(){return i.login()}),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.xp6(7),l.Q6J("ngModel",i.email),l.xp6(1),l.Q6J("ngModel",i.password))},directives:[_m,Ju,td,ur,Cm,Ci,Bo],styles:[".container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-height:100vh}.title[_ngcontent-%COMP%]{font-size:30px;color:#4169e1}form[_ngcontent-%COMP%]{margin-top:50px}input[_ngcontent-%COMP%]{margin:10px 0}.row[_ngcontent-%COMP%]{border:1px solid blue;padding:20px}"]}),n})();function TA(n,t){if(1&n&&(l.TgZ(0,"tr"),l.TgZ(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td"),l._uU(6),l.qZA(),l.qZA()),2&n){const e=t.$implicit,i=t.index;l.xp6(2),l.Oqu(i+1),l.xp6(2),l.Oqu(e.code),l.xp6(2),l.Oqu(e.name)}}function IA(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"div",9),l.TgZ(1,"span",10),l._uU(2,"Nothing to sale details. If you done sales please selects the sales item from stock table "),l.qZA(),l._UZ(3,"br"),l.TgZ(4,"form",11),l.TgZ(5,"input",12),l.NdJ("ngModelChange",function(a){return l.CHM(e),l.oxw().searchdate=a}),l.qZA(),l._UZ(6,"br"),l.TgZ(7,"button",13),l.NdJ("click",function(){return l.CHM(e),l.oxw().getItem()}),l._uU(8,"search"),l.qZA(),l.qZA(),l.TgZ(9,"div",4),l.TgZ(10,"table",14),l.TgZ(11,"thead"),l.TgZ(12,"tr"),l.TgZ(13,"th"),l._uU(14,"No"),l.qZA(),l.TgZ(15,"th"),l._uU(16,"Item Code"),l.qZA(),l.TgZ(17,"th"),l._uU(18,"Item Name"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(19,"tbody"),l.YNc(20,TA,7,3,"tr",15),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&n){const e=l.oxw();l.xp6(5),l.Q6J("ngModel",e.searchdate),l.xp6(15),l.Q6J("ngForOf",e.searchSaleList)}}function AA(n,t){if(1&n&&(l.TgZ(0,"tr"),l.TgZ(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td"),l._uU(6),l.qZA(),l.qZA()),2&n){const e=t.$implicit,i=t.index;l.xp6(2),l.Oqu(i+1),l.xp6(2),l.Oqu(e.code),l.xp6(2),l.Oqu(e.name)}}function Of(n,t){if(1&n&&(l.TgZ(0,"table",14),l.TgZ(1,"thead"),l.TgZ(2,"tr"),l.TgZ(3,"th"),l._uU(4,"No"),l.qZA(),l.TgZ(5,"th"),l._uU(6,"Item Code"),l.qZA(),l.TgZ(7,"th"),l._uU(8,"Item Name"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(9,"tbody"),l.YNc(10,AA,7,3,"tr",15),l.qZA(),l.qZA()),2&n){const e=l.oxw();l.xp6(10),l.Q6J("ngForOf",e.saleList)}}function kf(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"button",16),l.NdJ("click",function(){return l.CHM(e),l.oxw().updateStock()}),l._uU(1,"Sale"),l.qZA()}}function MA(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"span"),l._uU(1,"Successfully "),l.TgZ(2,"a",17),l.NdJ("click",function(){return l.CHM(e),l.oxw().exit()}),l._uU(3,"show"),l.qZA(),l.qZA()}}let Sb=(()=>{class n{constructor(e,i,a){this.saleSer=e,this.stockSer=i,this.router=a,this.saleList=[],this.i=1,this.item=[],this.listLen=0,this.searchSaleList=[],this.show=!1}ngOnInit(){this.getList()}getList(){this.saleList=this.saleSer.getItemList(),this.listLen=this.saleList.length}updateStock(){this.saleList.forEach(e=>{this.stockSer.updateBySale(e.key,{quantity:e.quantity-1}).then(()=>{}),this.saleSer.addNewSale(e.code,e.name,e.quantity).then(()=>{this.show=!0,console.log("success sale")})})}getItem(){this.saleSer.getOneItem(this.searchdate).subscribe(e=>{this.searchSaleList=e,console.log(this.searchSaleList)})}exit(){this.saleList=[]}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Em),l.Y36(am),l.Y36(mn))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-sale"]],decls:10,vars:4,consts:[[1,"row"],[1,"col-md-2"],["class","col-md-6","style","text-align: center;",4,"ngIf"],[1,"col-md-6"],[1,"overflow-auto","tablediv"],["class","table",4,"ngIf"],["class","btn btn-sm btn-success",3,"click",4,"ngIf"],[4,"ngIf"],[1,"col-md-3"],[1,"col-md-6",2,"text-align","center"],[1,"warining"],["action",""],["type","date","name","searchDate","placeholder","Enter date to search sale like YYYY-MM-DD ",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-warning",3,"click"],[1,"table"],[4,"ngFor","ngForOf"],[1,"btn","btn-sm","btn-success",3,"click"],["routerLink","/dashboard/stock",3,"click"]],template:function(e,i){1&e&&(l.TgZ(0,"div",0),l._UZ(1,"div",1),l.YNc(2,IA,21,2,"div",2),l.TgZ(3,"div",3),l.TgZ(4,"div",4),l.YNc(5,Of,11,1,"table",5),l.YNc(6,kf,2,0,"button",6),l._UZ(7,"br"),l.YNc(8,MA,4,0,"span",7),l.qZA(),l.qZA(),l._UZ(9,"div",8),l.qZA()),2&e&&(l.xp6(2),l.Q6J("ngIf",i.listLen<1),l.xp6(3),l.Q6J("ngIf",i.listLen>0),l.xp6(1),l.Q6J("ngIf",i.listLen>0),l.xp6(2),l.Q6J("ngIf",i.show))},directives:[yr,_m,Ju,td,ur,Ci,Bo,Rt,hf],styles:["table[_ngcontent-%COMP%]{width:100%}.tablediv[_ngcontent-%COMP%]{height:60vh}"]}),n})(),eo=(()=>{class n{transform(e,i){return i&&e?n.filter(e,i):e}static filter(e,i){const a=i.toLowerCase();function u(f,_){for(let b in f)if(null!==f[b]&&null!=f[b]&&("object"==typeof f[b]&&u(f[b],_)||f[b].toString().toLowerCase().includes(a)))return!0;return!1}return e.filter(function(f){return u(f,i)})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=l.Yjl({name:"filter",type:n,pure:!1}),n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),RA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();function xf(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"div",10),l._uU(1," Are you sure Delete this item? "),l.TgZ(2,"button",11),l.NdJ("click",function(){return l.CHM(e),l.oxw().yesDelete()}),l._uU(3,"Yes"),l.qZA(),l._uU(4,"\xa0 "),l.TgZ(5,"button",12),l.NdJ("click",function(){return l.CHM(e),l.oxw().noDelete()}),l._uU(6,"No"),l.qZA(),l.qZA()}}function OA(n,t){if(1&n&&(l.TgZ(0,"td"),l.TgZ(1,"span",17),l._uU(2),l.qZA(),l.qZA()),2&n){const e=l.oxw().$implicit;l.xp6(2),l.Oqu(e.quantity)}}function kA(n,t){if(1&n&&(l.TgZ(0,"td"),l._uU(1),l.qZA()),2&n){const e=l.oxw().$implicit;l.xp6(1),l.Oqu(e.quantity)}}function yO(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"tr"),l.TgZ(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td"),l._uU(6),l.qZA(),l.TgZ(7,"td"),l._uU(8),l.qZA(),l.TgZ(9,"td"),l._uU(10),l.qZA(),l.YNc(11,OA,3,1,"td",13),l.YNc(12,kA,2,1,"td",13),l.TgZ(13,"td"),l._uU(14),l.qZA(),l.TgZ(15,"td"),l._uU(16),l.qZA(),l.TgZ(17,"td"),l.TgZ(18,"button",14),l.NdJ("click",function(){const u=l.CHM(e).$implicit;return l.oxw().addItem(u.key,u.code,u.name,u.quantity)}),l._uU(19,"Sale"),l.qZA(),l.TgZ(20,"button",15),l.NdJ("click",function(){const u=l.CHM(e).$implicit;return l.oxw().recItem(u.key,u.quantity,u.price)}),l._uU(21,"Receive"),l.qZA(),l.TgZ(22,"button",16),l.NdJ("click",function(){const u=l.CHM(e).$implicit;return l.oxw().show(u.key)}),l._uU(23,"Delete"),l.qZA(),l.qZA(),l.qZA()}if(2&n){const e=t.$implicit,i=t.index;l.xp6(2),l.Oqu(i+1),l.xp6(2),l.Oqu(e.key),l.xp6(2),l.Oqu(e.code),l.xp6(2),l.Oqu(e.name),l.xp6(2),l.Oqu(e.rackNo),l.xp6(1),l.Q6J("ngIf",e.quantity<=5),l.xp6(1),l.Q6J("ngIf",e.quantity>5),l.xp6(2),l.hij("Rs. ",e.price,""),l.xp6(2),l.Oqu(e.date)}}function Tb(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"div",8),l.TgZ(1,"form",18),l.TgZ(2,"input",19),l.NdJ("ngModelChange",function(a){return l.CHM(e),l.oxw().newQty=a}),l.qZA(),l.TgZ(3,"input",20),l.NdJ("ngModelChange",function(a){return l.CHM(e),l.oxw().newPrice=a}),l.qZA(),l.TgZ(4,"button",21),l.NdJ("click",function(){return l.CHM(e),l.oxw().updateItem()}),l._uU(5,"save"),l.qZA(),l.qZA(),l.qZA()}if(2&n){const e=l.oxw();l.xp6(2),l.Q6J("ngModel",e.newQty),l.xp6(1),l.s9C("value",e.newPrice),l.Q6J("ngModel",e.newPrice)}}const Ib=[{path:"",component:a0},{path:"dashboard",component:s0,children:[{path:"",component:SA},{path:"addnew",component:r0},{path:"stock",component:(()=>{class n{constructor(e,i){this.stockSer=e,this.sale=i,this.Items=[],this.searchTxt="",this.Qty=10,this.displayedColumns=["No","key","name","rackNo","quantity","price"],this.dataSource=null,this.uQty=0,this.isShow=!1,this.showDelete=!1}ngOnInit(){this.getAll()}getAll(){this.stockSer.getAllStock().snapshotChanges().pipe((0,it.U)(e=>e.map(i=>Object.assign({key:i.payload.key},i.payload.val())))).subscribe(e=>{this.Items=e,this.dataSource=this.Items,console.log(this.Items)})}increase(){this.Qty++}addItem(e,i,a,u){this.item={key:e,code:i,name:a,quantity:u},this.sale.addItemList(this.item)}recItem(e,i,a){this.isShow=!0,this.uKey=e,this.uQty=i,this.newPrice=a}updateItem(){this.stockSer.updateBySale(this.uKey,{price:this.newPrice,quantity:this.uQty+this.newQty}).then(()=>{this.isShow=!1,this.getAll()})}show(e){this.showDelete=!0,this.deleteKey=e}noDelete(){this.showDelete=!1,this.deleteKey=""}yesDelete(){this.stockSer.removeItem(this.deleteKey).then(()=>{this.getAll(),this.showDelete=!1})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(am),l.Y36(Em))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-stock"]],decls:37,vars:7,consts:[[1,"row"],[1,"col-md-4"],["type","text","id","searchTxt","placeholder","search item","name","searchTxt",1,"form-control","search",3,"ngModel","ngModelChange"],["style","display: inline-block;",4,"ngIf"],[1,"overflow-auto","tablediv"],[1,"table","table-striped","table-sm"],[4,"ngFor","ngForOf"],[1,"row","updateForm"],[1,"col-md-6"],["class","col-md-6",4,"ngIf"],[2,"display","inline-block"],[1,"btn","btn-sm","btn-outline-danger",3,"click"],[1,"btn","btn-sm","btn-outline-warning",3,"click"],[4,"ngIf"],["data-toggle","modal","data-target","#exampleModalLong",1,"btn","btn-success","btn-sm",2,"margin-right","2px",3,"click"],["data-toggle","modal",1,"btn","btn-primary","btn-sm",3,"click"],[1,"btn","btn-danger","btn-sm",3,"click"],[2,"color","red"],["action",""],["type","number","placeholder","Enter Quantity","name","newQty",3,"ngModel","ngModelChange"],["type","number","name","newPrice",3,"value","ngModel","ngModelChange"],[3,"click"]],template:function(e,i){1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.TgZ(2,"input",2),l.NdJ("ngModelChange",function(u){return i.searchTxt=u}),l.qZA(),l.qZA(),l._UZ(3,"div",1),l.TgZ(4,"div",1),l.YNc(5,xf,7,0,"div",3),l.qZA(),l.qZA(),l._UZ(6,"br"),l._UZ(7,"br"),l.TgZ(8,"div",4),l.TgZ(9,"table",5),l.TgZ(10,"thead"),l.TgZ(11,"tr"),l.TgZ(12,"th"),l._uU(13,"No"),l.qZA(),l.TgZ(14,"th"),l._uU(15,"Key"),l.qZA(),l.TgZ(16,"th"),l._uU(17,"Item Code"),l.qZA(),l.TgZ(18,"th"),l._uU(19,"Item Name"),l.qZA(),l.TgZ(20,"th"),l._uU(21,"Rack No"),l.qZA(),l.TgZ(22,"th"),l._uU(23,"Quantity"),l.qZA(),l.TgZ(24,"th"),l._uU(25,"Selling Price"),l.qZA(),l.TgZ(26,"th"),l._uU(27,"Date"),l.qZA(),l.TgZ(28,"th"),l._uU(29,"Action"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(30,"tbody"),l.YNc(31,yO,24,9,"tr",6),l.ALo(32,"filter"),l.qZA(),l.qZA(),l.qZA(),l._UZ(33,"br"),l.TgZ(34,"div",7),l._UZ(35,"div",8),l.YNc(36,Tb,6,3,"div",9),l.qZA()),2&e&&(l.xp6(2),l.Q6J("ngModel",i.searchTxt),l.xp6(3),l.Q6J("ngIf",i.showDelete),l.xp6(26),l.Q6J("ngForOf",l.xi3(32,4,i.Items,i.searchTxt)),l.xp6(5),l.Q6J("ngIf",i.isShow))},directives:[ur,Ci,Bo,yr,Rt,_m,Ju,td,ym],pipes:[eo],styles:["table[_ngcontent-%COMP%]{width:100%}.tablediv[_ngcontent-%COMP%]{height:60vh}.search[_ngcontent-%COMP%]{background:none;border:1px solid black;border-radius:50px}@media screen and (max-width:450px){.search[_ngcontent-%COMP%]{margin-top:10px}}"]}),n})()},{path:"sale",component:Sb}]}];let Ab=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[qv.forRoot(Ib)],qv]}),n})(),PA=(()=>{class n{constructor(){this.title="KelumEngineer"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(e,i){1&e&&l._UZ(0,"router-outlet")},directives:[ff],styles:[""]}),n})();class c0{}const Uo="*";function Mb(n,t=null){return{type:2,steps:n,options:t}}function Ei(n){return{type:6,styles:n,offset:null}}function si(n){Promise.resolve(null).then(n)}class gs{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){si(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class u0{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,a=0;const u=this.players.length;0==u?si(()=>this._onFinish()):this.players.forEach(f=>{f.onDone(()=>{++e==u&&this._onFinish()}),f.onDestroy(()=>{++i==u&&this._onDestroy()}),f.onStart(()=>{++a==u&&this._onStart()})}),this.totalTime=this.players.reduce((f,_)=>Math.max(f,_.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const a=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(a)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function jA(){return"undefined"!=typeof window&&void 0!==window.document}function nc(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Ga(n){switch(n.length){case 0:return new gs;case 1:return n[0];default:return new u0(n)}}function wm(n,t,e,i,a={},u={}){const f=[],_=[];let b=-1,D=null;if(i.forEach(I=>{const A=I.offset,N=A==b,Y=N&&D||{};Object.keys(I).forEach(ne=>{let be=ne,we=I[ne];if("offset"!==ne)switch(be=t.normalizePropertyName(be,f),we){case"!":we=a[ne];break;case Uo:we=u[ne];break;default:we=t.normalizeStyleValue(ne,be,we,f)}Y[be]=we}),N||_.push(Y),D=Y,b=A}),f.length){const I="\n - ";throw new Error(`Unable to animate due to the following errors:${I}${f.join(I)}`)}return _}function Ob(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&Dm(e,"start",n)));break;case"done":n.onDone(()=>i(e&&Dm(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&Dm(e,"destroy",n)))}}function Dm(n,t,e){const i=e.totalTime,u=kb(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==i?n.totalTime:i,!!e.disabled),f=n._data;return null!=f&&(u._data=f),u}function kb(n,t,e,i,a="",u=0,f){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:a,totalTime:u,disabled:!!f}}function hr(n,t,e){let i;return n instanceof Map?(i=n.get(t),i||n.set(t,i=e)):(i=n[t],i||(i=n[t]=e)),i}function Sm(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let Tm=(n,t)=>!1,sd=(n,t)=>!1,$A=(n,t,e)=>[];const h0=nc();(h0||"undefined"!=typeof Element)&&(Tm=jA()?(n,t)=>{for(;t&&t!==document.documentElement;){if(t===n)return!0;t=t.parentNode||t.host}return!1}:(n,t)=>n.contains(t),sd=(()=>{if(h0||Element.prototype.matches)return(n,t)=>n.matches(t);{const n=Element.prototype,t=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;return t?(e,i)=>t.apply(e,[i]):sd}})(),$A=(n,t,e)=>{let i=[];if(e){const a=n.querySelectorAll(t);for(let u=0;u<a.length;u++)i.push(a[u])}else{const a=n.querySelector(t);a&&i.push(a)}return i});let to=null,xb=!1;function Pb(n){to||(to=("undefined"!=typeof document?document.body:null)||{},xb=!!to.style&&"WebkitAppearance"in to.style);let t=!0;return to.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in to.style,!t&&xb&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in to.style)),t}const Nf=sd,Fb=Tm,Lb=$A;function Vb(n){const t={};return Object.keys(n).forEach(e=>{const i=e.replace(/([a-z])([A-Z])/g,"$1-$2");t[i]=n[e]}),t}let Bb=(()=>{class n{validateStyleProperty(e){return Pb(e)}matchesElement(e,i){return Nf(e,i)}containsElement(e,i){return Fb(e,i)}query(e,i,a){return Lb(e,i,a)}computeStyle(e,i,a){return a||""}animate(e,i,a,u,f,_=[],b){return new gs(a,u)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Im=(()=>{class n{}return n.NOOP=new Bb,n})();const Hb="ng-enter",Am="ng-leave",Ff="ng-trigger",Lf=".ng-trigger",jb="ng-animating",Mm=".ng-animating";function ic(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Gb(parseFloat(t[1]),t[2])}function Gb(n,t){switch(t){case"s":return 1e3*n;default:return n}}function Rm(n,t,e){return n.hasOwnProperty("duration")?n:function(n,t,e){let a,u=0,f="";if("string"==typeof n){const _=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===_)return t.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};a=Gb(parseFloat(_[1]),_[2]);const b=_[3];null!=b&&(u=Gb(parseFloat(b),_[4]));const D=_[5];D&&(f=D)}else a=n;if(!e){let _=!1,b=t.length;a<0&&(t.push("Duration values below 0 are not allowed for this animation step."),_=!0),u<0&&(t.push("Delay values below 0 are not allowed for this animation step."),_=!0),_&&t.splice(b,0,`The provided timing value "${n}" is invalid.`)}return{duration:a,delay:u,easing:f}}(n,t,e)}function Vf(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function rc(n,t,e={}){if(t)for(let i in n)e[i]=n[i];else Vf(n,e);return e}function qA(n,t,e){return e?t+":"+e+";":""}function KA(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=qA(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=qA(0,EO(e),n.style[e]));n.setAttribute("style",t)}function Ho(n,t,e){n.style&&(Object.keys(t).forEach(i=>{const a=_0(i);e&&!e.hasOwnProperty(i)&&(e[i]=n.style[a]),n.style[a]=t[i]}),nc()&&KA(n))}function od(n,t){n.style&&(Object.keys(t).forEach(e=>{const i=_0(e);n.style[i]=""}),nc()&&KA(n))}function Om(n){return Array.isArray(n)?1==n.length?n[0]:Mb(n):n}const m0=new RegExp("{{\\s*(.+?)\\s*}}","g");function QA(n){let t=[];if("string"==typeof n){let e;for(;e=m0.exec(n);)t.push(e[1]);m0.lastIndex=0}return t}function $b(n,t,e){const i=n.toString(),a=i.replace(m0,(u,f)=>{let _=t[f];return t.hasOwnProperty(f)||(e.push(`Please provide a value for the animation param ${f}`),_=""),_.toString()});return a==i?n:a}function zb(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const CO=/-+([a-z0-9])/g;function _0(n){return n.replace(CO,(...t)=>t[1].toUpperCase())}function EO(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function JA(n,t){return 0===n||0===t}function y0(n,t,e){const i=Object.keys(e);if(i.length&&t.length){let u=t[0],f=[];if(i.forEach(_=>{u.hasOwnProperty(_)||f.push(_),u[_]=e[_]}),f.length)for(var a=1;a<t.length;a++){let _=t[a];f.forEach(function(b){_[b]=Wb(n,b)})}}return t}function fr(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function Wb(n,t){return window.getComputedStyle(n)[t]}function wO(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function(n,t,e){if(":"==n[0]){const b=function(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,e);if("function"==typeof b)return void t.push(b);n=b}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(`The provided transition expression "${n}" is not supported`),t;const a=i[1],u=i[2],f=i[3];t.push(eM(a,f));"<"==u[0]&&!("*"==a&&"*"==f)&&t.push(eM(f,a))}(i,e,t)):e.push(n),e}const km=new Set(["true","1"]),xm=new Set(["false","0"]);function eM(n,t){const e=km.has(n)||xm.has(n),i=km.has(t)||xm.has(t);return(a,u)=>{let f="*"==n||n==a,_="*"==t||t==u;return!f&&e&&"boolean"==typeof a&&(f=a?km.has(n):xm.has(n)),!_&&i&&"boolean"==typeof u&&(_=u?km.has(t):xm.has(t)),f&&_}}const SO=new RegExp("s*:selfs*,?","g");function v0(n,t,e){return new TO(n).build(t,e)}class TO{constructor(t){this._driver=t}build(t,e){const i=new ad(e);return this._resetContextStyleTimingState(i),fr(this,Om(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,a=e.depCount=0;const u=[],f=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(_=>{if(this._resetContextStyleTimingState(e),0==_.type){const b=_,D=b.name;D.toString().split(/\s*,\s*/).forEach(I=>{b.name=I,u.push(this.visitState(b,e))}),b.name=D}else if(1==_.type){const b=this.visitTransition(_,e);i+=b.queryCount,a+=b.depCount,f.push(b)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:u,transitions:f,queryCount:i,depCount:a,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),a=t.options&&t.options.params||null;if(i.containsDynamicStyles){const u=new Set,f=a||{};if(i.styles.forEach(_=>{if(Pm(_)){const b=_;Object.keys(b).forEach(D=>{QA(b[D]).forEach(I=>{f.hasOwnProperty(I)||u.add(I)})})}}),u.size){const _=zb(u.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${_.join(", ")}`)}}return{type:0,name:t.name,style:i,options:a?{params:a}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=fr(this,Om(t.animation),e);return{type:1,matchers:wO(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:jo(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>fr(this,i,e)),options:jo(t.options)}}visitGroup(t,e){const i=e.currentTime;let a=0;const u=t.steps.map(f=>{e.currentTime=i;const _=fr(this,f,e);return a=Math.max(a,e.currentTime),_});return e.currentTime=a,{type:3,steps:u,options:jo(t.options)}}visitAnimate(t,e){const i=function(n,t){let e=null;if(n.hasOwnProperty("duration"))e=n;else if("number"==typeof n)return Nm(Rm(n,t).duration,0,"");const i=n;if(i.split(/\s+/).some(u=>"{"==u.charAt(0)&&"{"==u.charAt(1))){const u=Nm(0,0,"");return u.dynamic=!0,u.strValue=i,u}return e=e||Rm(i,t),Nm(e.duration,e.delay,e.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let a,u=t.styles?t.styles:Ei({});if(5==u.type)a=this.visitKeyframes(u,e);else{let f=t.styles,_=!1;if(!f){_=!0;const D={};i.easing&&(D.easing=i.easing),f=Ei(D)}e.currentTime+=i.duration+i.delay;const b=this.visitStyle(f,e);b.isEmptyStep=_,a=b}return e.currentAnimateTimings=null,{type:4,timings:i,style:a,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(f=>{"string"==typeof f?f==Uo?i.push(f):e.errors.push(`The provided style string value ${f} is not allowed.`):i.push(f)}):i.push(t.styles);let a=!1,u=null;return i.forEach(f=>{if(Pm(f)){const _=f,b=_.easing;if(b&&(u=b,delete _.easing),!a)for(let D in _)if(_[D].toString().indexOf("{{")>=0){a=!0;break}}}),{type:6,styles:i,easing:u,offset:t.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let a=e.currentTime,u=e.currentTime;i&&u>0&&(u-=i.duration+i.delay),t.styles.forEach(f=>{"string"!=typeof f&&Object.keys(f).forEach(_=>{if(!this._driver.validateStyleProperty(_))return void e.errors.push(`The provided animation property "${_}" is not a supported CSS property for animations`);const b=e.collectedStyles[e.currentQuerySelector],D=b[_];let I=!0;D&&(u!=a&&u>=D.startTime&&a<=D.endTime&&(e.errors.push(`The CSS property "${_}" that exists between the times of "${D.startTime}ms" and "${D.endTime}ms" is also being animated in a parallel animation between the times of "${u}ms" and "${a}ms"`),I=!1),u=D.startTime),I&&(b[_]={startTime:u,endTime:a}),e.options&&function(n,t,e){const i=t.params||{},a=QA(n);a.length&&a.forEach(u=>{i.hasOwnProperty(u)||e.push(`Unable to resolve the local animation param ${u} in the given list of values`)})}(f[_],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),i;let u=0;const f=[];let _=!1,b=!1,D=0;const I=t.steps.map(We=>{const Ze=this._makeStyleAst(We,e);let Ne=null!=Ze.offset?Ze.offset:function(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(Pm(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(Pm(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(Ze.styles),vt=0;return null!=Ne&&(u++,vt=Ze.offset=Ne),b=b||vt<0||vt>1,_=_||vt<D,D=vt,f.push(vt),Ze});b&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),_&&e.errors.push("Please ensure that all keyframe offsets are in order");const A=t.steps.length;let N=0;u>0&&u<A?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==u&&(N=1/(A-1));const Y=A-1,ne=e.currentTime,be=e.currentAnimateTimings,we=be.duration;return I.forEach((We,Ze)=>{const Ne=N>0?Ze==Y?1:N*Ze:f[Ze],vt=Ne*we;e.currentTime=ne+be.delay+vt,be.duration=vt,this._validateStyleAst(We,e),We.offset=Ne,i.styles.push(We)}),i}visitReference(t,e){return{type:8,animation:fr(this,Om(t.animation),e),options:jo(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:jo(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:jo(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,a=t.options||{};e.queryCount++,e.currentQuery=t;const[u,f]=function(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(SO,"")),[n=n.replace(/@\*/g,Lf).replace(/@\w+/g,e=>Lf+"-"+e.substr(1)).replace(/:animating/g,Mm),t]}(t.selector);e.currentQuerySelector=i.length?i+" "+u:u,hr(e.collectedStyles,e.currentQuerySelector,{});const _=fr(this,Om(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:u,limit:a.limit||0,optional:!!a.optional,includeSelf:f,animation:_,originalSelector:t.selector,options:jo(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:Rm(t.timings,e.errors,!0);return{type:12,animation:fr(this,Om(t.animation),e),timings:i,options:null}}}class ad{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Pm(n){return!Array.isArray(n)&&"object"==typeof n}function jo(n){return n?(n=Vf(n)).params&&(n.params=function(n){return n?Vf(n):null}(n.params)):n={},n}function Nm(n,t,e){return{duration:n,delay:t,easing:e}}function Fm(n,t,e,i,a,u,f=null,_=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:a,delay:u,totalTime:a+u,easing:f,subTimeline:_}}class Bf{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Lm=new RegExp(":enter","g"),AO=new RegExp(":leave","g");function D0(n,t,e,i,a,u={},f={},_,b,D=[]){return(new MO).buildKeyframes(n,t,e,i,a,u,f,_,b,D)}class MO{buildKeyframes(t,e,i,a,u,f,_,b,D,I=[]){D=D||new Bf;const A=new S0(t,e,D,a,u,I,[]);A.options=b,A.currentTimeline.setStyles([f],null,A.errors,b),fr(this,i,A);const N=A.timelines.filter(Y=>Y.containsAnimation());if(N.length&&Object.keys(_).length){const Y=N[N.length-1];Y.allowOnlyTimelineStyles()||Y.setStyles([_],null,A.errors,b)}return N.length?N.map(Y=>Y.buildKeyframes()):[Fm(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.consume(e.element);if(i){const a=e.createSubContext(t.options),u=e.currentTimeline.currentTime,f=this._visitSubInstructions(i,a,a.options);u!=f&&e.transformIntoNewTimeline(f)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let u=e.currentTimeline.currentTime;const f=null!=i.duration?ic(i.duration):null,_=null!=i.delay?ic(i.delay):null;return 0!==f&&t.forEach(b=>{const D=e.appendInstructionToTimeline(b,f,_);u=Math.max(u,D.duration+D.delay)}),u}visitReference(t,e){e.updateOptions(t.options,!0),fr(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let a=e;const u=t.options;if(u&&(u.params||u.delay)&&(a=e.createSubContext(u),a.transformIntoNewTimeline(),null!=u.delay)){6==a.previousNode.type&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=Vm);const f=ic(u.delay);a.delayNextStep(f)}t.steps.length&&(t.steps.forEach(f=>fr(this,f,a)),a.currentTimeline.applyStylesToKeyframe(),a.subContextCount>i&&a.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let a=e.currentTimeline.currentTime;const u=t.options&&t.options.delay?ic(t.options.delay):0;t.steps.forEach(f=>{const _=e.createSubContext(t.options);u&&_.delayNextStep(u),fr(this,f,_),a=Math.max(a,_.currentTimeline.currentTime),i.push(_.currentTimeline)}),i.forEach(f=>e.currentTimeline.mergeTimelineCollectedStyles(f)),e.transformIntoNewTimeline(a),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return Rm(e.params?$b(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),a=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),a.snapshotCurrentStyles());const u=t.style;5==u.type?this.visitKeyframes(u,e):(e.incrementTime(i.duration),this.visitStyle(u,e),a.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,a=e.currentAnimateTimings;!a&&i.getCurrentStyleProperties().length&&i.forwardFrame();const u=a&&a.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(u):i.setStyles(t.styles,u,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,a=e.currentTimeline.duration,u=i.duration,_=e.createSubContext().currentTimeline;_.easing=i.easing,t.styles.forEach(b=>{_.forwardTime((b.offset||0)*u),_.setStyles(b.styles,b.easing,e.errors,e.options),_.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(_),e.transformIntoNewTimeline(a+u),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,a=t.options||{},u=a.delay?ic(a.delay):0;u&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Vm);let f=i;const _=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!a.optional,e.errors);e.currentQueryTotal=_.length;let b=null;_.forEach((D,I)=>{e.currentQueryIndex=I;const A=e.createSubContext(t.options,D);u&&A.delayNextStep(u),D===e.element&&(b=A.currentTimeline),fr(this,t.animation,A),A.currentTimeline.applyStylesToKeyframe(),f=Math.max(f,A.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(f),b&&(e.currentTimeline.mergeTimelineCollectedStyles(b),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,a=e.currentTimeline,u=t.timings,f=Math.abs(u.duration),_=f*(e.currentQueryTotal-1);let b=f*e.currentQueryIndex;switch(u.duration<0?"reverse":u.easing){case"reverse":b=_-b;break;case"full":b=i.currentStaggerTime}const I=e.currentTimeline;b&&I.delayNextStep(b);const A=I.currentTime;fr(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=a.currentTime-A+(a.startTime-i.currentTimeline.startTime)}}const Vm={};class S0{constructor(t,e,i,a,u,f,_,b){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=a,this._leaveClassName=u,this.errors=f,this.timelines=_,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Vm,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=b||new sc(this._driver,e,0),_.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let a=this.options;null!=i.duration&&(a.duration=ic(i.duration)),null!=i.delay&&(a.delay=ic(i.delay));const u=i.params;if(u){let f=a.params;f||(f=this.options.params={}),Object.keys(u).forEach(_=>{(!e||!f.hasOwnProperty(_))&&(f[_]=$b(u[_],f,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(a=>{i[a]=e[a]})}}return t}createSubContext(t=null,e,i){const a=e||this.element,u=new S0(this._driver,a,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(a,i||0));return u.previousNode=this.previousNode,u.currentAnimateTimings=this.currentAnimateTimings,u.options=this._copyOptions(),u.updateOptions(t),u.currentQueryIndex=this.currentQueryIndex,u.currentQueryTotal=this.currentQueryTotal,u.parentContext=this,this.subContextCount++,u}transformIntoNewTimeline(t){return this.previousNode=Vm,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const a={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},u=new rM(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,a,t.stretchStartingKeyframe);return this.timelines.push(u),a}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,a,u,f){let _=[];if(a&&_.push(this.element),t.length>0){t=(t=t.replace(Lm,"."+this._enterClassName)).replace(AO,"."+this._leaveClassName);let D=this._driver.query(this.element,t,1!=i);0!==i&&(D=i<0?D.slice(D.length+i,D.length):D.slice(0,i)),_.push(...D)}return!u&&0==_.length&&f.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),_}}class sc{constructor(t,e,i,a){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=a,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new sc(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||Uo,this._currentKeyframe[e]=Uo}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,a){e&&(this._previousKeyframe.easing=e);const u=a&&a.params||{},f=function(n,t){const e={};let i;return n.forEach(a=>{"*"===a?(i=i||Object.keys(t),i.forEach(u=>{e[u]=Uo})):rc(a,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(f).forEach(_=>{const b=$b(f[_],u,i);this._pendingStyles[_]=b,this._localTimelineStyles.hasOwnProperty(_)||(this._backFill[_]=this._globalTimelineStyles.hasOwnProperty(_)?this._globalTimelineStyles[_]:Uo),this._updateStyle(_,b)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],a=t._styleSummary[e];(!i||a.time>i.time)&&this._updateStyle(e,a.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let a=[];this._keyframes.forEach((_,b)=>{const D=rc(_,!0);Object.keys(D).forEach(I=>{const A=D[I];"!"==A?t.add(I):A==Uo&&e.add(I)}),i||(D.offset=b/this.duration),a.push(D)});const u=t.size?zb(t.values()):[],f=e.size?zb(e.values()):[];if(i){const _=a[0],b=Vf(_);_.offset=0,b.offset=1,a=[_,b]}return Fm(this.element,a,u,f,this.duration,this.startTime,this.easing,!1)}}class rM extends sc{constructor(t,e,i,a,u,f,_=!1){super(t,e,f.delay),this.keyframes=i,this.preStyleProps=a,this.postStyleProps=u,this._stretchStartingKeyframe=_,this.timings={duration:f.duration,delay:f.delay,easing:f.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:a}=this.timings;if(this._stretchStartingKeyframe&&e){const u=[],f=i+e,_=e/f,b=rc(t[0],!1);b.offset=0,u.push(b);const D=rc(t[0],!1);D.offset=sM(_),u.push(D);const I=t.length-1;for(let A=1;A<=I;A++){let N=rc(t[A],!1);N.offset=sM((e+N.offset*i)/f),u.push(N)}i=f,e=0,a="",t=u}return Fm(this.element,t,this.preStyleProps,this.postStyleProps,i,e,a,!0)}}function sM(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class qb{}class OO extends qb{normalizePropertyName(t,e){return _0(t)}normalizeStyleValue(t,e,i,a){let u="";const f=i.toString().trim();if(xO[e]&&0!==i&&"0"!==i)if("number"==typeof i)u="px";else{const _=i.match(/^[+-]?[\d\.]+([a-z]*)$/);_&&0==_[1].length&&a.push(`Please provide a CSS unit value for ${t}:${i}`)}return f+u}}const xO=(()=>function(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function A0(n,t,e,i,a,u,f,_,b,D,I,A,N){return{type:0,element:n,triggerName:t,isRemovalTransition:a,fromState:e,fromStyles:u,toState:i,toStyles:f,timelines:_,queriedElements:b,preStyleProps:D,postStyleProps:I,totalTime:A,errors:N}}const M0={};class oM{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,a){return function(n,t,e,i,a){return n.some(u=>u(t,e,i,a))}(this.ast.matchers,t,e,i,a)}buildStyles(t,e,i){const a=this._stateStyles["*"],u=this._stateStyles[t],f=a?a.buildStyles(e,i):{};return u?u.buildStyles(e,i):f}build(t,e,i,a,u,f,_,b,D,I){const A=[],N=this.ast.options&&this.ast.options.params||M0,ne=this.buildStyles(i,_&&_.params||M0,A),be=b&&b.params||M0,we=this.buildStyles(a,be,A),We=new Set,Ze=new Map,Ne=new Map,vt="void"===a,Si={params:Object.assign(Object.assign({},N),be)},Qa=I?[]:D0(t,e,this.ast.animation,u,f,ne,we,Si,D,A);let mr=0;if(Qa.forEach(pc=>{mr=Math.max(pc.duration+pc.delay,mr)}),A.length)return A0(e,this._triggerName,i,a,vt,ne,we,[],[],Ze,Ne,mr,A);Qa.forEach(pc=>{const gc=pc.element,Ox=hr(Ze,gc,{});pc.preStyleProps.forEach(tp=>Ox[tp]=!0);const MC=hr(Ne,gc,{});pc.postStyleProps.forEach(tp=>MC[tp]=!0),gc!==e&&We.add(gc)});const fc=zb(We.values());return A0(e,this._triggerName,i,a,vt,ne,we,Qa,fc,Ze,Ne,mr)}}class Uf{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i={},a=Vf(this.defaultParams);return Object.keys(t).forEach(u=>{const f=t[u];null!=f&&(a[u]=f)}),this.styles.styles.forEach(u=>{if("string"!=typeof u){const f=u;Object.keys(f).forEach(_=>{let b=f[_];b.length>1&&(b=$b(b,a,e));const D=this.normalizer.normalizePropertyName(_,e);b=this.normalizer.normalizeStyleValue(_,D,b,e),i[D]=b})}}),i}}class cM{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(a=>{this.states[a.name]=new Uf(a.style,a.options&&a.options.params||{},i)}),Bm(this.states,"true","1"),Bm(this.states,"false","0"),e.transitions.forEach(a=>{this.transitionFactories.push(new oM(t,a,this.states))}),this.fallbackTransition=function(n,t,e){return new oM(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(f,_)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,a){return this.transitionFactories.find(f=>f.match(t,e,i,a))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function Bm(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const dM=new Bf;class pr{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],a=v0(this._driver,e,i);if(i.length)throw new Error(`Unable to build the animation due to the following errors: ${i.join("\n")}`);this._animations[t]=a}_buildPlayer(t,e,i){const a=t.element,u=wm(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(a,u,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const a=[],u=this._animations[t];let f;const _=new Map;if(u?(f=D0(this._driver,e,u,Hb,Am,{},{},i,dM,a),f.forEach(I=>{const A=hr(_,I.element,{});I.postStyleProps.forEach(N=>A[N]=null)})):(a.push("The requested animation doesn't exist or has already been destroyed"),f=[]),a.length)throw new Error(`Unable to create the animation due to the following errors: ${a.join("\n")}`);_.forEach((I,A)=>{Object.keys(I).forEach(N=>{I[N]=this._driver.computeStyle(A,N,Uo)})});const D=Ga(f.map(I=>{const A=_.get(I.element);return this._buildPlayer(I,{},A)}));return this._playersById[t]=D,D.onDestroy(()=>this.destroy(t)),this.players.push(D),D}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,i,a){const u=kb(e,"","","");return Ob(this._getPlayer(t),i,u,a),()=>{}}command(t,e,i,a){if("register"==i)return void this.register(t,a[0]);if("create"==i)return void this.create(t,e,a[0]||{});const u=this._getPlayer(t);switch(i){case"play":u.play();break;case"pause":u.pause();break;case"reset":u.reset();break;case"restart":u.restart();break;case"finish":u.finish();break;case"init":u.init();break;case"setPosition":u.setPosition(parseFloat(a[0]));break;case"destroy":this.destroy(t)}}}const R0="ng-animate-queued",O0="ng-animate-disabled",k0=".ng-animate-disabled",P0=[],N0={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},F0={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},gr="__ng_removed";class Jb{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function(n){return null!=n?n:null}(i?t.value:t),i){const u=Vf(t);delete u.value,this.options=u}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(a=>{null==i[a]&&(i[a]=e[a])})}}}const Hf="void",jf=new Jb(Hf);class L0{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,_s(e,this._hostClassName)}listen(t,e,i,a){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${i}" because the animation trigger "${e}" doesn't exist!`);if(null==i||0==i.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if(!function(n){return"start"==n||"done"==n}(i))throw new Error(`The provided animation trigger event "${i}" for the animation trigger "${e}" is not supported!`);const u=hr(this._elementListeners,t,[]),f={name:e,phase:i,callback:a};u.push(f);const _=hr(this._engine.statesByElement,t,{});return _.hasOwnProperty(e)||(_s(t,Ff),_s(t,Ff+"-"+e),_[e]=jf),()=>{this._engine.afterFlush(()=>{const b=u.indexOf(f);b>=0&&u.splice(b,1),this._triggers[e]||delete _[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,i,a=!0){const u=this._getTrigger(e),f=new Gf(this.id,e,t);let _=this._engine.statesByElement.get(t);_||(_s(t,Ff),_s(t,Ff+"-"+e),this._engine.statesByElement.set(t,_={}));let b=_[e];const D=new Jb(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&b&&D.absorbOptions(b.options),_[e]=D,b||(b=jf),D.value!==Hf&&b.value===D.value){if(!function(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let a=0;a<e.length;a++){const u=e[a];if(!t.hasOwnProperty(u)||n[u]!==t[u])return!1}return!0}(b.params,D.params)){const be=[],we=u.matchStyles(b.value,b.params,be),We=u.matchStyles(D.value,D.params,be);be.length?this._engine.reportError(be):this._engine.afterFlush(()=>{od(t,we),Ho(t,We)})}return}const N=hr(this._engine.playersByElement,t,[]);N.forEach(be=>{be.namespaceId==this.id&&be.triggerName==e&&be.queued&&be.destroy()});let Y=u.matchTransition(b.value,D.value,t,D.params),ne=!1;if(!Y){if(!a)return;Y=u.fallbackTransition,ne=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:Y,fromState:b,toState:D,player:f,isFallbackTransition:ne}),ne||(_s(t,R0),f.onStart(()=>{ld(t,R0)})),f.onDone(()=>{let be=this.players.indexOf(f);be>=0&&this.players.splice(be,1);const we=this._engine.playersByElement.get(t);if(we){let We=we.indexOf(f);We>=0&&we.splice(We,1)}}),this.players.push(f),N.push(f),f}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(a=>a.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,Lf,!0);i.forEach(a=>{if(a[gr])return;const u=this._engine.fetchNamespacesByElement(a);u.size?u.forEach(f=>f.triggerLeaveAnimation(a,e,!1,!0)):this.clearElementCache(a)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(a=>this.clearElementCache(a)))}triggerLeaveAnimation(t,e,i,a){const u=this._engine.statesByElement.get(t);if(u){const f=[];if(Object.keys(u).forEach(_=>{if(this._triggers[_]){const b=this.trigger(t,_,Hf,a);b&&f.push(b)}}),f.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),i&&Ga(f).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const a=new Set;e.forEach(u=>{const f=u.name;if(a.has(f))return;a.add(f);const b=this._triggers[f].fallbackTransition,D=i[f]||jf,I=new Jb(Hf),A=new Gf(this.id,f,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:f,transition:b,fromState:D,toState:I,player:A,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let a=!1;if(i.totalAnimations){const u=i.players.length?i.playersByQueriedElement.get(t):[];if(u&&u.length)a=!0;else{let f=t;for(;f=f.parentNode;)if(i.statesByElement.get(f)){a=!0;break}}}if(this.prepareLeaveAnimationListeners(t),a)i.markElementAsRemoved(this.id,t,!1,e);else{const u=t[gr];(!u||u===N0)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){_s(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const a=i.player;if(a.destroyed)return;const u=i.element,f=this._elementListeners.get(u);f&&f.forEach(_=>{if(_.name==i.triggerName){const b=kb(u,i.triggerName,i.fromState.value,i.toState.value);b._data=t,Ob(i.player,_.phase,b,_.callback)}}),a.markedForDestroy?this._engine.afterFlush(()=>{a.destroy()}):e.push(i)}),this._queue=[],e.sort((i,a)=>{const u=i.transition.ast.depCount,f=a.transition.ast.depCount;return 0==u||0==f?u-f:this._engine.driver.containsElement(i.element,a.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class V0{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(a,u)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new L0(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList.length-1;if(i>=0){let a=!1;for(let u=i;u>=0;u--)if(this.driver.containsElement(this._namespaceList[u].hostElement,e)){this._namespaceList.splice(u+1,0,t),a=!0;break}a||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let a=this._namespaceLookup[t];a&&a.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const a=this._namespaceList.indexOf(i);a>=0&&this._namespaceList.splice(a,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const a=Object.keys(i);for(let u=0;u<a.length;u++){const f=i[a[u]].namespaceId;if(f){const _=this._fetchNamespace(f);_&&e.add(_)}}}return e}trigger(t,e,i,a){if(Um(e)){const u=this._fetchNamespace(t);if(u)return u.trigger(e,i,a),!0}return!1}insertNode(t,e,i,a){if(!Um(e))return;const u=e[gr];if(u&&u.setForRemoval){u.setForRemoval=!1,u.setForMove=!0;const f=this.collectedLeaveElements.indexOf(e);f>=0&&this.collectedLeaveElements.splice(f,1)}if(t){const f=this._fetchNamespace(t);f&&f.insertNode(e,i)}a&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),_s(t,O0)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),ld(t,O0))}removeNode(t,e,i,a){if(Um(e)){const u=t?this._fetchNamespace(t):null;if(u?u.removeNode(e,a):this.markElementAsRemoved(t,e,!1,a),i){const f=this.namespacesByHostElement.get(e);f&&f.id!==t&&f.removeNode(e,a)}}else this._onRemovalComplete(e,a)}markElementAsRemoved(t,e,i,a){this.collectedLeaveElements.push(e),e[gr]={namespaceId:t,setForRemoval:a,hasAnimation:i,removedBeforeQueried:!1}}listen(t,e,i,a,u){return Um(e)?this._fetchNamespace(t).listen(e,i,a,u):()=>{}}_buildInstruction(t,e,i,a,u){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,a,t.fromState.options,t.toState.options,e,u)}destroyInnerAnimations(t){let e=this.driver.query(t,Lf,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Mm,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Ga(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[gr];if(e&&e.setForRemoval){if(t[gr]=N0,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,k0)&&this.markElementAsDisabled(t,!1),this.driver.query(t,k0,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,a)=>this._balanceNamespaceList(i,a)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)_s(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let a=0;a<i.length;a++)i[a]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Ga(e).onDone(()=>{i.forEach(a=>a())}):i.forEach(a=>a())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const i=new Bf,a=[],u=new Map,f=[],_=new Map,b=new Map,D=new Map,I=new Set;this.disabledNodes.forEach(xe=>{I.add(xe);const Ye=this.driver.query(xe,".ng-animate-queued",!0);for(let dt=0;dt<Ye.length;dt++)I.add(Ye[dt])});const A=this.bodyNode,N=Array.from(this.statesByElement.keys()),Y=U0(N,this.collectedEnterElements),ne=new Map;let be=0;Y.forEach((xe,Ye)=>{const dt=Hb+be++;ne.set(Ye,dt),xe.forEach(Lt=>_s(Lt,dt))});const we=[],We=new Set,Ze=new Set;for(let xe=0;xe<this.collectedLeaveElements.length;xe++){const Ye=this.collectedLeaveElements[xe],dt=Ye[gr];dt&&dt.setForRemoval&&(we.push(Ye),We.add(Ye),dt.hasAnimation?this.driver.query(Ye,".ng-star-inserted",!0).forEach(Lt=>We.add(Lt)):Ze.add(Ye))}const Ne=new Map,vt=U0(N,Array.from(We));vt.forEach((xe,Ye)=>{const dt=Am+be++;Ne.set(Ye,dt),xe.forEach(Lt=>_s(Lt,dt))}),t.push(()=>{Y.forEach((xe,Ye)=>{const dt=ne.get(Ye);xe.forEach(Lt=>ld(Lt,dt))}),vt.forEach((xe,Ye)=>{const dt=Ne.get(Ye);xe.forEach(Lt=>ld(Lt,dt))}),we.forEach(xe=>{this.processLeaveNode(xe)})});const Si=[],Qa=[];for(let xe=this._namespaceList.length-1;xe>=0;xe--)this._namespaceList[xe].drainQueuedTransitions(e).forEach(dt=>{const Lt=dt.player,ai=dt.element;if(Si.push(Lt),this.collectedEnterElements.length){const Xa=ai[gr];if(Xa&&Xa.setForMove)return void Lt.destroy()}const Ja=!A||!this.driver.containsElement(A,ai),Es=Ne.get(ai),vd=ne.get(ai),Tn=this._buildInstruction(dt,i,vd,Es,Ja);if(Tn.errors&&Tn.errors.length)Qa.push(Tn);else{if(Ja)return Lt.onStart(()=>od(ai,Tn.fromStyles)),Lt.onDestroy(()=>Ho(ai,Tn.toStyles)),void a.push(Lt);if(dt.isFallbackTransition)return Lt.onStart(()=>od(ai,Tn.fromStyles)),Lt.onDestroy(()=>Ho(ai,Tn.toStyles)),void a.push(Lt);Tn.timelines.forEach(Xa=>Xa.stretchStartingKeyframe=!0),i.append(ai,Tn.timelines),f.push({instruction:Tn,player:Lt,element:ai}),Tn.queriedElements.forEach(Xa=>hr(_,Xa,[]).push(Lt)),Tn.preStyleProps.forEach((Xa,RC)=>{const MS=Object.keys(Xa);if(MS.length){let np=b.get(RC);np||b.set(RC,np=new Set),MS.forEach(gR=>np.add(gR))}}),Tn.postStyleProps.forEach((Xa,RC)=>{const MS=Object.keys(Xa);let np=D.get(RC);np||D.set(RC,np=new Set),MS.forEach(gR=>np.add(gR))})}});if(Qa.length){const xe=[];Qa.forEach(Ye=>{xe.push(`@${Ye.triggerName} has failed due to:\n`),Ye.errors.forEach(dt=>xe.push(`- ${dt}\n`))}),Si.forEach(Ye=>Ye.destroy()),this.reportError(xe)}const mr=new Map,fc=new Map;f.forEach(xe=>{const Ye=xe.element;i.has(Ye)&&(fc.set(Ye,Ye),this._beforeAnimationBuild(xe.player.namespaceId,xe.instruction,mr))}),a.forEach(xe=>{const Ye=xe.element;this._getPreviousPlayers(Ye,!1,xe.namespaceId,xe.triggerName,null).forEach(Lt=>{hr(mr,Ye,[]).push(Lt),Lt.destroy()})});const pc=we.filter(xe=>$0(xe,b,D)),gc=new Map;fM(gc,this.driver,Ze,D,Uo).forEach(xe=>{$0(xe,b,D)&&pc.push(xe)});const MC=new Map;Y.forEach((xe,Ye)=>{fM(MC,this.driver,new Set(xe),b,"!")}),pc.forEach(xe=>{const Ye=gc.get(xe),dt=MC.get(xe);gc.set(xe,Object.assign(Object.assign({},Ye),dt))});const tp=[],kx=[],xx={};f.forEach(xe=>{const{element:Ye,player:dt,instruction:Lt}=xe;if(i.has(Ye)){if(I.has(Ye))return dt.onDestroy(()=>Ho(Ye,Lt.toStyles)),dt.disabled=!0,dt.overrideTotalTime(Lt.totalTime),void a.push(dt);let ai=xx;if(fc.size>1){let Es=Ye;const vd=[];for(;Es=Es.parentNode;){const Tn=fc.get(Es);if(Tn){ai=Tn;break}vd.push(Es)}vd.forEach(Tn=>fc.set(Tn,ai))}const Ja=this._buildAnimation(dt.namespaceId,Lt,mr,u,MC,gc);if(dt.setRealPlayer(Ja),ai===xx)tp.push(dt);else{const Es=this.playersByElement.get(ai);Es&&Es.length&&(dt.parentPlayer=Ga(Es)),a.push(dt)}}else od(Ye,Lt.fromStyles),dt.onDestroy(()=>Ho(Ye,Lt.toStyles)),kx.push(dt),I.has(Ye)&&a.push(dt)}),kx.forEach(xe=>{const Ye=u.get(xe.element);if(Ye&&Ye.length){const dt=Ga(Ye);xe.setRealPlayer(dt)}}),a.forEach(xe=>{xe.parentPlayer?xe.syncPlayerEvents(xe.parentPlayer):xe.destroy()});for(let xe=0;xe<we.length;xe++){const Ye=we[xe],dt=Ye[gr];if(ld(Ye,Am),dt&&dt.hasAnimation)continue;let Lt=[];if(_.size){let Ja=_.get(Ye);Ja&&Ja.length&&Lt.push(...Ja);let Es=this.driver.query(Ye,Mm,!0);for(let vd=0;vd<Es.length;vd++){let Tn=_.get(Es[vd]);Tn&&Tn.length&&Lt.push(...Tn)}}const ai=Lt.filter(Ja=>!Ja.destroyed);ai.length?H0(this,Ye,ai):this.processLeaveNode(Ye)}return we.length=0,tp.forEach(xe=>{this.players.push(xe),xe.onDone(()=>{xe.destroy();const Ye=this.players.indexOf(xe);this.players.splice(Ye,1)}),xe.play()}),tp}elementContainsData(t,e){let i=!1;const a=e[gr];return a&&a.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,a,u){let f=[];if(e){const _=this.playersByQueriedElement.get(t);_&&(f=_)}else{const _=this.playersByElement.get(t);if(_){const b=!u||u==Hf;_.forEach(D=>{D.queued||!b&&D.triggerName!=a||f.push(D)})}}return(i||a)&&(f=f.filter(_=>!(i&&i!=_.namespaceId||a&&a!=_.triggerName))),f}_beforeAnimationBuild(t,e,i){const u=e.element,f=e.isRemovalTransition?void 0:t,_=e.isRemovalTransition?void 0:e.triggerName;for(const b of e.timelines){const D=b.element,I=D!==u,A=hr(i,D,[]);this._getPreviousPlayers(D,I,f,_,e.toState).forEach(Y=>{const ne=Y.getRealPlayer();ne.beforeDestroy&&ne.beforeDestroy(),Y.destroy(),A.push(Y)})}od(u,e.fromStyles)}_buildAnimation(t,e,i,a,u,f){const _=e.triggerName,b=e.element,D=[],I=new Set,A=new Set,N=e.timelines.map(ne=>{const be=ne.element;I.add(be);const we=be[gr];if(we&&we.removedBeforeQueried)return new gs(ne.duration,ne.delay);const We=be!==b,Ze=function(n){const t=[];return j0(n,t),t}((i.get(be)||P0).map(mr=>mr.getRealPlayer())).filter(mr=>!!mr.element&&mr.element===be),Ne=u.get(be),vt=f.get(be),Si=wm(0,this._normalizer,0,ne.keyframes,Ne,vt),Qa=this._buildPlayer(ne,Si,Ze);if(ne.subTimeline&&a&&A.add(be),We){const mr=new Gf(t,_,be);mr.setRealPlayer(Qa),D.push(mr)}return Qa});D.forEach(ne=>{hr(this.playersByQueriedElement,ne.element,[]).push(ne),ne.onDone(()=>function(n,t,e){let i;if(n instanceof Map){if(i=n.get(t),i){if(i.length){const a=i.indexOf(e);i.splice(a,1)}0==i.length&&n.delete(t)}}else if(i=n[t],i){if(i.length){const a=i.indexOf(e);i.splice(a,1)}0==i.length&&delete n[t]}return i}(this.playersByQueriedElement,ne.element,ne))}),I.forEach(ne=>_s(ne,jb));const Y=Ga(N);return Y.onDestroy(()=>{I.forEach(ne=>ld(ne,jb)),Ho(b,e.toStyles)}),A.forEach(ne=>{hr(a,ne,[]).push(Y)}),Y}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new gs(t.duration,t.delay)}}class Gf{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new gs,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>Ob(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){hr(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Um(n){return n&&1===n.nodeType}function B0(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function fM(n,t,e,i,a){const u=[];e.forEach(b=>u.push(B0(b)));const f=[];i.forEach((b,D)=>{const I={};b.forEach(A=>{const N=I[A]=t.computeStyle(D,A,a);(!N||0==N.length)&&(D[gr]=F0,f.push(D))}),n.set(D,I)});let _=0;return e.forEach(b=>B0(b,u[_++])),f}function U0(n,t){const e=new Map;if(n.forEach(_=>e.set(_,[])),0==t.length)return e;const a=new Set(t),u=new Map;function f(_){if(!_)return 1;let b=u.get(_);if(b)return b;const D=_.parentNode;return b=e.has(D)?D:a.has(D)?1:f(D),u.set(_,b),b}return t.forEach(_=>{const b=f(_);1!==b&&e.get(b).push(_)}),e}const Hm="$$classes";function _s(n,t){if(n.classList)n.classList.add(t);else{let e=n[Hm];e||(e=n[Hm]={}),e[t]=!0}}function ld(n,t){if(n.classList)n.classList.remove(t);else{let e=n[Hm];e&&delete e[t]}}function H0(n,t,e){Ga(e).onDone(()=>n.processLeaveNode(t))}function j0(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof u0?j0(i.players,t):t.push(i)}}function $0(n,t,e){const i=e.get(n);if(!i)return!1;let a=t.get(n);return a?i.forEach(u=>a.add(u)):t.set(n,i),e.delete(n),!0}class Xb{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(a,u)=>{},this._transitionEngine=new V0(t,e,i),this._timelineEngine=new pr(t,e,i),this._transitionEngine.onRemovalComplete=(a,u)=>this.onRemovalComplete(a,u)}registerTrigger(t,e,i,a,u){const f=t+"-"+a;let _=this._triggerCache[f];if(!_){const b=[],D=v0(this._driver,u,b);if(b.length)throw new Error(`The animation trigger "${a}" has failed to build due to the following errors:\n - ${b.join("\n - ")}`);_=function(n,t,e){return new cM(n,t,e)}(a,D,this._normalizer),this._triggerCache[f]=_}this._transitionEngine.registerTrigger(e,a,_)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,a){this._transitionEngine.insertNode(t,e,i,a)}onRemove(t,e,i,a){this._transitionEngine.removeNode(t,e,a||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,a){if("@"==i.charAt(0)){const[u,f]=Sm(i);this._timelineEngine.command(u,e,f,a)}else this._transitionEngine.trigger(t,e,i,a)}listen(t,e,i,a,u){if("@"==i.charAt(0)){const[f,_]=Sm(i);return this._timelineEngine.listen(f,e,_,u)}return this._transitionEngine.listen(t,e,i,a,u)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function eC(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=tC(t[0]),t.length>1&&(i=tC(t[t.length-1]))):t&&(e=tC(t)),e||i?new z0(n,e,i):null}let z0=(()=>{class n{constructor(e,i,a){this._element=e,this._startStyles=i,this._endStyles=a,this._state=0;let u=n.initialStylesByElement.get(e);u||n.initialStylesByElement.set(e,u={}),this._initialStyles=u}start(){this._state<1&&(this._startStyles&&Ho(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ho(this._element,this._initialStyles),this._endStyles&&(Ho(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(od(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(od(this._element,this._endStyles),this._endStyles=null),Ho(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function tC(n){let t=null;const e=Object.keys(n);for(let i=0;i<e.length;i++){const a=e[i];gM(a)&&(t=t||{},t[a]=n[a])}return t}function gM(n){return"display"===n||"position"===n}const cd="animation",jm="animationend";class mM{constructor(t,e,i,a,u,f,_){this._element=t,this._name=e,this._duration=i,this._delay=a,this._easing=u,this._fillMode=f,this._onDoneFn=_,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=b=>this._handleCallback(b)}apply(){(function(n,t){const e=iC(n,"").trim();let i=0;e.length&&(function(n,t){let e=0;for(let i=0;i<n.length;i++)","===n.charAt(i)&&e++;return e}(e)+1,t=`${e}, ${t}`),$m(n,"",t)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),nC(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Y0(this._element,this._name,"paused")}resume(){Y0(this._element,this._name,"running")}setPosition(t){const e=_M(this._element,this._name);this._position=t*this._duration,$m(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),i=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&i>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),nC(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,t){const i=iC(n,"").split(","),a=Gm(i,t);a>=0&&(i.splice(a,1),$m(n,"",i.join(",")))}(this._element,this._name))}}function Y0(n,t,e){$m(n,"PlayState",e,_M(n,t))}function _M(n,t){const e=iC(n,"");return e.indexOf(",")>0?Gm(e.split(","),t):Gm([e],t)}function Gm(n,t){for(let e=0;e<n.length;e++)if(n[e].indexOf(t)>=0)return e;return-1}function nC(n,t,e){e?n.removeEventListener(jm,t):n.addEventListener(jm,t)}function $m(n,t,e,i){const a=cd+t;if(null!=i){const u=n.style[a];if(u.length){const f=u.split(",");f[i]=e,e=f.join(",")}}n.style[a]=e}function iC(n,t){return n.style[cd+t]||""}class bM{constructor(t,e,i,a,u,f,_,b){this.element=t,this.keyframes=e,this.animationName=i,this._duration=a,this._delay=u,this._finalStyles=_,this._specialStyles=b,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=f||"linear",this.totalTime=a+u,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new mM(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(i=>{"offset"!=i&&(t[i]=e?this._finalStyles[i]:Wb(this.element,i))})}this.currentSnapshot=t}}class VO extends gs{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=Vb(e)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class kn{constructor(){this._count=0}validateStyleProperty(t){return Pb(t)}matchesElement(t,e){return Nf(t,e)}containsElement(t,e){return Fb(t,e)}query(t,e,i){return Lb(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,i){i=i.map(_=>Vb(_));let a=`@keyframes ${e} {\n`,u="";i.forEach(_=>{u=" ";const b=parseFloat(_.offset);a+=`${u}${100*b}% {\n`,u+=" ",Object.keys(_).forEach(D=>{const I=_[D];switch(D){case"offset":return;case"easing":return void(I&&(a+=`${u}animation-timing-function: ${I};\n`));default:return void(a+=`${u}${D}: ${I};\n`)}}),a+=`${u}}\n`}),a+="}\n";const f=document.createElement("style");return f.textContent=a,f}animate(t,e,i,a,u,f=[],_){const b=f.filter(we=>we instanceof bM),D={};JA(i,a)&&b.forEach(we=>{let We=we.currentSnapshot;Object.keys(We).forEach(Ze=>D[Ze]=We[Ze])});const I=function(n){let t={};return n&&(Array.isArray(n)?n:[n]).forEach(i=>{Object.keys(i).forEach(a=>{"offset"==a||"easing"==a||(t[a]=i[a])})}),t}(e=y0(t,e,D));if(0==i)return new VO(t,I);const A="gen_css_kf_"+this._count++,N=this.buildKeyframeElement(t,A,e);(function(n){var t;const e=null===(t=n.getRootNode)||void 0===t?void 0:t.call(n);return"undefined"!=typeof ShadowRoot&&e instanceof ShadowRoot?e:document.head})(t).appendChild(N);const ne=eC(t,e),be=new bM(t,e,A,i,a,u,I,ne);return be.onDestroy(()=>function(n){n.parentNode.removeChild(n)}(N)),be}}class X0{constructor(t,e,i,a){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:Wb(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class EM{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test($a().toString()),this._cssKeyframesDriver=new kn}validateStyleProperty(t){return Pb(t)}matchesElement(t,e){return Nf(t,e)}containsElement(t,e){return Fb(t,e)}query(t,e,i){return Lb(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,i,a,u,f=[],_){if(!_&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,i,a,u,f);const I={duration:i,delay:a,fill:0==a?"both":"forwards"};u&&(I.easing=u);const A={},N=f.filter(ne=>ne instanceof X0);JA(i,a)&&N.forEach(ne=>{let be=ne.currentSnapshot;Object.keys(be).forEach(we=>A[we]=be[we])});const Y=eC(t,e=y0(t,e=e.map(ne=>rc(ne,!1)),A));return new X0(t,e,I,Y)}}function $a(){return jA()&&Element.prototype.animate||{}}let tS=(()=>{class n extends c0{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:l.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const a=Array.isArray(e)?Mb(e):e;return nS(this._renderer,null,i,"register",[a]),new sC(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.FYo),l.LFG(X))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class sC extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new oC(this._id,t,e||{},this._renderer)}}class oC{constructor(t,e,i,a){this.id=t,this.element=e,this._renderer=a,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return nS(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function nS(n,t,e,i,a){return n.setProperty(t,`@@${e}:${i}`,a)}const iS="@.disabled";let aC=(()=>{class n{constructor(e,i,a){this.delegate=e,this.engine=i,this._zone=a,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(u,f)=>{f&&f.parentNode(u)&&f.removeChild(u.parentNode,u)}}createRenderer(e,i){const u=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let I=this._rendererCache.get(u);return I||(I=new lC("",u,this.engine),this._rendererCache.set(u,I)),I}const f=i.id,_=i.id+"-"+this._currentId;this._currentId++,this.engine.register(_,e);const b=I=>{Array.isArray(I)?I.forEach(b):this.engine.registerTrigger(f,_,e,I.name,I)};return i.data.animation.forEach(b),new Bn(this,_,u,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,a){e>=0&&e<this._microtaskId?this._zone.run(()=>i(a)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(u=>{const[f,_]=u;f(_)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,a]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.FYo),l.LFG(Xb),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class lC{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?a=>e.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,a=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,a)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,a){this.delegate.setAttribute(t,e,i,a)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,a){this.delegate.setStyle(t,e,i,a)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==iS?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Bn extends lC{constructor(t,e,i,a){super(e,i,a),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==iS?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const a=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let u=e.substr(1),f="";return"@"!=u.charAt(0)&&([u,f]=function(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(u)),this.engine.listen(this.namespaceId,a,u,f,_=>{this.factory.scheduleListenerCallback(_._data||-1,i,_)})}return this.delegate.listen(t,e,i)}}let DM=(()=>{class n extends Xb{constructor(e,i,a){super(e.body,i,a)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(X),l.LFG(Im),l.LFG(qb))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const ud=new l.OlP("AnimationModuleType"),TM=[{provide:c0,useClass:tS},{provide:qb,useFactory:function(){return new OO}},{provide:Xb,useClass:DM},{provide:l.FYo,useFactory:function(n,t,e){return new aC(n,t,e)},deps:[Gr,Xb,l.R0b]}],IM=[{provide:Im,useFactory:function(){return"function"==typeof $a()?new EM:new kn}},{provide:ud,useValue:"BrowserAnimations"},...TM],rS=[{provide:Im,useClass:Bb},{provide:ud,useValue:"NoopAnimations"},...TM];let AM=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?rS:IM}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:IM,imports:[$d]}),n})();function Zm(n){return Array.isArray(n)?n:[n]}function Sn(n){return null==n?"":"string"==typeof n?n:`${n}px`}const aS=new l.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,l.f3M)(X)}});let cc,no=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new l.vpe,e){const a=e.documentElement?e.documentElement.dir:null,u=(e.body?e.body.dir:null)||a;this.value="ltr"===u||"rtl"===u?u:"ltr"}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(aS,8))},n.\u0275prov=l.Yz7({factory:function(){return new n(l.LFG(aS,8))},token:n,providedIn:"root"}),n})(),$f=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();try{cc="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){cc=!1}let uc,Yt=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function(n){return"browser"===n}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!cc)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.Lbi))},n.\u0275prov=l.Yz7({factory:function(){return new n(l.LFG(l.Lbi))},token:n,providedIn:"root"}),n})(),uC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();function kM(){if(null==uc){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return uc=!1,uc;if("scrollBehavior"in document.documentElement.style)uc=!0;else{const n=Element.prototype.scrollTo;uc=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return uc}const za="undefined"!=typeof window?window:{};function Jm(){return void 0!==za.__karma__&&!!za.__karma__||void 0!==za.jasmine&&!!za.jasmine||void 0!==za.jest&&!!za.jest||void 0!==za.Mocha&&!!za.Mocha}var lS=x(9105);function hd(n,t,e,i){return(0,lS.m)(e)&&(i=e,e=void 0),i?hd(n,t,e).pipe((0,it.U)(a=>(0,Bh.k)(a)?i(...a):i(a))):new nn.y(a=>{Xm(n,t,function(f){a.next(arguments.length>1?Array.prototype.slice.call(arguments):f)},a,e)})}function Xm(n,t,e,i,a){let u;if(function(n){return n&&"function"==typeof n.addEventListener&&"function"==typeof n.removeEventListener}(n)){const f=n;n.addEventListener(t,e,a),u=()=>f.removeEventListener(t,e,a)}else if(function(n){return n&&"function"==typeof n.on&&"function"==typeof n.off}(n)){const f=n;n.on(t,e),u=()=>f.off(t,e)}else if(function(n){return n&&"function"==typeof n.addListener&&"function"==typeof n.removeListener}(n)){const f=n;n.addListener(t,e),u=()=>f.removeListener(t,e)}else{if(!n||!n.length)throw new TypeError("Invalid event target");for(let f=0,_=n.length;f<_;f++)Xm(n[f],t,e,i,a)}i.add(u)}var cS=x(6465),NM=x(6102);new class extends NM.v{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let i,a=-1,u=e.length;t=t||e.shift();do{if(i=t.execute(t.state,t.delay))break}while(++a<u&&(t=e.shift()));if(this.active=!1,i){for(;++a<u&&(t=e.shift());)t.unsubscribe();throw i}}}(class extends cS.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,i=0){if(null!==i&&i>0||null===i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}});x(4581);class pC{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new BM(t,this.durationSelector))}}class BM extends Ji.Ds{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let e;try{const{durationSelector:a}=this;e=a(t)}catch(a){return this.destination.error(a)}const i=(0,Ji.ft)(e,new Ji.IY(this));!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:t,hasValue:e,throttled:i}=this;i&&(this.remove(i),this.throttled=void 0,i.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var oi=x(6561);function n_(n){const{index:t,period:e,subscriber:i}=n;if(i.next(t),!i.closed){if(-1===e)return i.complete();n.index=t+1,this.schedule(n,e)}}function i_(n,t=Ps.P){return function(n){return function(e){return e.lift(new pC(n))}}(()=>function(n=0,t,e){let i=-1;return(0,oi.k)(t)?i=Number(t)<1?1:Number(t):(0,ju.K)(t)&&(e=t),(0,ju.K)(e)||(e=Ps.P),new nn.y(a=>{const u=(0,oi.k)(n)?n:+n-e.now();return e.schedule(n_,u,{index:0,period:i,subscriber:a})})}(n,t))}class gC{constructor(t){this.notifier=t}call(t,e){const i=new hS(t),a=(0,Ji.ft)(this.notifier,new Ji.IY(i));return a&&!i.seenValue?(i.add(a),e.subscribe(i)):i}}class hS extends Ji.Ds{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}let io=(()=>{class n{constructor(e,i,a){this._ngZone=e,this._platform=i,this._scrolled=new ft.xQ,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=a}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new nn.y(i=>{this._globalSubscription||this._addGlobalListener();const a=e>0?this._scrolled.pipe(i_(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{a.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,Ve.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const a=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(os(u=>!u||a.indexOf(u)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((a,u)=>{this._scrollableContainsElement(u,e)&&i.push(u)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let a=function(n){return n instanceof l.SBq?n.nativeElement:n}(i),u=e.getElementRef().nativeElement;do{if(a==u)return!0}while(a=a.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>hd(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.R0b),l.LFG(Yt),l.LFG(X,8))},n.\u0275prov=l.Yz7({factory:function(){return new n(l.LFG(l.R0b),l.LFG(Yt),l.LFG(X,8))},token:n,providedIn:"root"}),n})(),hc=(()=>{class n{constructor(e,i,a){this._platform=e,this._change=new ft.xQ,this._changeListener=u=>{this._change.next(u)},this._document=a,i.runOutsideAngular(()=>{if(e.isBrowser){const u=this._getWindow();u.addEventListener("resize",this._changeListener),u.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:a}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+a,right:e.left+i,height:a,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),a=e.documentElement,u=a.getBoundingClientRect();return{top:-u.top||e.body.scrollTop||i.scrollY||a.scrollTop||0,left:-u.left||e.body.scrollLeft||i.scrollX||a.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(i_(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Yt),l.LFG(l.R0b),l.LFG(X,8))},n.\u0275prov=l.Yz7({factory:function(){return new n(l.LFG(Yt),l.LFG(l.R0b),l.LFG(X,8))},token:n,providedIn:"root"}),n})(),o_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),vC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[$f,uC,o_],$f,o_]}),n})(),et=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[vC]]}),n})(),rR=(()=>{class n{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({factory:function(){return new n},token:n,providedIn:"root"}),n})(),ok=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[rR]}),n})();"undefined"!=typeof Element&&Element;const Dk="cdk-high-contrast-black-on-white",Sk="cdk-high-contrast-white-on-black",oR="cdk-high-contrast-active";let Tk=(()=>{class n{constructor(e,i){this._platform=e,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,a=i&&i.getComputedStyle?i.getComputedStyle(e):null,u=(a&&a.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(e),u){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(oR),e.remove(Dk),e.remove(Sk),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(e.add(oR),e.add(Dk)):2===i&&(e.add(oR),e.add(Sk))}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Yt),l.LFG(X))},n.\u0275prov=l.Yz7({factory:function(){return new n(l.LFG(Yt),l.LFG(X))},token:n,providedIn:"root"}),n})(),EP=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Tk))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[uC,ok]]}),n})();const Ik=new l.GfV("12.2.8"),Ak=new l.GfV("12.2.8"),MP=new l.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let Jf,Di=(()=>{class n{constructor(e,i,a){this._hasDoneGlobalChecks=!1,this._document=a,e._applyBodyHighContrastModeCssClasses(),this._sanityChecks=i,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!(!(0,l.X6Q)()||Jm())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const e=this._document.createElement("div");e.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(e);const i=getComputedStyle(e);i&&"none"!==i.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(e)}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&Ak.full!==Ik.full&&console.warn("The Angular Material version ("+Ak.full+") does not match the Angular CDK version ("+Ik.full+").\nPlease ensure the versions of these two packages exactly match.")}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Tk),l.LFG(MP,8),l.LFG(X))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[$f],$f]}),n})();try{Jf="undefined"!=typeof Intl}catch(n){Jf=!1}let Nk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Di,uC],Di]}),n})(),JP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Di]]}),n})(),Bk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Nk,Rs,Di,JP]]}),n})(),CN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[et,Di],Di]}),n})(),TN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Nk,Di],Di]}),n})();class uR{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class qk extends uR{constructor(t,e,i,a){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=a}}class dR extends uR{constructor(t,e,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class IN extends uR{constructor(t){super(),this.element=t instanceof l.SBq?t.nativeElement:t}}class AN extends class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof qk?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof dR?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof IN?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(t,e,i,a,u){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=a,this.attachDomPortal=f=>{const _=f.element,b=this._document.createComment("dom-portal");_.parentNode.insertBefore(b,_),this.outletElement.appendChild(_),this._attachedPortal=f,super.setDisposeFn(()=>{b.parentNode&&b.parentNode.replaceChild(_,b)})},this._document=u}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let a;return t.viewContainerRef?(a=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>a.destroy())):(a=i.create(t.injector||this._defaultInjector),this._appRef.attachView(a.hostView),this.setDisposeFn(()=>{this._appRef.detachView(a.hostView),a.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(a)),this._attachedPortal=t,a}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context);return i.rootNodes.forEach(a=>this.outletElement.appendChild(a)),i.detectChanges(),this.setDisposeFn(()=>{let a=e.indexOf(i);-1!==a&&e.remove(a)}),this._attachedPortal=t,i}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let MN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const Xk=kM();class xN{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Sn(-this._previousScrollPosition.left),t.style.top=Sn(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,a=this._document.body.style,u=i.scrollBehavior||"",f=a.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),Xk&&(i.scrollBehavior=a.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Xk&&(i.scrollBehavior=u,a.scrollBehavior=f)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class PN{constructor(t,e,i,a){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=a,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class ex{enable(){}disable(){}attach(){}}function hR(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function tx(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class NN{constructor(t,e,i,a){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=a,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:a}=this._viewportRuler.getViewportSize();hR(e,[{width:i,height:a,bottom:a,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let FN=(()=>{class n{constructor(e,i,a,u){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=a,this.noop=()=>new ex,this.close=f=>new PN(this._scrollDispatcher,this._ngZone,this._viewportRuler,f),this.block=()=>new xN(this._viewportRuler,this._document),this.reposition=f=>new NN(this._scrollDispatcher,this._viewportRuler,this._ngZone,f),this._document=u}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(io),l.LFG(hc),l.LFG(l.R0b),l.LFG(X))},n.\u0275prov=l.Yz7({factory:function(){return new n(l.LFG(io),l.LFG(hc),l.LFG(l.R0b),l.LFG(X))},token:n,providedIn:"root"}),n})();class nx{constructor(t){if(this.scrollStrategy=new ex,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class LN{constructor(t,e,i,a,u){this.offsetX=i,this.offsetY=a,this.panelClass=u,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class VN{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let ix=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(X))},n.\u0275prov=l.Yz7({factory:function(){return new n(l.LFG(X))},token:n,providedIn:"root"}),n})(),BN=(()=>{class n extends ix{constructor(e){super(e),this._keydownListener=i=>{const a=this._attachedOverlays;for(let u=a.length-1;u>-1;u--)if(a[u]._keydownEvents.observers.length>0){a[u]._keydownEvents.next(i);break}}}add(e){super.add(e),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(X))},n.\u0275prov=l.Yz7({factory:function(){return new n(l.LFG(X))},token:n,providedIn:"root"}),n})(),UN=(()=>{class n extends ix{constructor(e,i){super(e),this._platform=i,this._cursorStyleIsSet=!1,this._clickListener=a=>{const u=function(n){return n.composedPath?n.composedPath()[0]:n.target}(a),f=this._attachedOverlays.slice();for(let _=f.length-1;_>-1;_--){const b=f[_];if(!(b._outsidePointerEvents.observers.length<1)&&b.hasAttached()){if(b.overlayElement.contains(u))break;b._outsidePointerEvents.next(a)}}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;i.addEventListener("click",this._clickListener,!0),i.addEventListener("auxclick",this._clickListener,!0),i.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(X),l.LFG(Yt))},n.\u0275prov=l.Yz7({factory:function(){return new n(l.LFG(X),l.LFG(Yt))},token:n,providedIn:"root"}),n})(),fR=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){const e=this._containerElement;e&&e.parentNode&&e.parentNode.removeChild(e)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||Jm()){const a=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let u=0;u<a.length;u++)a[u].parentNode.removeChild(a[u])}const i=this._document.createElement("div");i.classList.add(e),Jm()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(X),l.LFG(Yt))},n.\u0275prov=l.Yz7({factory:function(){return new n(l.LFG(X),l.LFG(Yt))},token:n,providedIn:"root"}),n})();class HN{constructor(t,e,i,a,u,f,_,b,D){this._portalOutlet=t,this._host=e,this._pane=i,this._config=a,this._ngZone=u,this._keyboardDispatcher=f,this._document=_,this._location=b,this._outsideClickDispatcher=D,this._backdropElement=null,this._backdropClick=new ft.xQ,this._attachments=new ft.xQ,this._detachments=new ft.xQ,this._locationChanges=ss.w.EMPTY,this._backdropClickHandler=I=>this._backdropClick.next(I),this._keydownEvents=new ft.xQ,this._outsidePointerEvents=new ft.xQ,a.scrollStrategy&&(this._scrollStrategy=a.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=a.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Fr(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Sn(this._config.width),t.height=Sn(this._config.height),t.minWidth=Sn(this._config.minWidth),t.minHeight=Sn(this._config.minHeight),t.maxWidth=Sn(this._config.maxWidth),t.maxHeight=Sn(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(!t)return;let e;const i=()=>{t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",i),this._disposeBackdrop(t)),this._config.backdropClass&&this._toggleClasses(t,this._config.backdropClass,!1),clearTimeout(e)};t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",i)}),t.style.pointerEvents="none",e=this._ngZone.runOutsideAngular(()=>setTimeout(i,500))}_toggleClasses(t,e,i){const a=t.classList;Zm(e).forEach(u=>{u&&(i?a.add(u):a.remove(u))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(function(n){return t=>t.lift(new gC(n))}((0,Qi.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.parentNode&&t.parentNode.removeChild(t),this._backdropElement===t&&(this._backdropElement=null))}}const rx="cdk-overlay-connected-position-bounding-box",jN=/([A-Za-z%]+)$/;class sx{constructor(t,e,i,a,u){this._viewportRuler=e,this._document=i,this._platform=a,this._overlayContainer=u,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ft.xQ,this._resizeSubscription=ss.w.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(rx),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,a=[];let u;for(let f of this._preferredPositions){let _=this._getOriginPoint(t,f),b=this._getOverlayPoint(_,e,f),D=this._getOverlayFit(b,e,i,f);if(D.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(f,_);this._canFitWithFlexibleDimensions(D,b,i)?a.push({position:f,origin:_,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(_,f)}):(!u||u.overlayFit.visibleArea<D.visibleArea)&&(u={overlayFit:D,overlayPoint:b,originPoint:_,position:f,overlayRect:e})}if(a.length){let f=null,_=-1;for(const b of a){const D=b.boundingBoxRect.width*b.boundingBoxRect.height*(b.position.weight||1);D>_&&(_=D,f=b)}return this._isPushed=!1,void this._applyPosition(f.position,f.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Xf(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(rx),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let i,a;if("center"==e.originX)i=t.left+t.width/2;else{const u=this._isRtl()?t.right:t.left,f=this._isRtl()?t.left:t.right;i="start"==e.originX?u:f}return a="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:i,y:a}}_getOverlayPoint(t,e,i){let a,u;return a="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,u="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+a,y:t.y+u}}_getOverlayFit(t,e,i,a){const u=ax(e);let{x:f,y:_}=t,b=this._getOffset(a,"x"),D=this._getOffset(a,"y");b&&(f+=b),D&&(_+=D);let N=0-_,Y=_+u.height-i.height,ne=this._subtractOverflows(u.width,0-f,f+u.width-i.width),be=this._subtractOverflows(u.height,N,Y),we=ne*be;return{visibleArea:we,isCompletelyWithinViewport:u.width*u.height===we,fitsInViewportVertically:be===u.height,fitsInViewportHorizontally:ne==u.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const a=i.bottom-e.y,u=i.right-e.x,f=ox(this._overlayRef.getConfig().minHeight),_=ox(this._overlayRef.getConfig().minWidth),D=t.fitsInViewportHorizontally||null!=_&&_<=u;return(t.fitsInViewportVertically||null!=f&&f<=a)&&D}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const a=ax(e),u=this._viewportRect,f=Math.max(t.x+a.width-u.width,0),_=Math.max(t.y+a.height-u.height,0),b=Math.max(u.top-i.top-t.y,0),D=Math.max(u.left-i.left-t.x,0);let I=0,A=0;return I=a.width<=u.width?D||-f:t.x<this._viewportMargin?u.left-i.left-t.x:0,A=a.height<=u.height?b||-_:t.y<this._viewportMargin?u.top-i.top-t.y:0,this._previousPushAmount={x:I,y:A},{x:t.x+I,y:t.y+A}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),a=new VN(t,i);this._positionChanges.next(a)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,a=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let u=0;u<e.length;u++)e[u].style.transformOrigin=`${i} ${a}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,a=this._isRtl();let u,f,_,I,A,N;if("top"===e.overlayY)f=t.y,u=i.height-f+this._viewportMargin;else if("bottom"===e.overlayY)_=i.height-t.y+2*this._viewportMargin,u=i.height-_+this._viewportMargin;else{const Y=Math.min(i.bottom-t.y+i.top,t.y),ne=this._lastBoundingBoxSize.height;u=2*Y,f=t.y-Y,u>ne&&!this._isInitialRender&&!this._growAfterOpen&&(f=t.y-ne/2)}if("end"===e.overlayX&&!a||"start"===e.overlayX&&a)N=i.width-t.x+this._viewportMargin,I=t.x-this._viewportMargin;else if("start"===e.overlayX&&!a||"end"===e.overlayX&&a)A=t.x,I=i.right-t.x;else{const Y=Math.min(i.right-t.x+i.left,t.x),ne=this._lastBoundingBoxSize.width;I=2*Y,A=t.x-Y,I>ne&&!this._isInitialRender&&!this._growAfterOpen&&(A=t.x-ne/2)}return{top:f,left:A,bottom:_,right:N,width:I,height:u}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const a={};if(this._hasExactPosition())a.top=a.left="0",a.bottom=a.right=a.maxHeight=a.maxWidth="",a.width=a.height="100%";else{const u=this._overlayRef.getConfig().maxHeight,f=this._overlayRef.getConfig().maxWidth;a.height=Sn(i.height),a.top=Sn(i.top),a.bottom=Sn(i.bottom),a.width=Sn(i.width),a.left=Sn(i.left),a.right=Sn(i.right),a.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",a.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",u&&(a.maxHeight=Sn(u)),f&&(a.maxWidth=Sn(f))}this._lastBoundingBoxSize=i,Xf(this._boundingBox.style,a)}_resetBoundingBoxStyles(){Xf(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Xf(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},a=this._hasExactPosition(),u=this._hasFlexibleDimensions,f=this._overlayRef.getConfig();if(a){const I=this._viewportRuler.getViewportScrollPosition();Xf(i,this._getExactOverlayY(e,t,I)),Xf(i,this._getExactOverlayX(e,t,I))}else i.position="static";let _="",b=this._getOffset(e,"x"),D=this._getOffset(e,"y");b&&(_+=`translateX(${b}px) `),D&&(_+=`translateY(${D}px)`),i.transform=_.trim(),f.maxHeight&&(a?i.maxHeight=Sn(f.maxHeight):u&&(i.maxHeight="")),f.maxWidth&&(a?i.maxWidth=Sn(f.maxWidth):u&&(i.maxWidth="")),Xf(this._pane.style,i)}_getExactOverlayY(t,e,i){let a={top:"",bottom:""},u=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(u=this._pushOverlayOnScreen(u,this._overlayRect,i));let f=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return u.y-=f,"bottom"===t.overlayY?a.bottom=this._document.documentElement.clientHeight-(u.y+this._overlayRect.height)+"px":a.top=Sn(u.y),a}_getExactOverlayX(t,e,i){let f,a={left:"",right:""},u=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(u=this._pushOverlayOnScreen(u,this._overlayRect,i)),f=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===f?a.right=this._document.documentElement.clientWidth-(u.x+this._overlayRect.width)+"px":a.left=Sn(u.x),a}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(a=>a.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:tx(t,i),isOriginOutsideView:hR(t,i),isOverlayClipped:tx(e,i),isOverlayOutsideView:hR(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,a)=>i-Math.max(a,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Zm(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof l.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function Xf(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function ox(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(jN);return e&&"px"!==e?null:parseFloat(t)}return n||null}function ax(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}class GN{constructor(t,e,i,a,u,f,_){this._preferredPositions=[],this._positionStrategy=new sx(i,a,u,f,_).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,i,a){const u=new LN(t,e,i,a);return this._preferredPositions.push(u),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}const lx="cdk-global-overlay-wrapper";class $N{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(lx),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:a,height:u,maxWidth:f,maxHeight:_}=i,b=!("100%"!==a&&"100vw"!==a||f&&"100%"!==f&&"100vw"!==f),D=!("100%"!==u&&"100vh"!==u||_&&"100%"!==_&&"100vh"!==_);t.position=this._cssPosition,t.marginLeft=b?"0":this._leftOffset,t.marginTop=D?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,b?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=D?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(lx),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let zN=(()=>{class n{constructor(e,i,a,u){this._viewportRuler=e,this._document=i,this._platform=a,this._overlayContainer=u}global(){return new $N}connectedTo(e,i,a){return new GN(i,a,e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(e){return new sx(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(hc),l.LFG(X),l.LFG(Yt),l.LFG(fR))},n.\u0275prov=l.Yz7({factory:function(){return new n(l.LFG(hc),l.LFG(X),l.LFG(Yt),l.LFG(fR))},token:n,providedIn:"root"}),n})(),WN=0,ep=(()=>{class n{constructor(e,i,a,u,f,_,b,D,I,A,N){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=a,this._positionBuilder=u,this._keyboardDispatcher=f,this._injector=_,this._ngZone=b,this._document=D,this._directionality=I,this._location=A,this._outsideClickDispatcher=N}create(e){const i=this._createHostElement(),a=this._createPaneElement(i),u=this._createPortalOutlet(a),f=new nx(e);return f.direction=f.direction||this._directionality.value,new HN(u,i,a,f,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+WN++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(l.z2F)),new AN(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(FN),l.LFG(fR),l.LFG(l._Vd),l.LFG(zN),l.LFG(BN),l.LFG(l.zs3),l.LFG(l.R0b),l.LFG(X),l.LFG(no),l.LFG(Xe),l.LFG(UN))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const KN={provide:new l.OlP("cdk-connected-overlay-scroll-strategy"),deps:[ep],useFactory:function(n){return()=>n.scrollStrategies.reposition()}};let dx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[ep,KN],imports:[[$f,MN,vC],vC]}),n})(),EF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Rs,Di,ok],Di]}),n})();const FF={provide:new l.OlP("mat-select-scroll-strategy"),deps:[ep],useFactory:function(n){return()=>n.scrollStrategies.reposition()}};let HF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[FF],imports:[[Rs,dx,Bk,Di],o_,EF,Bk,Di]}),n})();const KF={provide:new l.OlP("mat-tooltip-scroll-strategy"),deps:[ep],useFactory:function(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}};let i1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[KF],imports:[[EP,Rs,dx,Di],Di,o_]}),n})(),AC=(()=>{class n{constructor(){this.changes=new ft.xQ,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,i,a)=>{if(0==a||0==i)return`0 of ${a}`;const u=e*i;return`${u+1} \u2013 ${u<(a=Math.max(a,0))?Math.min(u+i,a):u+i} of ${a}`}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({factory:function(){return new n},token:n,providedIn:"root"}),n})();const d1={provide:AC,deps:[[new l.FiY,new l.tp0,AC]],useFactory:function(n){return n||new AC}};let m1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[d1],imports:[[Rs,TN,HF,i1,Di]]}),n})(),_1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n,bootstrap:[PA]}),n.\u0275inj=l.cJS({providers:[],imports:[[$d,Ab,EA,t0,$n.hO.initializeApp(Nc_firebaseConfig),$n.hO,AM,CN,m1,yw,RA]]}),n})();(0,l.G48)(),pl().bootstrapModule(_1).catch(n=>console.error(n))},4762:(Me,me,x)=>{"use strict";function he(se,oe){var pe={};for(var le in se)Object.prototype.hasOwnProperty.call(se,le)&&oe.indexOf(le)<0&&(pe[le]=se[le]);if(null!=se&&"function"==typeof Object.getOwnPropertySymbols){var ce=0;for(le=Object.getOwnPropertySymbols(se);ce<le.length;ce++)oe.indexOf(le[ce])<0&&Object.prototype.propertyIsEnumerable.call(se,le[ce])&&(pe[le[ce]]=se[le[ce]])}return pe}function Z(se,oe,pe,le){return new(pe||(pe=Promise))(function(J,Te){function ke(Le){try{Ue(le.next(Le))}catch(qe){Te(qe)}}function ct(Le){try{Ue(le.throw(Le))}catch(qe){Te(qe)}}function Ue(Le){Le.done?J(Le.value):function(J){return J instanceof pe?J:new pe(function(Te){Te(J)})}(Le.value).then(ke,ct)}Ue((le=le.apply(se,oe||[])).next())})}function H(se,oe){var le,ce,J,Te,pe={label:0,sent:function(){if(1&J[0])throw J[1];return J[1]},trys:[],ops:[]};return Te={next:ke(0),throw:ke(1),return:ke(2)},"function"==typeof Symbol&&(Te[Symbol.iterator]=function(){return this}),Te;function ke(Ue){return function(Le){return function(Ue){if(le)throw new TypeError("Generator is already executing.");for(;pe;)try{if(le=1,ce&&(J=2&Ue[0]?ce.return:Ue[0]?ce.throw||((J=ce.return)&&J.call(ce),0):ce.next)&&!(J=J.call(ce,Ue[1])).done)return J;switch(ce=0,J&&(Ue=[2&Ue[0],J.value]),Ue[0]){case 0:case 1:J=Ue;break;case 4:return pe.label++,{value:Ue[1],done:!1};case 5:pe.label++,ce=Ue[1],Ue=[0];continue;case 7:Ue=pe.ops.pop(),pe.trys.pop();continue;default:if(!(J=(J=pe.trys).length>0&&J[J.length-1])&&(6===Ue[0]||2===Ue[0])){pe=0;continue}if(3===Ue[0]&&(!J||Ue[1]>J[0]&&Ue[1]<J[3])){pe.label=Ue[1];break}if(6===Ue[0]&&pe.label<J[1]){pe.label=J[1],J=Ue;break}if(J&&pe.label<J[2]){pe.label=J[2],pe.ops.push(Ue);break}J[2]&&pe.ops.pop(),pe.trys.pop();continue}Ue=oe.call(se,pe)}catch(Le){Ue=[6,Le],ce=0}finally{le=J=0}if(5&Ue[0])throw Ue[1];return{value:Ue[0]?Ue[1]:void 0,done:!0}}([Ue,Le])}}}function V(se){var oe="function"==typeof Symbol&&Symbol.iterator,pe=oe&&se[oe],le=0;if(pe)return pe.call(se);if(se&&"number"==typeof se.length)return{next:function(){return se&&le>=se.length&&(se=void 0),{value:se&&se[le++],done:!se}}};throw new TypeError(oe?"Object is not iterable.":"Symbol.iterator is not defined.")}function ee(se,oe){var pe="function"==typeof Symbol&&se[Symbol.iterator];if(!pe)return se;var ce,Te,le=pe.call(se),J=[];try{for(;(void 0===oe||oe-- >0)&&!(ce=le.next()).done;)J.push(ce.value)}catch(ke){Te={error:ke}}finally{try{ce&&!ce.done&&(pe=le.return)&&pe.call(le)}finally{if(Te)throw Te.error}}return J}function te(se,oe,pe){if(pe||2===arguments.length)for(var J,le=0,ce=oe.length;le<ce;le++)(J||!(le in oe))&&(J||(J=Array.prototype.slice.call(oe,0,le)),J[le]=oe[le]);return se.concat(J||Array.prototype.slice.call(oe))}x.d(me,{_T:()=>he,mG:()=>Z,Jh:()=>H,XA:()=>V,CR:()=>ee,ev:()=>te})},8239:(Me,me,x)=>{"use strict";function l(B,he,de,q,X,Z,H){try{var k=B[Z](H),F=k.value}catch(V){return void de(V)}k.done?he(F):Promise.resolve(F).then(q,X)}function Q(B){return function(){var he=this,de=arguments;return new Promise(function(q,X){var Z=B.apply(he,de);function H(F){l(Z,q,X,H,k,"next",F)}function k(F){l(Z,q,X,H,k,"throw",F)}H(void 0)})}}x.d(me,{Z:()=>Q})}},Me=>{Me(Me.s=4786)}]);